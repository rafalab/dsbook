<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to Data Science</title>
  <meta name="description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to Data Science" />
  
  <meta name="twitter:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  

<meta name="author" content="Rafael A. Irizarry">


<meta name="date" content="2018-10-29">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="ensembles.html">
<link rel="next" href="recommendation-systems.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.3.1/str_view.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#case-studies"><i class="fa fa-check"></i><b>1.1</b> Case studies</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#who-will-find-this-book-useful"><i class="fa fa-check"></i><b>1.2</b> Who will find this book useful?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-does-this-book-cover"><i class="fa fa-check"></i><b>1.3</b> What does this book cover?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#what-is-not-covered-by-this-book"><i class="fa fa-check"></i><b>1.4</b> What is not covered by this book?</a></li>
</ul></li>
<li class="part"><span><b>I R Basics</b></span></li>
<li class="chapter" data-level="2" data-path="case-study-us-gun-murders.html"><a href="case-study-us-gun-murders.html"><i class="fa fa-check"></i><b>2</b> Case study: US Gun Murders</a></li>
<li class="chapter" data-level="3" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-started.html"><a href="getting-started.html#why-r"><i class="fa fa-check"></i><b>3.1</b> Why R?</a></li>
<li class="chapter" data-level="3.2" data-path="getting-started.html"><a href="getting-started.html#installing-r"><i class="fa fa-check"></i><b>3.2</b> Installing R</a></li>
<li class="chapter" data-level="3.3" data-path="getting-started.html"><a href="getting-started.html#the-r-console"><i class="fa fa-check"></i><b>3.3</b> The R console</a></li>
<li class="chapter" data-level="3.4" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>3.4</b> Scripts</a></li>
<li class="chapter" data-level="3.5" data-path="getting-started.html"><a href="getting-started.html#installing-rstudio"><i class="fa fa-check"></i><b>3.5</b> Installing RStudio</a></li>
<li class="chapter" data-level="3.6" data-path="getting-started.html"><a href="getting-started.html#the-r-ecosystem"><i class="fa fa-check"></i><b>3.6</b> The R ecosystem</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-very-basics.html"><a href="the-very-basics.html"><i class="fa fa-check"></i><b>4</b> The very basics</a><ul>
<li class="chapter" data-level="4.1" data-path="the-very-basics.html"><a href="the-very-basics.html#objects"><i class="fa fa-check"></i><b>4.1</b> Objects</a></li>
<li class="chapter" data-level="4.2" data-path="the-very-basics.html"><a href="the-very-basics.html#the-workspace"><i class="fa fa-check"></i><b>4.2</b> The workspace</a></li>
<li class="chapter" data-level="4.3" data-path="the-very-basics.html"><a href="the-very-basics.html#functions"><i class="fa fa-check"></i><b>4.3</b> Functions</a></li>
<li class="chapter" data-level="4.4" data-path="the-very-basics.html"><a href="the-very-basics.html#other-prebuilt-objects"><i class="fa fa-check"></i><b>4.4</b> Other prebuilt objects</a></li>
<li class="chapter" data-level="4.5" data-path="the-very-basics.html"><a href="the-very-basics.html#variable-names"><i class="fa fa-check"></i><b>4.5</b> Variable names</a></li>
<li class="chapter" data-level="4.6" data-path="the-very-basics.html"><a href="the-very-basics.html#saving-your-workspace"><i class="fa fa-check"></i><b>4.6</b> Saving your workspace</a></li>
<li class="chapter" data-level="4.7" data-path="the-very-basics.html"><a href="the-very-basics.html#scripts-1"><i class="fa fa-check"></i><b>4.7</b> Scripts</a></li>
<li class="chapter" data-level="4.8" data-path="the-very-basics.html"><a href="the-very-basics.html#comments"><i class="fa fa-check"></i><b>4.8</b> Comments</a></li>
<li class="chapter" data-level="" data-path="the-very-basics.html"><a href="the-very-basics.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>5</b> Data types</a><ul>
<li class="chapter" data-level="5.1" data-path="data-types.html"><a href="data-types.html#data-frames"><i class="fa fa-check"></i><b>5.1</b> Data frames</a></li>
<li class="chapter" data-level="5.2" data-path="data-types.html"><a href="data-types.html#examining-an-object"><i class="fa fa-check"></i><b>5.2</b> Examining an object</a></li>
<li class="chapter" data-level="5.3" data-path="data-types.html"><a href="data-types.html#the-accessor"><i class="fa fa-check"></i><b>5.3</b> The accessor: <code>$</code></a></li>
<li class="chapter" data-level="5.4" data-path="data-types.html"><a href="data-types.html#vectors-numerics-characters-and-logical"><i class="fa fa-check"></i><b>5.4</b> Vectors: numerics, characters, and logical</a></li>
<li class="chapter" data-level="5.5" data-path="data-types.html"><a href="data-types.html#factors"><i class="fa fa-check"></i><b>5.5</b> Factors</a></li>
<li class="chapter" data-level="5.6" data-path="data-types.html"><a href="data-types.html#lists"><i class="fa fa-check"></i><b>5.6</b> Lists</a></li>
<li class="chapter" data-level="5.7" data-path="data-types.html"><a href="data-types.html#matrices"><i class="fa fa-check"></i><b>5.7</b> Matrices</a></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>6</b> Vectors</a><ul>
<li class="chapter" data-level="6.1" data-path="vectors.html"><a href="vectors.html#creating-vectors"><i class="fa fa-check"></i><b>6.1</b> Creating vectors</a></li>
<li class="chapter" data-level="6.2" data-path="vectors.html"><a href="vectors.html#names"><i class="fa fa-check"></i><b>6.2</b> Names</a></li>
<li class="chapter" data-level="6.3" data-path="vectors.html"><a href="vectors.html#sequences"><i class="fa fa-check"></i><b>6.3</b> Sequences</a></li>
<li class="chapter" data-level="6.4" data-path="vectors.html"><a href="vectors.html#subsetting"><i class="fa fa-check"></i><b>6.4</b> Subsetting</a></li>
<li class="chapter" data-level="6.5" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>6.5</b> Coercion</a></li>
<li class="chapter" data-level="6.6" data-path="vectors.html"><a href="vectors.html#not-availables-na"><i class="fa fa-check"></i><b>6.6</b> Not availables (NA)</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercises-2"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>7</b> Sorting</a><ul>
<li class="chapter" data-level="7.1" data-path="sorting.html"><a href="sorting.html#sort"><i class="fa fa-check"></i><b>7.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="7.2" data-path="sorting.html"><a href="sorting.html#order"><i class="fa fa-check"></i><b>7.2</b> <code>order</code></a></li>
<li class="chapter" data-level="7.3" data-path="sorting.html"><a href="sorting.html#max-and-which.max"><i class="fa fa-check"></i><b>7.3</b> <code>max</code> and <code>which.max</code></a></li>
<li class="chapter" data-level="7.4" data-path="sorting.html"><a href="sorting.html#rank"><i class="fa fa-check"></i><b>7.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="7.5" data-path="sorting.html"><a href="sorting.html#beware-of-recycling"><i class="fa fa-check"></i><b>7.5</b> Beware of recycling</a></li>
<li class="chapter" data-level="" data-path="sorting.html"><a href="sorting.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html"><i class="fa fa-check"></i><b>8</b> Vector arithmetics</a><ul>
<li class="chapter" data-level="8.1" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#rescaling"><i class="fa fa-check"></i><b>8.1</b> Rescaling</a></li>
<li class="chapter" data-level="8.2" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#two-vectors"><i class="fa fa-check"></i><b>8.2</b> Two vectors</a></li>
<li class="chapter" data-level="" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#exercises-3"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="indexing.html"><a href="indexing.html"><i class="fa fa-check"></i><b>9</b> Indexing</a><ul>
<li class="chapter" data-level="9.1" data-path="indexing.html"><a href="indexing.html#subsetting-with-logicals"><i class="fa fa-check"></i><b>9.1</b> Subsetting with logicals</a></li>
<li class="chapter" data-level="9.2" data-path="indexing.html"><a href="indexing.html#logical-operators"><i class="fa fa-check"></i><b>9.2</b> Logical operators</a></li>
<li class="chapter" data-level="9.3" data-path="indexing.html"><a href="indexing.html#which"><i class="fa fa-check"></i><b>9.3</b> <code>which</code></a></li>
<li class="chapter" data-level="9.4" data-path="indexing.html"><a href="indexing.html#match"><i class="fa fa-check"></i><b>9.4</b> <code>match</code></a></li>
<li class="chapter" data-level="9.5" data-path="indexing.html"><a href="indexing.html#in"><i class="fa fa-check"></i><b>9.5</b> <code>%in%</code></a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercises-4"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html"><i class="fa fa-check"></i><b>10</b> Basic data wrangling</a><ul>
<li class="chapter" data-level="10.1" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#adding-a-column-with-mutate"><i class="fa fa-check"></i><b>10.1</b> Adding a column with <code>mutate</code></a></li>
<li class="chapter" data-level="10.2" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#subsetting-with-filter"><i class="fa fa-check"></i><b>10.2</b> Subsetting with <code>filter</code></a></li>
<li class="chapter" data-level="10.3" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#selecting-columns-with-select"><i class="fa fa-check"></i><b>10.3</b> Selecting columns with <code>select</code></a></li>
<li class="chapter" data-level="10.4" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#the-pipe"><i class="fa fa-check"></i><b>10.4</b> The pipe: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="10.5" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#creating-a-data-frame"><i class="fa fa-check"></i><b>10.5</b> Creating a data frame</a></li>
<li class="chapter" data-level="" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#exercises-5"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="basic-plots.html"><a href="basic-plots.html"><i class="fa fa-check"></i><b>11</b> Basic plots</a><ul>
<li class="chapter" data-level="11.1" data-path="basic-plots.html"><a href="basic-plots.html#scatterplots"><i class="fa fa-check"></i><b>11.1</b> Scatterplots</a></li>
<li class="chapter" data-level="11.2" data-path="basic-plots.html"><a href="basic-plots.html#histograms"><i class="fa fa-check"></i><b>11.2</b> Histograms</a></li>
<li class="chapter" data-level="11.3" data-path="basic-plots.html"><a href="basic-plots.html#boxplot"><i class="fa fa-check"></i><b>11.3</b> Boxplot</a></li>
<li class="chapter" data-level="" data-path="basic-plots.html"><a href="basic-plots.html#exercises-6"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>12</b> Importing data</a><ul>
<li class="chapter" data-level="12.1" data-path="importing-data.html"><a href="importing-data.html#paths-and-the-working-directory"><i class="fa fa-check"></i><b>12.1</b> Paths and the working directory</a></li>
<li class="chapter" data-level="12.2" data-path="importing-data.html"><a href="importing-data.html#read.csv"><i class="fa fa-check"></i><b>12.2</b> <code>read.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="programming-basics.html"><a href="programming-basics.html"><i class="fa fa-check"></i><b>13</b> Programming basics</a><ul>
<li class="chapter" data-level="13.1" data-path="programming-basics.html"><a href="programming-basics.html#conditionals-expressions"><i class="fa fa-check"></i><b>13.1</b> Conditionals expressions</a></li>
<li class="chapter" data-level="13.2" data-path="programming-basics.html"><a href="programming-basics.html#defining-functions"><i class="fa fa-check"></i><b>13.2</b> Defining functions</a></li>
<li class="chapter" data-level="13.3" data-path="programming-basics.html"><a href="programming-basics.html#namespaces"><i class="fa fa-check"></i><b>13.3</b> Namespaces</a></li>
<li class="chapter" data-level="13.4" data-path="programming-basics.html"><a href="programming-basics.html#for-loops"><i class="fa fa-check"></i><b>13.4</b> For-loops</a></li>
<li class="chapter" data-level="13.5" data-path="programming-basics.html"><a href="programming-basics.html#vectorization-and-functionals"><i class="fa fa-check"></i><b>13.5</b> Vectorization and functionals</a></li>
<li class="chapter" data-level="13.6" data-path="programming-basics.html"><a href="programming-basics.html#map"><i class="fa fa-check"></i><b>13.6</b> map</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercises-7.html"><a href="exercises-7.html"><i class="fa fa-check"></i>Exercises</a></li>
<li class="part"><span><b>II Data Visualization</b></span></li>
<li class="chapter" data-level="14" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>14</b> Distributions</a><ul>
<li class="chapter" data-level="14.1" data-path="distributions.html"><a href="distributions.html#variable-types"><i class="fa fa-check"></i><b>14.1</b> Variable types</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="14.2" data-path="distributions.html"><a href="distributions.html#case-study-student-heights"><i class="fa fa-check"></i><b>14.2</b> Case study: Student heights</a></li>
<li class="chapter" data-level="14.3" data-path="distributions.html"><a href="distributions.html#distribution-function"><i class="fa fa-check"></i><b>14.3</b> Distribution function</a></li>
<li class="chapter" data-level="14.4" data-path="distributions.html"><a href="distributions.html#cumulative-distribution-functions"><i class="fa fa-check"></i><b>14.4</b> Cumulative distribution functions</a></li>
<li class="chapter" data-level="14.5" data-path="distributions.html"><a href="distributions.html#histograms-1"><i class="fa fa-check"></i><b>14.5</b> Histograms</a></li>
<li class="chapter" data-level="14.6" data-path="distributions.html"><a href="distributions.html#smoothed-density"><i class="fa fa-check"></i><b>14.6</b> Smoothed density</a><ul>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#interpreting-the-y-axis"><i class="fa fa-check"></i>Interpreting the y-axis</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#densities-permit-stratification"><i class="fa fa-check"></i>Densities permit stratification</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-9"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="14.7" data-path="distributions.html"><a href="distributions.html#the-normal-distribution"><i class="fa fa-check"></i><b>14.7</b> The normal distribution</a></li>
<li class="chapter" data-level="14.8" data-path="distributions.html"><a href="distributions.html#standardized-units"><i class="fa fa-check"></i><b>14.8</b> Standardized units</a></li>
<li class="chapter" data-level="14.9" data-path="distributions.html"><a href="distributions.html#quantile-quantile-qq-plots"><i class="fa fa-check"></i><b>14.9</b> Quantile-quantile QQ plots</a></li>
<li class="chapter" data-level="14.10" data-path="distributions.html"><a href="distributions.html#percentiles"><i class="fa fa-check"></i><b>14.10</b> Percentiles</a></li>
<li class="chapter" data-level="14.11" data-path="distributions.html"><a href="distributions.html#case-study-student-heights-continued"><i class="fa fa-check"></i><b>14.11</b> Case study: Student heights (continued)</a></li>
<li class="chapter" data-level="14.12" data-path="distributions.html"><a href="distributions.html#boxplots"><i class="fa fa-check"></i><b>14.12</b> Boxplots</a></li>
<li class="chapter" data-level="14.13" data-path="distributions.html"><a href="distributions.html#case-study-student-heights-continued-1"><i class="fa fa-check"></i><b>14.13</b> Case study: Student heights (continued)</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-10"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>15</b> Robust summaries</a><ul>
<li class="chapter" data-level="15.1" data-path="robust-summaries.html"><a href="robust-summaries.html#outliers"><i class="fa fa-check"></i><b>15.1</b> Outliers</a></li>
<li class="chapter" data-level="15.2" data-path="robust-summaries.html"><a href="robust-summaries.html#median"><i class="fa fa-check"></i><b>15.2</b> Median</a></li>
<li class="chapter" data-level="15.3" data-path="robust-summaries.html"><a href="robust-summaries.html#the-inter-quartile-range-iqr"><i class="fa fa-check"></i><b>15.3</b> The inter quartile range (IQR)</a></li>
<li class="chapter" data-level="15.4" data-path="robust-summaries.html"><a href="robust-summaries.html#tukeys-definition-of-an-outlier"><i class="fa fa-check"></i><b>15.4</b> Tukey’s definition of an outlier</a></li>
<li class="chapter" data-level="15.5" data-path="robust-summaries.html"><a href="robust-summaries.html#median-absolute-deviation"><i class="fa fa-check"></i><b>15.5</b> Median absolute deviation</a></li>
<li class="chapter" data-level="" data-path="robust-summaries.html"><a href="robust-summaries.html#exercises-11"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="15.6" data-path="robust-summaries.html"><a href="robust-summaries.html#case-study-self-reported-student-heights"><i class="fa fa-check"></i><b>15.6</b> Case study: Self-reported student heights</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html"><i class="fa fa-check"></i><b>16</b> Summarizing data with dplyr</a><ul>
<li class="chapter" data-level="16.1" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#summarize"><i class="fa fa-check"></i><b>16.1</b> Summarize</a></li>
<li class="chapter" data-level="16.2" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#the-dot-operator"><i class="fa fa-check"></i><b>16.2</b> The dot operator</a></li>
<li class="chapter" data-level="16.3" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#group-then-summarize"><i class="fa fa-check"></i><b>16.3</b> Group then summarize</a></li>
<li class="chapter" data-level="16.4" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#sorting-data-frames"><i class="fa fa-check"></i><b>16.4</b> Sorting data frames</a><ul>
<li class="chapter" data-level="" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#nested-sorting"><i class="fa fa-check"></i>Nested sorting</a></li>
<li><a href="summarizing-data-with-dplyr.html#the-top-n">The top <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#exercises-12"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>17</b> ggplot2</a><ul>
<li class="chapter" data-level="17.1" data-path="ggplot2.html"><a href="ggplot2.html#the-cheat-sheet"><i class="fa fa-check"></i><b>17.1</b> The cheat sheet</a></li>
<li class="chapter" data-level="17.2" data-path="ggplot2.html"><a href="ggplot2.html#the-components-of-a-graph"><i class="fa fa-check"></i><b>17.2</b> The components of a graph</a></li>
<li class="chapter" data-level="17.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot-objects-a-blank-slate"><i class="fa fa-check"></i><b>17.3</b> <code>ggplot</code> objects: a blank slate</a></li>
<li class="chapter" data-level="17.4" data-path="ggplot2.html"><a href="ggplot2.html#geometries"><i class="fa fa-check"></i><b>17.4</b> Geometries</a></li>
<li class="chapter" data-level="17.5" data-path="ggplot2.html"><a href="ggplot2.html#aesthetic-mappings"><i class="fa fa-check"></i><b>17.5</b> Aesthetic mappings</a></li>
<li class="chapter" data-level="17.6" data-path="ggplot2.html"><a href="ggplot2.html#layers"><i class="fa fa-check"></i><b>17.6</b> Layers</a></li>
<li class="chapter" data-level="17.7" data-path="ggplot2.html"><a href="ggplot2.html#tinkering-with-arguments"><i class="fa fa-check"></i><b>17.7</b> Tinkering with arguments</a></li>
<li class="chapter" data-level="17.8" data-path="ggplot2.html"><a href="ggplot2.html#global-versus-local-aesthetic-mappings"><i class="fa fa-check"></i><b>17.8</b> Global versus local aesthetic mappings</a></li>
<li class="chapter" data-level="17.9" data-path="ggplot2.html"><a href="ggplot2.html#scales"><i class="fa fa-check"></i><b>17.9</b> Scales</a></li>
<li class="chapter" data-level="17.10" data-path="ggplot2.html"><a href="ggplot2.html#labels-and-titles"><i class="fa fa-check"></i><b>17.10</b> Labels and titles</a></li>
<li class="chapter" data-level="17.11" data-path="ggplot2.html"><a href="ggplot2.html#categories-as-colors"><i class="fa fa-check"></i><b>17.11</b> Categories as colors</a></li>
<li class="chapter" data-level="17.12" data-path="ggplot2.html"><a href="ggplot2.html#annotation-and-shapes"><i class="fa fa-check"></i><b>17.12</b> Annotation and shapes</a></li>
<li class="chapter" data-level="17.13" data-path="ggplot2.html"><a href="ggplot2.html#adjustments"><i class="fa fa-check"></i><b>17.13</b> Adjustments</a></li>
<li class="chapter" data-level="17.14" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>17.14</b> Add-on packages</a></li>
<li class="chapter" data-level="17.15" data-path="ggplot2.html"><a href="ggplot2.html#putting-it-all-together"><i class="fa fa-check"></i><b>17.15</b> Putting it all together</a></li>
<li class="chapter" data-level="17.16" data-path="ggplot2.html"><a href="ggplot2.html#other-geometries"><i class="fa fa-check"></i><b>17.16</b> Other geometries</a><ul>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#histogram"><i class="fa fa-check"></i>Histogram</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#density"><i class="fa fa-check"></i>Density</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#qq-plots"><i class="fa fa-check"></i>QQ-plots</a></li>
</ul></li>
<li class="chapter" data-level="17.17" data-path="ggplot2.html"><a href="ggplot2.html#grids-of-plots"><i class="fa fa-check"></i><b>17.17</b> Grids of plots</a></li>
<li class="chapter" data-level="17.18" data-path="ggplot2.html"><a href="ggplot2.html#quick-plots-with-qplot"><i class="fa fa-check"></i><b>17.18</b> Quick plots with <code>qplot</code></a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#exercises-13"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html"><i class="fa fa-check"></i><b>18</b> Case study: Trends in world health and economics</a><ul>
<li class="chapter" data-level="18.1" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#example-1-life-expectancy-and-fertility-rates"><i class="fa fa-check"></i><b>18.1</b> Example 1: Life expectancy and fertility rates</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#hans-roslings-quiz"><i class="fa fa-check"></i>Hans Rosling’s quiz</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#a-scatterplot"><i class="fa fa-check"></i>A scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#faceting"><i class="fa fa-check"></i><b>18.2</b> Faceting</a><ul>
<li><a href="case-study-trends-in-world-health-and-economics.html#facet_wrap"><code>facet_wrap</code></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#fixed-scales-for-better-comparisons"><i class="fa fa-check"></i><b>18.3</b> Fixed scales for better comparisons</a></li>
<li class="chapter" data-level="18.4" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#time-series-plots"><i class="fa fa-check"></i><b>18.4</b> Time series plots</a></li>
<li class="chapter" data-level="18.5" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#labels-for-legends"><i class="fa fa-check"></i><b>18.5</b> Labels for legends</a></li>
<li class="chapter" data-level="18.6" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#example-2-income-distribution"><i class="fa fa-check"></i><b>18.6</b> Example 2: Income distribution</a></li>
<li class="chapter" data-level="18.7" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#transformations"><i class="fa fa-check"></i><b>18.7</b> Transformations</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#country-income-distribution"><i class="fa fa-check"></i>Country income distribution</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#which-base"><i class="fa fa-check"></i>Which base?</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#transform-the-values-or-the-scale"><i class="fa fa-check"></i>Transform the values or the scale?</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#modes"><i class="fa fa-check"></i><b>18.8</b> Modes</a></li>
<li class="chapter" data-level="18.9" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#stratify-and-boxplot"><i class="fa fa-check"></i><b>18.9</b> Stratify and boxplot</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#do-not-order-alphabetically"><i class="fa fa-check"></i>Do not order alphabetically</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#show-the-data"><i class="fa fa-check"></i>Show the data</a></li>
</ul></li>
<li class="chapter" data-level="18.10" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#comparing-distributions"><i class="fa fa-check"></i><b>18.10</b> Comparing distributions</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#density-plots"><i class="fa fa-check"></i>Density plots</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#accessing-computed-variables"><i class="fa fa-check"></i>Accessing computed variables</a></li>
<li class="chapter" data-level="18.10.1" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#case_when"><i class="fa fa-check"></i><b>18.10.1</b> ‘case_when’</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#weighted-densities"><i class="fa fa-check"></i>Weighted densities</a></li>
</ul></li>
<li class="chapter" data-level="18.11" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#ecological-fallacy"><i class="fa fa-check"></i><b>18.11</b> Ecological fallacy</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#logistic-transformation"><i class="fa fa-check"></i>Logistic transformation</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#show-the-data-1"><i class="fa fa-check"></i>Show the data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html"><i class="fa fa-check"></i><b>19</b> Data visualization principles</a><ul>
<li class="chapter" data-level="19.1" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#encoding-data-using-visual-cues"><i class="fa fa-check"></i><b>19.1</b> Encoding data using visual cues</a></li>
<li class="chapter" data-level="19.2" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#know-when-to-include-0"><i class="fa fa-check"></i><b>19.2</b> Know when to include 0</a></li>
<li class="chapter" data-level="19.3" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#do-not-distort-quantities"><i class="fa fa-check"></i><b>19.3</b> Do not distort quantities</a></li>
<li class="chapter" data-level="19.4" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#order-by-a-meaningful-value"><i class="fa fa-check"></i><b>19.4</b> Order by a meaningful value</a></li>
<li class="chapter" data-level="19.5" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#show-the-data-2"><i class="fa fa-check"></i><b>19.5</b> Show the data</a></li>
<li class="chapter" data-level="19.6" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-use-common-axes"><i class="fa fa-check"></i><b>19.6</b> Ease comparisons: use common axes</a></li>
<li class="chapter" data-level="19.7" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-align-plots-vertically-to-see-horizontal-changes-and-horizontally-to-see-vertical-changes"><i class="fa fa-check"></i><b>19.7</b> Ease comparisons: align plots vertically to see horizontal changes and horizontally to see vertical changes</a></li>
<li class="chapter" data-level="19.8" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#consider-transformations"><i class="fa fa-check"></i><b>19.8</b> Consider transformations</a></li>
<li class="chapter" data-level="19.9" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-visual-cues-to-be-compared-should-be-adjacent"><i class="fa fa-check"></i><b>19.9</b> Ease comparisons: visual cues to be compared should be adjacent</a></li>
<li class="chapter" data-level="19.10" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparison-use-color"><i class="fa fa-check"></i><b>19.10</b> Ease comparison: use color</a></li>
<li class="chapter" data-level="19.11" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#think-of-the-color-blind"><i class="fa fa-check"></i><b>19.11</b> Think of the color blind</a></li>
<li class="chapter" data-level="19.12" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#use-scatterplots-to-examine-the-relationship-between-two-variables"><i class="fa fa-check"></i><b>19.12</b> Use scatterplots to examine the relationship between two variables</a><ul>
<li class="chapter" data-level="19.12.1" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#slope-charts"><i class="fa fa-check"></i><b>19.12.1</b> Slope charts</a></li>
<li class="chapter" data-level="19.12.2" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#bland-altman-plot"><i class="fa fa-check"></i><b>19.12.2</b> Bland-Altman plot</a></li>
</ul></li>
<li class="chapter" data-level="19.13" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#encoding-a-third-variable"><i class="fa fa-check"></i><b>19.13</b> Encoding a third variable</a></li>
<li class="chapter" data-level="19.14" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-pseudo-three-dimensional-plots"><i class="fa fa-check"></i><b>19.14</b> Avoid pseudo three dimensional plots</a></li>
<li class="chapter" data-level="19.15" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-gratuitous-three-dimensional-plots"><i class="fa fa-check"></i><b>19.15</b> Avoid gratuitous three dimensional plots</a></li>
<li class="chapter" data-level="19.16" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-too-many-significant-digits"><i class="fa fa-check"></i><b>19.16</b> Avoid too many significant digits</a></li>
<li class="chapter" data-level="19.17" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#know-your-audience"><i class="fa fa-check"></i><b>19.17</b> Know your audience</a></li>
<li class="chapter" data-level="19.18" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#further-reading"><i class="fa fa-check"></i><b>19.18</b> Further reading:</a></li>
<li class="chapter" data-level="" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#exercises-14"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><a href="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><i class="fa fa-check"></i><b>20</b> Case study: The impact of vaccines on battling infectious diseases</a><ul>
<li class="chapter" data-level="" data-path="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><a href="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html#exercises-15"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Probability</b></span></li>
<li class="chapter" data-level="21" data-path="discrete-probability.html"><a href="discrete-probability.html"><i class="fa fa-check"></i><b>21</b> Discrete probability</a><ul>
<li class="chapter" data-level="21.1" data-path="discrete-probability.html"><a href="discrete-probability.html#relative-frequency"><i class="fa fa-check"></i><b>21.1</b> Relative frequency</a></li>
<li class="chapter" data-level="21.2" data-path="discrete-probability.html"><a href="discrete-probability.html#notation"><i class="fa fa-check"></i><b>21.2</b> Notation</a></li>
<li class="chapter" data-level="21.3" data-path="discrete-probability.html"><a href="discrete-probability.html#monte-carlo-simulations"><i class="fa fa-check"></i><b>21.3</b> Monte Carlo simulations</a></li>
<li class="chapter" data-level="21.4" data-path="discrete-probability.html"><a href="discrete-probability.html#setting-the-random-seed"><i class="fa fa-check"></i><b>21.4</b> Setting the random seed</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#with-and-without-replacement"><i class="fa fa-check"></i>With and without replacement</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="discrete-probability.html"><a href="discrete-probability.html#probability-distributions"><i class="fa fa-check"></i><b>21.5</b> Probability distributions</a></li>
<li class="chapter" data-level="21.6" data-path="discrete-probability.html"><a href="discrete-probability.html#independence"><i class="fa fa-check"></i><b>21.6</b> Independence</a></li>
<li class="chapter" data-level="21.7" data-path="discrete-probability.html"><a href="discrete-probability.html#conditional-probabilities"><i class="fa fa-check"></i><b>21.7</b> Conditional probabilities</a></li>
<li class="chapter" data-level="21.8" data-path="discrete-probability.html"><a href="discrete-probability.html#multiplication-rule"><i class="fa fa-check"></i><b>21.8</b> Multiplication rule</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#multiplication-rule-under-indepedence"><i class="fa fa-check"></i>Multiplication rule under indepedence</a></li>
</ul></li>
<li class="chapter" data-level="21.9" data-path="discrete-probability.html"><a href="discrete-probability.html#combinations-and-permutations"><i class="fa fa-check"></i><b>21.9</b> Combinations and permutations</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#monte-carlo-example"><i class="fa fa-check"></i>Monte Carlo example</a></li>
</ul></li>
<li class="chapter" data-level="21.10" data-path="discrete-probability.html"><a href="discrete-probability.html#birthday-problem"><i class="fa fa-check"></i><b>21.10</b> Birthday problem</a></li>
<li class="chapter" data-level="21.11" data-path="discrete-probability.html"><a href="discrete-probability.html#how-many-monte-carlo-experiments-are-enough"><i class="fa fa-check"></i><b>21.11</b> How many Monte Carlo experiments are enough</a></li>
<li class="chapter" data-level="21.12" data-path="discrete-probability.html"><a href="discrete-probability.html#addition-rule"><i class="fa fa-check"></i><b>21.12</b> Addition rule</a></li>
<li class="chapter" data-level="21.13" data-path="discrete-probability.html"><a href="discrete-probability.html#monty-hall-problem"><i class="fa fa-check"></i><b>21.13</b> Monty Hall problem</a></li>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#exercises-16"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="continuous-probability.html"><a href="continuous-probability.html"><i class="fa fa-check"></i><b>22</b> Continuous probability</a><ul>
<li class="chapter" data-level="22.1" data-path="continuous-probability.html"><a href="continuous-probability.html#theoretical-distribution"><i class="fa fa-check"></i><b>22.1</b> Theoretical distribution</a></li>
<li class="chapter" data-level="22.2" data-path="continuous-probability.html"><a href="continuous-probability.html#approximations"><i class="fa fa-check"></i><b>22.2</b> Approximations</a></li>
<li class="chapter" data-level="22.3" data-path="continuous-probability.html"><a href="continuous-probability.html#the-probability-density"><i class="fa fa-check"></i><b>22.3</b> The probability density</a></li>
<li class="chapter" data-level="22.4" data-path="continuous-probability.html"><a href="continuous-probability.html#monte-carlo-simulations-1"><i class="fa fa-check"></i><b>22.4</b> Monte Carlo simulations</a></li>
<li class="chapter" data-level="22.5" data-path="continuous-probability.html"><a href="continuous-probability.html#other-continuous-distributions"><i class="fa fa-check"></i><b>22.5</b> Other continuous distributions</a></li>
<li class="chapter" data-level="" data-path="continuous-probability.html"><a href="continuous-probability.html#exercise-1"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="random-variables.html"><a href="random-variables.html"><i class="fa fa-check"></i><b>23</b> Random variables</a><ul>
<li class="chapter" data-level="23.1" data-path="random-variables.html"><a href="random-variables.html#sampling-models"><i class="fa fa-check"></i><b>23.1</b> Sampling models</a></li>
<li class="chapter" data-level="23.2" data-path="random-variables.html"><a href="random-variables.html#the-probability-distribution-of-a-random-variable"><i class="fa fa-check"></i><b>23.2</b> The probability distribution of a random variable</a></li>
<li class="chapter" data-level="23.3" data-path="random-variables.html"><a href="random-variables.html#distributions-versus-probability-distributions"><i class="fa fa-check"></i><b>23.3</b> Distributions versus probability distributions</a></li>
<li class="chapter" data-level="23.4" data-path="random-variables.html"><a href="random-variables.html#notation-for-random-variables"><i class="fa fa-check"></i><b>23.4</b> Notation for random variables</a></li>
<li class="chapter" data-level="23.5" data-path="random-variables.html"><a href="random-variables.html#central-limit-theorem"><i class="fa fa-check"></i><b>23.5</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="23.6" data-path="random-variables.html"><a href="random-variables.html#the-expected-value-and-standard-error"><i class="fa fa-check"></i><b>23.6</b> The expected value and standard error</a></li>
<li class="chapter" data-level="23.7" data-path="random-variables.html"><a href="random-variables.html#central-limit-theorem-approximation"><i class="fa fa-check"></i><b>23.7</b> Central Limit Theorem approximation</a></li>
<li class="chapter" data-level="23.8" data-path="random-variables.html"><a href="random-variables.html#statistical-properties-of-averages"><i class="fa fa-check"></i><b>23.8</b> Statistical properties of averages</a><ul>
<li><a href="random-variables.html#why-we-use-mu-and-sigma">Why we use <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span></a></li>
</ul></li>
<li class="chapter" data-level="23.9" data-path="random-variables.html"><a href="random-variables.html#law-of-large-numbers"><i class="fa fa-check"></i><b>23.9</b> Law of large numbers</a><ul>
<li class="chapter" data-level="23.9.1" data-path="random-variables.html"><a href="random-variables.html#misinterpreting-law-of-averages"><i class="fa fa-check"></i><b>23.9.1</b> Misinterpreting law of averages</a></li>
</ul></li>
<li class="chapter" data-level="23.10" data-path="random-variables.html"><a href="random-variables.html#how-large-is-large-in-clt"><i class="fa fa-check"></i><b>23.10</b> How large is large in CLT?</a></li>
<li class="chapter" data-level="23.11" data-path="random-variables.html"><a href="random-variables.html#population-sd-versus-the-sample-sd"><i class="fa fa-check"></i><b>23.11</b> Population SD versus the sample SD</a></li>
<li class="chapter" data-level="" data-path="random-variables.html"><a href="random-variables.html#exercises-17"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html"><i class="fa fa-check"></i><b>24</b> Case study: The Big Short</a><ul>
<li class="chapter" data-level="24.1" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#interest-rates-explained-with-chance-model"><i class="fa fa-check"></i><b>24.1</b> Interest rates explained with chance model</a></li>
<li class="chapter" data-level="24.2" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#the-big-short"><i class="fa fa-check"></i><b>24.2</b> The Big Short</a></li>
<li class="chapter" data-level="" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#exercises-18"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Inference and modeling</b></span></li>
<li class="chapter" data-level="25" data-path="polls.html"><a href="polls.html"><i class="fa fa-check"></i><b>25</b> Polls</a><ul>
<li class="chapter" data-level="25.1" data-path="polls.html"><a href="polls.html#opinion-polls"><i class="fa fa-check"></i><b>25.1</b> Opinion polls</a></li>
<li class="chapter" data-level="25.2" data-path="polls.html"><a href="polls.html#the-sampling-model-for-polls"><i class="fa fa-check"></i><b>25.2</b> The sampling model for polls</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html"><i class="fa fa-check"></i><b>26</b> Populations, samples, parameters and estimates</a><ul>
<li class="chapter" data-level="26.1" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#the-sample-average"><i class="fa fa-check"></i><b>26.1</b> The sample average</a></li>
<li class="chapter" data-level="26.2" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#parameters"><i class="fa fa-check"></i><b>26.2</b> Parameters</a></li>
<li class="chapter" data-level="26.3" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#polling-versus-forecasting"><i class="fa fa-check"></i><b>26.3</b> Polling versus forecasting</a></li>
<li class="chapter" data-level="26.4" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#properties-of-our-estimate-expected-value-and-standard-error"><i class="fa fa-check"></i><b>26.4</b> Properties of our estimate: expected value and standard error</a></li>
<li class="chapter" data-level="" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#exercises-19"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html"><i class="fa fa-check"></i><b>27</b> Central Limit Theorem in practice</a><ul>
<li class="chapter" data-level="27.1" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#a-monte-carlo-simulation"><i class="fa fa-check"></i><b>27.1</b> A Monte Carlo simulation</a></li>
<li class="chapter" data-level="27.2" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#the-spread"><i class="fa fa-check"></i><b>27.2</b> The spread</a></li>
<li class="chapter" data-level="27.3" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#bias-why-not-run-a-very-large-poll"><i class="fa fa-check"></i><b>27.3</b> Bias: why not run a very large poll?</a></li>
<li class="chapter" data-level="" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#exercises-20"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>28</b> Confidence intervals</a><ul>
<li class="chapter" data-level="28.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#a-monte-carlo-simulation-1"><i class="fa fa-check"></i><b>28.1</b> A Monte Carlo simulation</a></li>
<li class="chapter" data-level="28.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#the-correct-language"><i class="fa fa-check"></i><b>28.2</b> The correct language</a></li>
<li class="chapter" data-level="28.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#power"><i class="fa fa-check"></i><b>28.3</b> Power</a></li>
<li class="chapter" data-level="28.4" data-path="confidence-intervals.html"><a href="confidence-intervals.html#p-values"><i class="fa fa-check"></i><b>28.4</b> p-values</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#exercises-21"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="statistical-models.html"><a href="statistical-models.html"><i class="fa fa-check"></i><b>29</b> Statistical models</a><ul>
<li class="chapter" data-level="29.1" data-path="statistical-models.html"><a href="statistical-models.html#poll-aggregators"><i class="fa fa-check"></i><b>29.1</b> Poll aggregators</a></li>
<li class="chapter" data-level="29.2" data-path="statistical-models.html"><a href="statistical-models.html#poll-data"><i class="fa fa-check"></i><b>29.2</b> Poll data</a></li>
<li class="chapter" data-level="29.3" data-path="statistical-models.html"><a href="statistical-models.html#pollster-bias"><i class="fa fa-check"></i><b>29.3</b> Pollster bias</a></li>
<li class="chapter" data-level="29.4" data-path="statistical-models.html"><a href="statistical-models.html#data-driven-model"><i class="fa fa-check"></i><b>29.4</b> Data driven model</a></li>
<li class="chapter" data-level="" data-path="statistical-models.html"><a href="statistical-models.html#exercises-22"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html"><i class="fa fa-check"></i><b>30</b> Bayesian statistics</a><ul>
<li class="chapter" data-level="30.1" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-theorem"><i class="fa fa-check"></i><b>30.1</b> Bayes theorem</a></li>
<li class="chapter" data-level="30.2" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-theorem-simulation"><i class="fa fa-check"></i><b>30.2</b> Bayes Theorem simulation</a></li>
<li class="chapter" data-level="30.3" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-in-practice"><i class="fa fa-check"></i><b>30.3</b> Bayes in practice</a></li>
<li class="chapter" data-level="30.4" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#the-hierarchical-model"><i class="fa fa-check"></i><b>30.4</b> The hierarchical model</a></li>
<li class="chapter" data-level="" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#exercises-23"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html"><i class="fa fa-check"></i><b>31</b> Case study: Election forecasting</a><ul>
<li class="chapter" data-level="31.1" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#bayesian-approach"><i class="fa fa-check"></i><b>31.1</b> Bayesian approach</a></li>
<li class="chapter" data-level="31.2" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#the-general-bias"><i class="fa fa-check"></i><b>31.2</b> The general bias</a></li>
<li class="chapter" data-level="31.3" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#mathematical-representations-of-models"><i class="fa fa-check"></i><b>31.3</b> Mathematical representations of models</a></li>
<li class="chapter" data-level="31.4" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#predicting-the-electoral-college"><i class="fa fa-check"></i><b>31.4</b> Predicting the electoral college</a></li>
<li class="chapter" data-level="31.5" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#forecasting"><i class="fa fa-check"></i><b>31.5</b> Forecasting</a></li>
<li class="chapter" data-level="" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#exercise-2"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#exercises-24"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="association-tests.html"><a href="association-tests.html"><i class="fa fa-check"></i><b>32</b> Association Tests</a><ul>
<li class="chapter" data-level="32.1" data-path="association-tests.html"><a href="association-tests.html#lady-tasting-tea"><i class="fa fa-check"></i><b>32.1</b> Lady Tasting Tea</a></li>
<li class="chapter" data-level="32.2" data-path="association-tests.html"><a href="association-tests.html#two-by-two-tables"><i class="fa fa-check"></i><b>32.2</b> Two-by-two tables</a></li>
<li class="chapter" data-level="32.3" data-path="association-tests.html"><a href="association-tests.html#chi-square-test"><i class="fa fa-check"></i><b>32.3</b> Chi-square Test</a></li>
<li class="chapter" data-level="32.4" data-path="association-tests.html"><a href="association-tests.html#the-odds-ratio"><i class="fa fa-check"></i><b>32.4</b> The Odds Ratio</a></li>
<li class="chapter" data-level="32.5" data-path="association-tests.html"><a href="association-tests.html#large-samples-small-p-values"><i class="fa fa-check"></i><b>32.5</b> Large samples, small p-values</a></li>
<li class="chapter" data-level="32.6" data-path="association-tests.html"><a href="association-tests.html#confidence-intervals-for-the-odds-ratio"><i class="fa fa-check"></i><b>32.6</b> Confidence intervals for the odds ratio</a></li>
<li class="chapter" data-level="" data-path="association-tests.html"><a href="association-tests.html#exercises-25"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>V Data Wrangling</b></span></li>
<li class="chapter" data-level="33" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>33</b> Tidy data</a><ul>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercises-26"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="reshaping-data.html"><a href="reshaping-data.html"><i class="fa fa-check"></i><b>34</b> Reshaping data</a><ul>
<li class="chapter" data-level="34.1" data-path="reshaping-data.html"><a href="reshaping-data.html#gather"><i class="fa fa-check"></i><b>34.1</b> <code>gather</code></a></li>
<li class="chapter" data-level="34.2" data-path="reshaping-data.html"><a href="reshaping-data.html#spread"><i class="fa fa-check"></i><b>34.2</b> <code>spread</code></a></li>
<li class="chapter" data-level="34.3" data-path="reshaping-data.html"><a href="reshaping-data.html#separate"><i class="fa fa-check"></i><b>34.3</b> <code>separate</code></a></li>
<li class="chapter" data-level="34.4" data-path="reshaping-data.html"><a href="reshaping-data.html#unite"><i class="fa fa-check"></i><b>34.4</b> <code>unite</code></a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#exercises-27"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="combining-tables.html"><a href="combining-tables.html"><i class="fa fa-check"></i><b>35</b> Combining tables</a><ul>
<li class="chapter" data-level="35.1" data-path="combining-tables.html"><a href="combining-tables.html#joins"><i class="fa fa-check"></i><b>35.1</b> Joins</a><ul>
<li class="chapter" data-level="35.1.1" data-path="combining-tables.html"><a href="combining-tables.html#left-join"><i class="fa fa-check"></i><b>35.1.1</b> Left join</a></li>
<li class="chapter" data-level="35.1.2" data-path="combining-tables.html"><a href="combining-tables.html#right-join"><i class="fa fa-check"></i><b>35.1.2</b> Right join</a></li>
<li class="chapter" data-level="35.1.3" data-path="combining-tables.html"><a href="combining-tables.html#inner-join"><i class="fa fa-check"></i><b>35.1.3</b> Inner join</a></li>
<li class="chapter" data-level="35.1.4" data-path="combining-tables.html"><a href="combining-tables.html#full-join"><i class="fa fa-check"></i><b>35.1.4</b> Full join</a></li>
<li class="chapter" data-level="35.1.5" data-path="combining-tables.html"><a href="combining-tables.html#semi-join"><i class="fa fa-check"></i><b>35.1.5</b> Semi join</a></li>
<li class="chapter" data-level="35.1.6" data-path="combining-tables.html"><a href="combining-tables.html#anti-join"><i class="fa fa-check"></i><b>35.1.6</b> Anti join</a></li>
</ul></li>
<li class="chapter" data-level="35.2" data-path="combining-tables.html"><a href="combining-tables.html#binding"><i class="fa fa-check"></i><b>35.2</b> Binding</a><ul>
<li class="chapter" data-level="35.2.1" data-path="combining-tables.html"><a href="combining-tables.html#binding-columns"><i class="fa fa-check"></i><b>35.2.1</b> Binding columns</a></li>
<li class="chapter" data-level="35.2.2" data-path="combining-tables.html"><a href="combining-tables.html#binding-by-rows"><i class="fa fa-check"></i><b>35.2.2</b> Binding by rows</a></li>
</ul></li>
<li class="chapter" data-level="35.3" data-path="combining-tables.html"><a href="combining-tables.html#set-operators"><i class="fa fa-check"></i><b>35.3</b> Set operators</a><ul>
<li class="chapter" data-level="35.3.1" data-path="combining-tables.html"><a href="combining-tables.html#intersect"><i class="fa fa-check"></i><b>35.3.1</b> Intersect</a></li>
<li class="chapter" data-level="35.3.2" data-path="combining-tables.html"><a href="combining-tables.html#union"><i class="fa fa-check"></i><b>35.3.2</b> Union</a></li>
<li class="chapter" data-level="35.3.3" data-path="combining-tables.html"><a href="combining-tables.html#setdiff"><i class="fa fa-check"></i><b>35.3.3</b> <code>setdiff</code></a></li>
<li class="chapter" data-level="35.3.4" data-path="combining-tables.html"><a href="combining-tables.html#setequal"><i class="fa fa-check"></i><b>35.3.4</b> <code>setequal</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="combining-tables.html"><a href="combining-tables.html#exercises-28"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>36</b> Data import</a><ul>
<li class="chapter" data-level="36.1" data-path="data-import.html"><a href="data-import.html#text-versus-binary-files"><i class="fa fa-check"></i><b>36.1</b> Text versus binary files</a></li>
<li class="chapter" data-level="36.2" data-path="data-import.html"><a href="data-import.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>36.2</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="36.3" data-path="data-import.html"><a href="data-import.html#importing-spreadsheets"><i class="fa fa-check"></i><b>36.3</b> Importing spreadsheets</a></li>
<li class="chapter" data-level="36.4" data-path="data-import.html"><a href="data-import.html#paths-and-the-working-directory-1"><i class="fa fa-check"></i><b>36.4</b> Paths and the Working Directory</a></li>
<li class="chapter" data-level="36.5" data-path="data-import.html"><a href="data-import.html#the-readr-and-readxl-packages"><i class="fa fa-check"></i><b>36.5</b> The readr and readxl packages</a></li>
<li class="chapter" data-level="36.6" data-path="data-import.html"><a href="data-import.html#r-base-functions"><i class="fa fa-check"></i><b>36.6</b> R-base functions</a><ul>
<li class="chapter" data-level="36.6.1" data-path="data-import.html"><a href="data-import.html#downloading-files"><i class="fa fa-check"></i><b>36.6.1</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="36.7" data-path="data-import.html"><a href="data-import.html#nuances"><i class="fa fa-check"></i><b>36.7</b> Nuances</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercises-29"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>37</b> Web Scraping</a><ul>
<li class="chapter" data-level="37.1" data-path="web-scraping.html"><a href="web-scraping.html#html"><i class="fa fa-check"></i><b>37.1</b> HTML</a></li>
<li class="chapter" data-level="37.2" data-path="web-scraping.html"><a href="web-scraping.html#the-rvest-package"><i class="fa fa-check"></i><b>37.2</b> The rvest package</a></li>
<li class="chapter" data-level="37.3" data-path="web-scraping.html"><a href="web-scraping.html#css-selectors"><i class="fa fa-check"></i><b>37.3</b> CSS selectors</a></li>
<li class="chapter" data-level="37.4" data-path="web-scraping.html"><a href="web-scraping.html#json"><i class="fa fa-check"></i><b>37.4</b> JSON</a></li>
<li class="chapter" data-level="" data-path="web-scraping.html"><a href="web-scraping.html#exercises-30"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="string-processing.html"><a href="string-processing.html"><i class="fa fa-check"></i><b>38</b> String Processing</a><ul>
<li class="chapter" data-level="38.1" data-path="string-processing.html"><a href="string-processing.html#defining-strings-single-and-double-quotes-and-how-to-escape"><i class="fa fa-check"></i><b>38.1</b> Defining strings: single and double quotes and how to escape</a></li>
<li class="chapter" data-level="38.2" data-path="string-processing.html"><a href="string-processing.html#the-stringr-package"><i class="fa fa-check"></i><b>38.2</b> The stringr package</a><ul>
<li class="chapter" data-level="38.2.1" data-path="string-processing.html"><a href="string-processing.html#the-str_-functions"><i class="fa fa-check"></i><b>38.2.1</b> The <code>str_</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="38.3" data-path="string-processing.html"><a href="string-processing.html#case-study-1-us-murders-data"><i class="fa fa-check"></i><b>38.3</b> Case study 1: US murders data</a></li>
<li class="chapter" data-level="38.4" data-path="string-processing.html"><a href="string-processing.html#case-study-2-reported-heights"><i class="fa fa-check"></i><b>38.4</b> Case study 2: Reported heights</a></li>
<li class="chapter" data-level="38.5" data-path="string-processing.html"><a href="string-processing.html#regular-expressions"><i class="fa fa-check"></i><b>38.5</b> Regular expressions</a><ul>
<li class="chapter" data-level="38.5.1" data-path="string-processing.html"><a href="string-processing.html#a-string"><i class="fa fa-check"></i><b>38.5.1</b> A string</a></li>
<li class="chapter" data-level="38.5.2" data-path="string-processing.html"><a href="string-processing.html#special-characters"><i class="fa fa-check"></i><b>38.5.2</b> Special characters</a></li>
<li class="chapter" data-level="38.5.3" data-path="string-processing.html"><a href="string-processing.html#testing"><i class="fa fa-check"></i><b>38.5.3</b> Testing</a></li>
<li class="chapter" data-level="38.5.4" data-path="string-processing.html"><a href="string-processing.html#character-classes"><i class="fa fa-check"></i><b>38.5.4</b> Character classes</a></li>
<li class="chapter" data-level="38.5.5" data-path="string-processing.html"><a href="string-processing.html#anchors"><i class="fa fa-check"></i><b>38.5.5</b> Anchors</a></li>
<li class="chapter" data-level="38.5.6" data-path="string-processing.html"><a href="string-processing.html#quantifiers"><i class="fa fa-check"></i><b>38.5.6</b> Quantifiers</a></li>
<li class="chapter" data-level="38.5.7" data-path="string-processing.html"><a href="string-processing.html#not"><i class="fa fa-check"></i><b>38.5.7</b> Not</a></li>
<li class="chapter" data-level="38.5.8" data-path="string-processing.html"><a href="string-processing.html#search-and-replace-with-regex"><i class="fa fa-check"></i><b>38.5.8</b> Search and replace with regex</a></li>
<li class="chapter" data-level="38.5.9" data-path="string-processing.html"><a href="string-processing.html#white-space-s"><i class="fa fa-check"></i><b>38.5.9</b> White space <code>\s</code></a></li>
<li class="chapter" data-level="38.5.10" data-path="string-processing.html"><a href="string-processing.html#quantifiers-1"><i class="fa fa-check"></i><b>38.5.10</b> Quantifiers: <code>*</code>, <code>?</code>, <code>+</code></a></li>
<li class="chapter" data-level="38.5.11" data-path="string-processing.html"><a href="string-processing.html#groups"><i class="fa fa-check"></i><b>38.5.11</b> Groups</a></li>
<li class="chapter" data-level="38.5.12" data-path="string-processing.html"><a href="string-processing.html#search-and-replace-using-groups"><i class="fa fa-check"></i><b>38.5.12</b> Search and replace using groups</a></li>
<li class="chapter" data-level="38.5.13" data-path="string-processing.html"><a href="string-processing.html#testing-and-improving"><i class="fa fa-check"></i><b>38.5.13</b> Testing and improving</a></li>
<li class="chapter" data-level="38.5.14" data-path="string-processing.html"><a href="string-processing.html#using-groups-and-quantifiers"><i class="fa fa-check"></i><b>38.5.14</b> Using groups and quantifiers</a></li>
</ul></li>
<li class="chapter" data-level="38.6" data-path="string-processing.html"><a href="string-processing.html#stringr-package-continued"><i class="fa fa-check"></i><b>38.6</b> Stringr package (continued)</a><ul>
<li class="chapter" data-level="38.6.1" data-path="string-processing.html"><a href="string-processing.html#trimming"><i class="fa fa-check"></i><b>38.6.1</b> Trimming</a></li>
<li class="chapter" data-level="38.6.2" data-path="string-processing.html"><a href="string-processing.html#to-uppercase-and-to-lowercase"><i class="fa fa-check"></i><b>38.6.2</b> To uppercase and to lowercase</a></li>
</ul></li>
<li class="chapter" data-level="38.7" data-path="string-processing.html"><a href="string-processing.html#case-study-2-reported-heights-continued"><i class="fa fa-check"></i><b>38.7</b> Case study 2: Reported heights (continued)</a></li>
<li class="chapter" data-level="38.8" data-path="string-processing.html"><a href="string-processing.html#separate-1"><i class="fa fa-check"></i><b>38.8</b> <code>separate</code></a></li>
<li class="chapter" data-level="38.9" data-path="string-processing.html"><a href="string-processing.html#case-study-2-reported-heights-continued-1"><i class="fa fa-check"></i><b>38.9</b> Case study 2: Reported heights (continued)</a></li>
<li class="chapter" data-level="38.10" data-path="string-processing.html"><a href="string-processing.html#string-splitting"><i class="fa fa-check"></i><b>38.10</b> String splitting</a></li>
<li class="chapter" data-level="38.11" data-path="string-processing.html"><a href="string-processing.html#case-study-3-extracting-tables-from-a-pdf"><i class="fa fa-check"></i><b>38.11</b> Case study 3: Extracting tables from a PDF</a></li>
<li class="chapter" data-level="38.12" data-path="string-processing.html"><a href="string-processing.html#re-coding"><i class="fa fa-check"></i><b>38.12</b> Re-coding</a></li>
<li class="chapter" data-level="" data-path="string-processing.html"><a href="string-processing.html#exercises-31"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html"><i class="fa fa-check"></i><b>39</b> Parsing Dates and Times</a><ul>
<li class="chapter" data-level="39.1" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html#the-date-data-type"><i class="fa fa-check"></i><b>39.1</b> The date data type</a></li>
<li class="chapter" data-level="39.2" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html#the-lubridate-package"><i class="fa fa-check"></i><b>39.2</b> The lubridate package</a></li>
<li class="chapter" data-level="" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html#exercises-32"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>40</b> Text mining</a><ul>
<li class="chapter" data-level="40.1" data-path="text-mining.html"><a href="text-mining.html#case-study-trump-tweets"><i class="fa fa-check"></i><b>40.1</b> Case study: Trump tweets</a></li>
<li class="chapter" data-level="40.2" data-path="text-mining.html"><a href="text-mining.html#text-as-data"><i class="fa fa-check"></i><b>40.2</b> Text as data</a></li>
<li class="chapter" data-level="40.3" data-path="text-mining.html"><a href="text-mining.html#sentiment-analysis"><i class="fa fa-check"></i><b>40.3</b> Sentiment analysis</a></li>
<li class="chapter" data-level="" data-path="text-mining.html"><a href="text-mining.html#exercises-33"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="organizing-data-with-spreadsheets.html"><a href="organizing-data-with-spreadsheets.html"><i class="fa fa-check"></i><b>41</b> Organizing Data with Spreadsheets</a><ul>
<li class="chapter" data-level="" data-path="organizing-data-with-spreadsheets.html"><a href="organizing-data-with-spreadsheets.html#exercises-34"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>VI Regression</b></span></li>
<li class="chapter" data-level="42" data-path="case-study-is-height-hereditary.html"><a href="case-study-is-height-hereditary.html"><i class="fa fa-check"></i><b>42</b> Case study: Is height hereditary?</a></li>
<li class="chapter" data-level="43" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html"><i class="fa fa-check"></i><b>43</b> Correlation and the regression line</a><ul>
<li class="chapter" data-level="43.1" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#the-correlation-coefficient"><i class="fa fa-check"></i><b>43.1</b> The correlation coefficient</a></li>
<li class="chapter" data-level="43.2" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#sample-correlation-is-a-random-variable"><i class="fa fa-check"></i><b>43.2</b> Sample correlation is a random variable</a></li>
<li class="chapter" data-level="43.3" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#when-is-correlation-a-useful-summary"><i class="fa fa-check"></i><b>43.3</b> When is correlation a useful summary?</a></li>
<li class="chapter" data-level="43.4" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#prediction-based-on-stratification"><i class="fa fa-check"></i><b>43.4</b> Prediction based on stratification</a></li>
<li class="chapter" data-level="43.5" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#the-regression-line"><i class="fa fa-check"></i><b>43.5</b> The regression line</a></li>
<li class="chapter" data-level="43.6" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#regression-improves-precision"><i class="fa fa-check"></i><b>43.6</b> Regression improves precision</a></li>
<li class="chapter" data-level="43.7" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#bivariate-normal-distribution-advanced"><i class="fa fa-check"></i><b>43.7</b> Bivariate normal distribution (advanced)</a></li>
<li class="chapter" data-level="43.8" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#variance-explained"><i class="fa fa-check"></i><b>43.8</b> Variance explained</a></li>
<li class="chapter" data-level="43.9" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#warning-there-are-two-regression-lines"><i class="fa fa-check"></i><b>43.9</b> Warning: there are two regression lines</a></li>
<li class="chapter" data-level="" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#exercises-35"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html"><i class="fa fa-check"></i><b>44</b> Case Study: Moneyball</a><ul>
<li class="chapter" data-level="44.1" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#sabermetics"><i class="fa fa-check"></i><b>44.1</b> Sabermetics</a></li>
<li class="chapter" data-level="44.2" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#baseball-basics"><i class="fa fa-check"></i><b>44.2</b> Baseball basics</a></li>
<li class="chapter" data-level="44.3" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#no-awards-for-bb"><i class="fa fa-check"></i><b>44.3</b> No awards for BB</a></li>
<li class="chapter" data-level="44.4" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#base-on-ball-or-stolen-bases"><i class="fa fa-check"></i><b>44.4</b> Base on Ball or Stolen Bases?</a></li>
<li class="chapter" data-level="44.5" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#regression-applied-to-baseball-statistics"><i class="fa fa-check"></i><b>44.5</b> Regression applied to baseball statistics</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="confounding.html"><a href="confounding.html"><i class="fa fa-check"></i><b>45</b> Confounding</a><ul>
<li class="chapter" data-level="45.1" data-path="confounding.html"><a href="confounding.html#understanding-confounding-through-stratification"><i class="fa fa-check"></i><b>45.1</b> Understanding confounding through stratification</a></li>
<li class="chapter" data-level="45.2" data-path="confounding.html"><a href="confounding.html#multivariate-regression"><i class="fa fa-check"></i><b>45.2</b> Multivariate regression</a></li>
</ul></li>
<li class="chapter" data-level="46" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html"><i class="fa fa-check"></i><b>46</b> Linear Models and Least Squared Estimates</a><ul>
<li class="chapter" data-level="46.1" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#interpreting-linear-models"><i class="fa fa-check"></i><b>46.1</b> Interpreting linear models</a></li>
<li class="chapter" data-level="46.2" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#least-squares-estimates-lse"><i class="fa fa-check"></i><b>46.2</b> Least Squares Estimates (LSE)</a></li>
<li class="chapter" data-level="46.3" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#the-lm-function"><i class="fa fa-check"></i><b>46.3</b> The <code>lm</code> function</a></li>
<li class="chapter" data-level="46.4" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#lse-are-random-variables"><i class="fa fa-check"></i><b>46.4</b> LSE are random variables</a></li>
<li class="chapter" data-level="46.5" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#lse-are-correlated-advanced"><i class="fa fa-check"></i><b>46.5</b> LSE are correlated (advanced)</a></li>
<li class="chapter" data-level="46.6" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#predicted-values-are-random-variables"><i class="fa fa-check"></i><b>46.6</b> Predicted values are random variables</a></li>
<li class="chapter" data-level="" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#exercises-36"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="47" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html"><i class="fa fa-check"></i><b>47</b> Advanced tidyverse: tibbles and <code>do</code></a><ul>
<li class="chapter" data-level="47.1" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles"><i class="fa fa-check"></i><b>47.1</b> Tibbles</a><ul>
<li class="chapter" data-level="47.1.1" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles-display-better"><i class="fa fa-check"></i><b>47.1.1</b> Tibbles display better</a></li>
<li class="chapter" data-level="47.1.2" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#subsets-of-tibbles-are-tibbles"><i class="fa fa-check"></i><b>47.1.2</b> Subsets of tibbles are tibbles</a></li>
<li class="chapter" data-level="47.1.3" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles-can-have-complex-entries"><i class="fa fa-check"></i><b>47.1.3</b> Tibbles can have complex entries</a></li>
<li class="chapter" data-level="47.1.4" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles-can-be-grouped"><i class="fa fa-check"></i><b>47.1.4</b> Tibbles can be grouped</a></li>
</ul></li>
<li class="chapter" data-level="47.2" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#do"><i class="fa fa-check"></i><b>47.2</b> <code>do</code></a></li>
</ul></li>
<li class="chapter" data-level="48" data-path="the-broom-package.html"><a href="the-broom-package.html"><i class="fa fa-check"></i><b>48</b> The broom package</a><ul>
<li class="chapter" data-level="" data-path="the-broom-package.html"><a href="the-broom-package.html#exercises-37"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="49" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html"><i class="fa fa-check"></i><b>49</b> Case study: Money Ball continued</a><ul>
<li class="chapter" data-level="49.1" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html#adding-salary-and-position-information"><i class="fa fa-check"></i><b>49.1</b> Adding salary and position information</a></li>
<li class="chapter" data-level="49.2" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html#picking-9-players"><i class="fa fa-check"></i><b>49.2</b> Picking 9 players</a></li>
<li class="chapter" data-level="" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html#exercises-38"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="50" data-path="regression-fallacy.html"><a href="regression-fallacy.html"><i class="fa fa-check"></i><b>50</b> Regression fallacy</a></li>
<li class="chapter" data-level="51" data-path="measurement-error-models.html"><a href="measurement-error-models.html"><i class="fa fa-check"></i><b>51</b> Measurement error models</a></li>
<li class="chapter" data-level="52" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html"><i class="fa fa-check"></i><b>52</b> Association is not causation</a><ul>
<li class="chapter" data-level="52.1" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#spurious-correlation"><i class="fa fa-check"></i><b>52.1</b> Spurious correlation</a></li>
<li class="chapter" data-level="52.2" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#outliers-1"><i class="fa fa-check"></i><b>52.2</b> Outliers</a></li>
<li class="chapter" data-level="52.3" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#reversing-cause-and-effect"><i class="fa fa-check"></i><b>52.3</b> Reversing cause and effect</a></li>
<li class="chapter" data-level="52.4" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#confounders"><i class="fa fa-check"></i><b>52.4</b> Confounders</a><ul>
<li class="chapter" data-level="52.4.1" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#example-uc-berkeley-admissions"><i class="fa fa-check"></i><b>52.4.1</b> Example: UC Berkeley admissions</a></li>
<li class="chapter" data-level="52.4.2" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#confounding-explained-graphically"><i class="fa fa-check"></i><b>52.4.2</b> Confounding explained graphically</a></li>
<li class="chapter" data-level="52.4.3" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#average-after-stratifying"><i class="fa fa-check"></i><b>52.4.3</b> Average after stratifying</a></li>
</ul></li>
<li class="chapter" data-level="52.5" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#simpsons-paradox"><i class="fa fa-check"></i><b>52.5</b> Simpson’s Paradox</a></li>
<li class="chapter" data-level="" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#exercises-39"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>VII Machine Learning</b></span></li>
<li class="chapter" data-level="53" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html"><i class="fa fa-check"></i><b>53</b> Introduction to Machine Learning</a><ul>
<li class="chapter" data-level="53.1" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#notation-1"><i class="fa fa-check"></i><b>53.1</b> Notation</a></li>
<li class="chapter" data-level="53.2" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#categorical-versus-continuous"><i class="fa fa-check"></i><b>53.2</b> Categorical versus continuous</a></li>
<li class="chapter" data-level="53.3" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#an-example"><i class="fa fa-check"></i><b>53.3</b> An example</a></li>
<li class="chapter" data-level="" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#exercises-40"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="54" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><i class="fa fa-check"></i><b>54</b> The confusion matrix, prevalence, sensitivity and specificity</a><ul>
<li class="chapter" data-level="54.1" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#training-and-test-sets"><i class="fa fa-check"></i><b>54.1</b> Training and test sets</a></li>
<li class="chapter" data-level="54.2" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#overall-accuracy"><i class="fa fa-check"></i><b>54.2</b> Overall accuracy</a></li>
<li class="chapter" data-level="54.3" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#the-confusion-matrix"><i class="fa fa-check"></i><b>54.3</b> The confusion matrix</a></li>
<li class="chapter" data-level="54.4" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#sensitivity-and-specificity"><i class="fa fa-check"></i><b>54.4</b> Sensitivity and specificity</a></li>
<li class="chapter" data-level="54.5" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#balanced-accuracy-and-f_1-score"><i class="fa fa-check"></i><b>54.5</b> Balanced accuracy and <span class="math inline">\(F_1\)</span> score</a></li>
<li class="chapter" data-level="54.6" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#prevalence-matters-in-practice"><i class="fa fa-check"></i><b>54.6</b> Prevalence matters in practice</a></li>
<li class="chapter" data-level="54.7" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#roc-and-precision-recall-curves"><i class="fa fa-check"></i><b>54.7</b> ROC and precision-recall curves</a></li>
<li class="chapter" data-level="" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#exercises-41"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="55" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html"><i class="fa fa-check"></i><b>55</b> Conditional probabilities and expectations</a><ul>
<li class="chapter" data-level="55.1" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#conditional-probabilities-1"><i class="fa fa-check"></i><b>55.1</b> Conditional probabilities</a></li>
<li class="chapter" data-level="55.2" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#conditional-expectations"><i class="fa fa-check"></i><b>55.2</b> Conditional expectations</a></li>
<li class="chapter" data-level="55.3" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#the-loss-function"><i class="fa fa-check"></i><b>55.3</b> The loss function</a></li>
<li class="chapter" data-level="55.4" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#conditional-expectation-minimizes-squared-loss-function"><i class="fa fa-check"></i><b>55.4</b> Conditional expectation minimizes squared loss function</a></li>
<li class="chapter" data-level="" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#exercises-42"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="56" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>56</b> Logistic Regression</a><ul>
<li class="chapter" data-level="56.1" data-path="logistic-regression.html"><a href="logistic-regression.html#linear-regression-for-prediction"><i class="fa fa-check"></i><b>56.1</b> Linear regression for prediction</a></li>
<li class="chapter" data-level="56.2" data-path="logistic-regression.html"><a href="logistic-regression.html#the-predict-function"><i class="fa fa-check"></i><b>56.2</b> The <code>predict</code> function</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#exercises-43"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="56.3" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-regression-1"><i class="fa fa-check"></i><b>56.3</b> Logistic regression</a></li>
<li class="chapter" data-level="56.4" data-path="logistic-regression.html"><a href="logistic-regression.html#generalized-linear-models"><i class="fa fa-check"></i><b>56.4</b> Generalized Linear Models</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#exercises-44"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="57" data-path="case-study-is-it-a-2-or-a-7.html"><a href="case-study-is-it-a-2-or-a-7.html"><i class="fa fa-check"></i><b>57</b> Case study: is it a 2 or a 7?</a></li>
<li class="chapter" data-level="58" data-path="smoothing.html"><a href="smoothing.html"><i class="fa fa-check"></i><b>58</b> Smoothing</a><ul>
<li class="chapter" data-level="58.1" data-path="smoothing.html"><a href="smoothing.html#bin-smoothing"><i class="fa fa-check"></i><b>58.1</b> Bin smoothing</a></li>
<li class="chapter" data-level="58.2" data-path="smoothing.html"><a href="smoothing.html#kernels"><i class="fa fa-check"></i><b>58.2</b> Kernels</a></li>
<li class="chapter" data-level="58.3" data-path="smoothing.html"><a href="smoothing.html#local-weighted-regression-loess"><i class="fa fa-check"></i><b>58.3</b> Local weighted regression (loess)</a></li>
<li class="chapter" data-level="58.4" data-path="smoothing.html"><a href="smoothing.html#fitting-parabolas"><i class="fa fa-check"></i><b>58.4</b> Fitting parabolas</a></li>
<li class="chapter" data-level="58.5" data-path="smoothing.html"><a href="smoothing.html#beware-of-ggplot-defaults"><i class="fa fa-check"></i><b>58.5</b> Beware of <code>ggplot</code> defaults</a></li>
<li class="chapter" data-level="" data-path="smoothing.html"><a href="smoothing.html#exercises-45"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="59" data-path="matrices-1.html"><a href="matrices-1.html"><i class="fa fa-check"></i><b>59</b> Matrices</a><ul>
<li class="chapter" data-level="59.1" data-path="matrices-1.html"><a href="matrices-1.html#notation-2"><i class="fa fa-check"></i><b>59.1</b> Notation</a></li>
<li class="chapter" data-level="59.2" data-path="matrices-1.html"><a href="matrices-1.html#matrix-operations"><i class="fa fa-check"></i><b>59.2</b> Matrix operations</a><ul>
<li class="chapter" data-level="59.2.1" data-path="matrices-1.html"><a href="matrices-1.html#converting-a-vector-to-a-matrix"><i class="fa fa-check"></i><b>59.2.1</b> Converting a vector to a matrix</a></li>
<li class="chapter" data-level="59.2.2" data-path="matrices-1.html"><a href="matrices-1.html#row-and-column-summaries"><i class="fa fa-check"></i><b>59.2.2</b> Row and column summaries</a></li>
<li class="chapter" data-level="59.2.3" data-path="matrices-1.html"><a href="matrices-1.html#apply"><i class="fa fa-check"></i><b>59.2.3</b> <code>apply</code></a></li>
<li class="chapter" data-level="59.2.4" data-path="matrices-1.html"><a href="matrices-1.html#filtering-columns-based-on-summaries"><i class="fa fa-check"></i><b>59.2.4</b> Filtering columns based on summaries</a></li>
<li class="chapter" data-level="59.2.5" data-path="matrices-1.html"><a href="matrices-1.html#indexing-with-matrices"><i class="fa fa-check"></i><b>59.2.5</b> Indexing with matrices</a></li>
<li class="chapter" data-level="59.2.6" data-path="matrices-1.html"><a href="matrices-1.html#binarizing-the-data"><i class="fa fa-check"></i><b>59.2.6</b> Binarizing the data</a></li>
<li class="chapter" data-level="59.2.7" data-path="matrices-1.html"><a href="matrices-1.html#vectorization-for-matrices"><i class="fa fa-check"></i><b>59.2.7</b> Vectorization for matrices</a></li>
</ul></li>
<li class="chapter" data-level="59.3" data-path="matrices-1.html"><a href="matrices-1.html#matrix-algebra-operations"><i class="fa fa-check"></i><b>59.3</b> Matrix algebra operations</a></li>
<li class="chapter" data-level="" data-path="matrices-1.html"><a href="matrices-1.html#exercises-46"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="60" data-path="distance.html"><a href="distance.html"><i class="fa fa-check"></i><b>60</b> Distance</a><ul>
<li class="chapter" data-level="60.1" data-path="distance.html"><a href="distance.html#euclidean-distance"><i class="fa fa-check"></i><b>60.1</b> Euclidean distance</a></li>
<li class="chapter" data-level="60.2" data-path="distance.html"><a href="distance.html#distance-in-higher-dimensions"><i class="fa fa-check"></i><b>60.2</b> Distance in higher dimensions</a></li>
<li class="chapter" data-level="60.3" data-path="distance.html"><a href="distance.html#example"><i class="fa fa-check"></i><b>60.3</b> Example</a></li>
<li class="chapter" data-level="60.4" data-path="distance.html"><a href="distance.html#distance-between-predictors"><i class="fa fa-check"></i><b>60.4</b> Distance between predictors</a></li>
<li class="chapter" data-level="" data-path="distance.html"><a href="distance.html#exercises-47"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="61" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html"><i class="fa fa-check"></i><b>61</b> Nearest neighbors</a><ul>
<li class="chapter" data-level="61.1" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#over-training"><i class="fa fa-check"></i><b>61.1</b> Over training</a></li>
<li class="chapter" data-level="61.2" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#over-smoothing"><i class="fa fa-check"></i><b>61.2</b> Over-smoothing</a></li>
<li class="chapter" data-level="61.3" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#picking-the-k-in-knn"><i class="fa fa-check"></i><b>61.3</b> Picking the <span class="math inline">\(k\)</span> in kNN</a></li>
<li class="chapter" data-level="" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#exercises-48"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="62" data-path="the-caret-package.html"><a href="the-caret-package.html"><i class="fa fa-check"></i><b>62</b> The caret package</a><ul>
<li class="chapter" data-level="62.1" data-path="the-caret-package.html"><a href="the-caret-package.html#the-train-functon"><i class="fa fa-check"></i><b>62.1</b> The <code>train</code> functon</a></li>
<li class="chapter" data-level="62.2" data-path="the-caret-package.html"><a href="the-caret-package.html#cross-validation"><i class="fa fa-check"></i><b>62.2</b> Cross validation</a></li>
<li class="chapter" data-level="62.3" data-path="the-caret-package.html"><a href="the-caret-package.html#example-fitting-with-loess"><i class="fa fa-check"></i><b>62.3</b> Example: fitting with loess</a></li>
</ul></li>
<li class="chapter" data-level="63" data-path="cross-validation-1.html"><a href="cross-validation-1.html"><i class="fa fa-check"></i><b>63</b> Cross validation</a><ul>
<li class="chapter" data-level="63.1" data-path="cross-validation-1.html"><a href="cross-validation-1.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>63.1</b> K-fold cross validation</a></li>
<li class="chapter" data-level="" data-path="cross-validation-1.html"><a href="cross-validation-1.html#exercises-49"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="63.2" data-path="cross-validation-1.html"><a href="cross-validation-1.html#bootstrap"><i class="fa fa-check"></i><b>63.2</b> Bootstrap</a></li>
<li class="chapter" data-level="" data-path="cross-validation-1.html"><a href="cross-validation-1.html#exercises-50"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="64" data-path="generative-models.html"><a href="generative-models.html"><i class="fa fa-check"></i><b>64</b> Generative models</a><ul>
<li class="chapter" data-level="64.1" data-path="generative-models.html"><a href="generative-models.html#naive-bayes"><i class="fa fa-check"></i><b>64.1</b> Naive Bayes</a></li>
<li class="chapter" data-level="64.2" data-path="generative-models.html"><a href="generative-models.html#controlling-prevalence"><i class="fa fa-check"></i><b>64.2</b> Controlling prevalence</a></li>
<li class="chapter" data-level="64.3" data-path="generative-models.html"><a href="generative-models.html#quadratic-discriminant-analysis"><i class="fa fa-check"></i><b>64.3</b> Quadratic Discriminant Analysis</a></li>
<li class="chapter" data-level="64.4" data-path="generative-models.html"><a href="generative-models.html#linear-discriminant-analysis"><i class="fa fa-check"></i><b>64.4</b> Linear discriminant analysis</a></li>
<li class="chapter" data-level="64.5" data-path="generative-models.html"><a href="generative-models.html#connection-distance"><i class="fa fa-check"></i><b>64.5</b> Connection distance</a></li>
<li class="chapter" data-level="64.6" data-path="generative-models.html"><a href="generative-models.html#case-study-more-than-three-classes"><i class="fa fa-check"></i><b>64.6</b> Case study: more than three classes</a></li>
<li class="chapter" data-level="" data-path="generative-models.html"><a href="generative-models.html#exercises-51"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="65" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html"><i class="fa fa-check"></i><b>65</b> Trees and Random Forests</a><ul>
<li class="chapter" data-level="65.1" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#the-curse-of-dimensionality"><i class="fa fa-check"></i><b>65.1</b> The curse of dimensionality</a></li>
<li class="chapter" data-level="65.2" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#classification-and-regression-trees-cart"><i class="fa fa-check"></i><b>65.2</b> Classification and Regression Trees (CART)</a></li>
<li class="chapter" data-level="65.3" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#regression-tree"><i class="fa fa-check"></i><b>65.3</b> Regression tree</a></li>
<li class="chapter" data-level="65.4" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#classification-decision-trees"><i class="fa fa-check"></i><b>65.4</b> Classification (decision) trees</a></li>
<li class="chapter" data-level="65.5" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#random-forests"><i class="fa fa-check"></i><b>65.5</b> Random Forests</a></li>
<li class="chapter" data-level="" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#exercises-52"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="66" data-path="case-study-mnist.html"><a href="case-study-mnist.html"><i class="fa fa-check"></i><b>66</b> Case study: MNIST</a><ul>
<li class="chapter" data-level="66.1" data-path="case-study-mnist.html"><a href="case-study-mnist.html#preprocessing"><i class="fa fa-check"></i><b>66.1</b> Preprocessing</a></li>
<li class="chapter" data-level="66.2" data-path="case-study-mnist.html"><a href="case-study-mnist.html#knn"><i class="fa fa-check"></i><b>66.2</b> kNN</a></li>
<li class="chapter" data-level="66.3" data-path="case-study-mnist.html"><a href="case-study-mnist.html#variable-importance"><i class="fa fa-check"></i><b>66.3</b> Variable importance</a></li>
<li class="chapter" data-level="66.4" data-path="case-study-mnist.html"><a href="case-study-mnist.html#visual-assessments"><i class="fa fa-check"></i><b>66.4</b> Visual assessments</a></li>
</ul></li>
<li class="chapter" data-level="67" data-path="ensembles.html"><a href="ensembles.html"><i class="fa fa-check"></i><b>67</b> Ensembles</a><ul>
<li class="chapter" data-level="" data-path="ensembles.html"><a href="ensembles.html#exercises-53"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="68" data-path="dimension-reduction.html"><a href="dimension-reduction.html"><i class="fa fa-check"></i><b>68</b> Dimension Reduction</a><ul>
<li class="chapter" data-level="68.1" data-path="dimension-reduction.html"><a href="dimension-reduction.html#preserving-distance"><i class="fa fa-check"></i><b>68.1</b> Preserving distance</a></li>
<li class="chapter" data-level="68.2" data-path="dimension-reduction.html"><a href="dimension-reduction.html#linear-transformations-advnced"><i class="fa fa-check"></i><b>68.2</b> Linear transformations (advnced)</a></li>
<li class="chapter" data-level="68.3" data-path="dimension-reduction.html"><a href="dimension-reduction.html#orthogogal-transformations-advaced"><i class="fa fa-check"></i><b>68.3</b> Orthogogal transformations (advaced)</a></li>
<li class="chapter" data-level="68.4" data-path="dimension-reduction.html"><a href="dimension-reduction.html#principal-component-analysis"><i class="fa fa-check"></i><b>68.4</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="68.5" data-path="dimension-reduction.html"><a href="dimension-reduction.html#iris-example"><i class="fa fa-check"></i><b>68.5</b> Iris Example</a></li>
<li class="chapter" data-level="68.6" data-path="dimension-reduction.html"><a href="dimension-reduction.html#mnist"><i class="fa fa-check"></i><b>68.6</b> MNIST</a></li>
<li class="chapter" data-level="" data-path="dimension-reduction.html"><a href="dimension-reduction.html#exercises-54"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="69" data-path="recommendation-systems.html"><a href="recommendation-systems.html"><i class="fa fa-check"></i><b>69</b> Recommendation systems</a><ul>
<li class="chapter" data-level="69.1" data-path="recommendation-systems.html"><a href="recommendation-systems.html#movielens-data"><i class="fa fa-check"></i><b>69.1</b> Movielens data</a></li>
<li class="chapter" data-level="69.2" data-path="recommendation-systems.html"><a href="recommendation-systems.html#recommendation-systems-as-a-machine-learning-challenge"><i class="fa fa-check"></i><b>69.2</b> Recommendation systems as a machine learning challenge</a><ul>
<li class="chapter" data-level="69.2.1" data-path="recommendation-systems.html"><a href="recommendation-systems.html#loss-function"><i class="fa fa-check"></i><b>69.2.1</b> Loss function</a></li>
<li class="chapter" data-level="69.2.2" data-path="recommendation-systems.html"><a href="recommendation-systems.html#a-first-model"><i class="fa fa-check"></i><b>69.2.2</b> A first model</a></li>
</ul></li>
<li class="chapter" data-level="69.3" data-path="recommendation-systems.html"><a href="recommendation-systems.html#modeling-movie-effects"><i class="fa fa-check"></i><b>69.3</b> Modeling movie effects</a><ul>
<li class="chapter" data-level="69.3.1" data-path="recommendation-systems.html"><a href="recommendation-systems.html#user-effects"><i class="fa fa-check"></i><b>69.3.1</b> User effects</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="recommendation-systems.html"><a href="recommendation-systems.html#exercises-55"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="70" data-path="regularization.html"><a href="regularization.html"><i class="fa fa-check"></i><b>70</b> Regularization</a><ul>
<li class="chapter" data-level="70.1" data-path="regularization.html"><a href="regularization.html#motivation"><i class="fa fa-check"></i><b>70.1</b> Motivation</a></li>
<li class="chapter" data-level="70.2" data-path="regularization.html"><a href="regularization.html#penalized-least-squares"><i class="fa fa-check"></i><b>70.2</b> Penalized Least Squares</a></li>
<li class="chapter" data-level="70.3" data-path="regularization.html"><a href="regularization.html#choosing-the-penalty-terms"><i class="fa fa-check"></i><b>70.3</b> Choosing the penalty terms</a></li>
<li class="chapter" data-level="" data-path="regularization.html"><a href="regularization.html#exercises-56"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="71" data-path="matrix-factorization.html"><a href="matrix-factorization.html"><i class="fa fa-check"></i><b>71</b> Matrix factorization</a><ul>
<li class="chapter" data-level="71.1" data-path="matrix-factorization.html"><a href="matrix-factorization.html#factors-1"><i class="fa fa-check"></i><b>71.1</b> Factors</a></li>
<li class="chapter" data-level="71.2" data-path="matrix-factorization.html"><a href="matrix-factorization.html#connection-to-svd-and-pca"><i class="fa fa-check"></i><b>71.2</b> Connection to SVD and PCA</a></li>
<li class="chapter" data-level="" data-path="matrix-factorization.html"><a href="matrix-factorization.html#exercises-57"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="72" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>72</b> Clustering</a><ul>
<li class="chapter" data-level="72.1" data-path="clustering.html"><a href="clustering.html#hierarchical-clustering"><i class="fa fa-check"></i><b>72.1</b> Hierarchical clustering</a></li>
<li class="chapter" data-level="72.2" data-path="clustering.html"><a href="clustering.html#k-means"><i class="fa fa-check"></i><b>72.2</b> k-means</a></li>
<li class="chapter" data-level="72.3" data-path="clustering.html"><a href="clustering.html#heatmaps"><i class="fa fa-check"></i><b>72.3</b> Heatmaps</a></li>
<li class="chapter" data-level="72.4" data-path="clustering.html"><a href="clustering.html#filtering-features"><i class="fa fa-check"></i><b>72.4</b> Filtering features</a></li>
<li class="chapter" data-level="" data-path="clustering.html"><a href="clustering.html#exercises-58"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>VIII Productivity tools</b></span></li>
<li class="chapter" data-level="73" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html"><i class="fa fa-check"></i><b>73</b> Installing R, RStudio and Git</a><ul>
<li class="chapter" data-level="73.1" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-r-1"><i class="fa fa-check"></i><b>73.1</b> Installing R</a></li>
<li class="chapter" data-level="73.2" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-rstudio-1"><i class="fa fa-check"></i><b>73.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="73.3" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-git"><i class="fa fa-check"></i><b>73.3</b> Installing Git</a><ul>
<li class="chapter" data-level="73.3.1" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-git-and-git-bash-on-windows"><i class="fa fa-check"></i><b>73.3.1</b> Installing Git and Git Bash on Windows</a></li>
<li class="chapter" data-level="73.3.2" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-git-on-the-mac"><i class="fa fa-check"></i><b>73.3.2</b> Installing Git on the Mac</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="74" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>74</b> GitHub</a><ul>
<li class="chapter" data-level="74.1" data-path="github.html"><a href="github.html#github-accounts"><i class="fa fa-check"></i><b>74.1</b> GitHub Accounts</a></li>
<li class="chapter" data-level="74.2" data-path="github.html"><a href="github.html#github-repositories"><i class="fa fa-check"></i><b>74.2</b> GitHub repositories</a></li>
</ul></li>
<li class="chapter" data-level="75" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>75</b> RStudio</a><ul>
<li class="chapter" data-level="75.1" data-path="rstudio.html"><a href="rstudio.html#the-panes"><i class="fa fa-check"></i><b>75.1</b> The panes</a></li>
<li class="chapter" data-level="75.2" data-path="rstudio.html"><a href="rstudio.html#key-bindings"><i class="fa fa-check"></i><b>75.2</b> Key bindings</a></li>
<li class="chapter" data-level="75.3" data-path="rstudio.html"><a href="rstudio.html#installing-r-packages"><i class="fa fa-check"></i><b>75.3</b> Installing R packages</a></li>
<li class="chapter" data-level="75.4" data-path="rstudio.html"><a href="rstudio.html#running-commands-while-editing-scripts"><i class="fa fa-check"></i><b>75.4</b> Running commands while editing scripts</a></li>
<li class="chapter" data-level="75.5" data-path="rstudio.html"><a href="rstudio.html#global-options"><i class="fa fa-check"></i><b>75.5</b> Global options</a></li>
<li class="chapter" data-level="75.6" data-path="rstudio.html"><a href="rstudio.html#keeping-organized-with-rstudio-projects"><i class="fa fa-check"></i><b>75.6</b> Keeping organized with RStudio projects</a></li>
<li class="chapter" data-level="75.7" data-path="rstudio.html"><a href="rstudio.html#using-git-and-github-in-rstudio"><i class="fa fa-check"></i><b>75.7</b> Using Git and GitHub in RStudio</a></li>
<li class="chapter" data-level="75.8" data-path="rstudio.html"><a href="rstudio.html#running-r-without-rstudio"><i class="fa fa-check"></i><b>75.8</b> Running R without RStudio</a></li>
</ul></li>
<li class="chapter" data-level="76" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html"><i class="fa fa-check"></i><b>76</b> Organizing with Unix</a><ul>
<li class="chapter" data-level="76.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#the-terminal"><i class="fa fa-check"></i><b>76.1</b> The terminal</a></li>
<li class="chapter" data-level="76.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#the-filesystem"><i class="fa fa-check"></i><b>76.2</b> The filesystem</a><ul>
<li class="chapter" data-level="76.2.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#directories-and-subdirectories"><i class="fa fa-check"></i><b>76.2.1</b> Directories and subdirectories</a></li>
<li class="chapter" data-level="76.2.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#the-home-directory"><i class="fa fa-check"></i><b>76.2.2</b> The home directory</a></li>
<li class="chapter" data-level="76.2.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#working-directory"><i class="fa fa-check"></i><b>76.2.3</b> Working directory</a></li>
<li class="chapter" data-level="76.2.4" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#paths"><i class="fa fa-check"></i><b>76.2.4</b> Paths</a></li>
</ul></li>
<li class="chapter" data-level="76.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#unix-commands"><i class="fa fa-check"></i><b>76.3</b> Unix commands</a><ul>
<li class="chapter" data-level="76.3.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#ls-listing-directory-content"><i class="fa fa-check"></i><b>76.3.1</b> <code>ls</code>: Listing directory content</a></li>
<li class="chapter" data-level="76.3.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#mkdir-and-rmdir-make-and-remove-a-directory"><i class="fa fa-check"></i><b>76.3.2</b> <code>mkdir</code> and <code>rmdir</code>: make and remove a directory</a></li>
<li class="chapter" data-level="76.3.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#cd-navigating-the-filesystem-by-changing-directories"><i class="fa fa-check"></i><b>76.3.3</b> <code>cd</code>: Navigating the filesystem by changing directories</a></li>
</ul></li>
<li class="chapter" data-level="76.4" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#some-examples"><i class="fa fa-check"></i><b>76.4</b> Some examples</a></li>
<li class="chapter" data-level="76.5" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#more-unix-commands"><i class="fa fa-check"></i><b>76.5</b> More Unix commands</a><ul>
<li class="chapter" data-level="76.5.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#mv-moving-files"><i class="fa fa-check"></i><b>76.5.1</b> <code>mv</code>: moving files</a></li>
<li class="chapter" data-level="76.5.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#cp-copying-files"><i class="fa fa-check"></i><b>76.5.2</b> <code>cp</code>: copying files</a></li>
<li class="chapter" data-level="76.5.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#rm-removing-files"><i class="fa fa-check"></i><b>76.5.3</b> <code>rm</code>: removing files</a></li>
<li class="chapter" data-level="76.5.4" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#less-looking-at-a-file"><i class="fa fa-check"></i><b>76.5.4</b> <code>less</code>: looking at a file</a></li>
</ul></li>
<li class="chapter" data-level="76.6" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#preparing-for-a-data-science-project"><i class="fa fa-check"></i><b>76.6</b> Preparing for a data science project</a></li>
</ul></li>
<li class="chapter" data-level="77" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>77</b> Git</a><ul>
<li class="chapter" data-level="77.1" data-path="git.html"><a href="git.html#why-use-git-and-github"><i class="fa fa-check"></i><b>77.1</b> Why use Git and GitHub?</a></li>
<li class="chapter" data-level="77.2" data-path="git.html"><a href="git.html#overview-of-git"><i class="fa fa-check"></i><b>77.2</b> Overview of Git</a><ul>
<li class="chapter" data-level="77.2.1" data-path="git.html"><a href="git.html#clone"><i class="fa fa-check"></i><b>77.2.1</b> Clone</a></li>
</ul></li>
<li class="chapter" data-level="77.3" data-path="git.html"><a href="git.html#initilazing-a-git-directory"><i class="fa fa-check"></i><b>77.3</b> Initilazing a Git directory</a></li>
</ul></li>
<li class="chapter" data-level="78" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html"><i class="fa fa-check"></i><b>78</b> Reproducible reports with R Markdown</a><ul>
<li class="chapter" data-level="78.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-markdown"><i class="fa fa-check"></i><b>78.1</b> R Markdown</a><ul>
<li class="chapter" data-level="78.1.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#the-header"><i class="fa fa-check"></i><b>78.1.1</b> The header</a></li>
<li class="chapter" data-level="78.1.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-code-chunks"><i class="fa fa-check"></i><b>78.1.2</b> R code chunks</a></li>
<li class="chapter" data-level="78.1.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#global-options-1"><i class="fa fa-check"></i><b>78.1.3</b> Global options</a></li>
</ul></li>
<li class="chapter" data-level="78.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#knitr"><i class="fa fa-check"></i><b>78.2</b> knitR</a></li>
<li class="chapter" data-level="78.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#more-on-r-markdown"><i class="fa fa-check"></i><b>78.3</b> More on R markdown</a></li>
</ul></li>
<li class="chapter" data-level="79" data-path="advanced-unix.html"><a href="advanced-unix.html"><i class="fa fa-check"></i><b>79</b> Advanced Unix</a><ul>
<li class="chapter" data-level="79.1" data-path="advanced-unix.html"><a href="advanced-unix.html#arguments"><i class="fa fa-check"></i><b>79.1</b> Arguments</a></li>
<li class="chapter" data-level="79.2" data-path="advanced-unix.html"><a href="advanced-unix.html#getting-help"><i class="fa fa-check"></i><b>79.2</b> Getting help</a></li>
<li class="chapter" data-level="79.3" data-path="advanced-unix.html"><a href="advanced-unix.html#pipes"><i class="fa fa-check"></i><b>79.3</b> Pipes</a></li>
<li class="chapter" data-level="79.4" data-path="advanced-unix.html"><a href="advanced-unix.html#wild-cards"><i class="fa fa-check"></i><b>79.4</b> Wild cards</a></li>
<li class="chapter" data-level="79.5" data-path="advanced-unix.html"><a href="advanced-unix.html#environment-variables"><i class="fa fa-check"></i><b>79.5</b> Environment variables</a></li>
<li class="chapter" data-level="79.6" data-path="advanced-unix.html"><a href="advanced-unix.html#shells"><i class="fa fa-check"></i><b>79.6</b> Shells</a></li>
<li class="chapter" data-level="79.7" data-path="advanced-unix.html"><a href="advanced-unix.html#executables"><i class="fa fa-check"></i><b>79.7</b> Executables</a></li>
<li class="chapter" data-level="79.8" data-path="advanced-unix.html"><a href="advanced-unix.html#permissions-and-file-types"><i class="fa fa-check"></i><b>79.8</b> Permissions and file types</a></li>
<li class="chapter" data-level="79.9" data-path="advanced-unix.html"><a href="advanced-unix.html#commands-you-should-learn"><i class="fa fa-check"></i><b>79.9</b> Commands you should learn</a></li>
<li class="chapter" data-level="79.10" data-path="advanced-unix.html"><a href="advanced-unix.html#file-manipulation-in-r"><i class="fa fa-check"></i><b>79.10</b> File manipulation in R</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dimension-reduction" class="section level1">
<h1><span class="header-section-number">Chapter 68</span> Dimension Reduction</h1>
<p>A typical machine learning challenge will include a large number of predictors. This makes the important step of data visualization somewhat challenging. We have shown methods for visualizing univariate and paired data, but plots that reveal relationships between many variables are more complicated in higher dimensionality. For example, to compare each of the 784 features in our predicting digits example, we would have to create, for example, 306,936 scatter plots. Creating one single scatter-plot of the data is impossible due to the high dimensionality.</p>
<p>Here we describe a powerful techniques useful for exploratory data analysis, among other things, generally referred to as <em>dimension reduction</em>. The general idea is to reduce the dimension of the dataset while preserving important characteristics, such as the distance between features or observations. With fewer dimensions, visualization then becomes more feasible. The technique behind it all, the singular value decomposition, is also useful in other contexts. Principal component analysis (PCA) is the approach we will be showing. Before applying PCA to high dimensional dataset, we will motivate the ideas behind with a simple example.</p>
<div id="preserving-distance" class="section level2">
<h2><span class="header-section-number">68.1</span> Preserving distance</h2>
<p>We consider an example with twin heights. Some pairs are adults the others are children. Here we simulate 100 two dimensional points that represent the number of standard deviations each individual is from the mean height. Each point is a pair of twins. We use the <code>mvrnorm</code> function from the <strong>MASS</strong> package to simulate bivariate normal data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1</span>)
<span class="kw">library</span>(MASS)
n &lt;-<span class="st"> </span><span class="dv">100</span>
x &lt;-<span class="st"> </span><span class="kw">rbind</span>(<span class="kw">mvrnorm</span>(n<span class="op">/</span><span class="dv">2</span>, <span class="kw">c</span>(<span class="dv">69</span>,<span class="dv">69</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">9</span>, <span class="dv">9</span><span class="op">*</span><span class="fl">0.9</span>, <span class="dv">9</span><span class="op">*</span><span class="fl">0.92</span>, <span class="dv">9</span><span class="op">*</span><span class="dv">1</span>),<span class="dv">2</span>,<span class="dv">2</span>)),
           <span class="kw">mvrnorm</span>(n<span class="op">/</span><span class="dv">2</span>, <span class="kw">c</span>(<span class="dv">55</span>,<span class="dv">55</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">9</span>, <span class="dv">9</span><span class="op">*</span><span class="fl">0.9</span>, <span class="dv">9</span><span class="op">*</span><span class="fl">0.92</span>, <span class="dv">9</span><span class="op">*</span><span class="dv">1</span>),<span class="dv">2</span>,<span class="dv">2</span>)))</code></pre></div>
<p>A scatter-plot quickly reveals that the correlation is high and that there are two groups of twins:</p>
<p><img src="book_files/figure-html/simulated-twin-heights-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>To help with the illustration, think of this as dataset with two features, the two heights, and <span class="math inline">\(N\)</span> observations. For illustrative purposes, we will act as if visualizing two dimensions is too challenging. We therefore want to reduce the dimensions from two to one, but still be able to understand important characteristics of the data. For example, that the observations cluster in to two groups: adults and children.</p>
<p>Let’s consider a specific challenge: we want a one dimensional summary of our predictors from which we can approximate the distance between any two observations. In the figure below we show the distance between observation 1 and 2, and observation 1 and 51: 1 and 2 are closer:</p>
<p><img src="book_files/figure-html/distance-illustration-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We can compute these distances using <code>dist</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">dist</span>(x)
<span class="kw">as.matrix</span>(d)[<span class="dv">1</span>,<span class="dv">2</span>]
<span class="co">#&gt; [1] 3.48</span>
<span class="kw">as.matrix</span>(d)[<span class="dv">2</span>,<span class="dv">51</span>]
<span class="co">#&gt; [1] 23.1</span></code></pre></div>
<p>This distance is based on two dimension and we need a distance approximation based on just one.</p>
<p>Let’s start with the naive approach of simply removing one of the two dimensions. Let’s compare the actual distances to the distance computed with just the first dimensions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z &lt;-<span class="st"> </span>x[,<span class="dv">1</span>]</code></pre></div>
<p>Here are the approximate distances versus the original distances:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">dist</span>(x), <span class="kw">dist</span>(z))
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="book_files/figure-html/one-dim-approx-to-dist-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>The plot looks about the same if we use the second dimension.</p>
<p>We obtain a general underestimation. This is actually to be expected because we are adding more positive quantities in the actual distance. If instead we use and average like this:</p>
<p><span class="math display">\[\sqrt{ \frac{1}{2} \sum_{j=1}^2 (X_{i,j}-X_{i,j})^2 }\]</span></p>
<p>then the underestimation goes away</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">dist</span>(x), <span class="kw">dist</span>(z)<span class="op">*</span><span class="kw">sqrt</span>(<span class="dv">2</span>))
<span class="kw">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="book_files/figure-html/distance-approx-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>This actually works pretty well and we get an typical difference of:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(<span class="kw">dist</span>(x) <span class="op">-</span><span class="st"> </span><span class="kw">dist</span>(z)<span class="op">*</span><span class="kw">sqrt</span>(<span class="dv">2</span>))
<span class="co">#&gt; [1] 1.26</span></code></pre></div>
<p>Now, can we pick a one dimensional summary that makes this approximation even better?</p>
<p>If we look back at the previous scatter plot, and visualize a line between any pair of points, the length of this line is the distance between the two points. These lines tend to go along the direction of the diagonal. Notice that if we instead plot the difference versus the average:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z  &lt;-<span class="st"> </span><span class="kw">cbind</span>((x[,<span class="dv">2</span>] <span class="op">+</span><span class="st"> </span>x[,<span class="dv">1</span>])<span class="op">/</span><span class="dv">2</span>,  x[,<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>x[,<span class="dv">1</span>])</code></pre></div>
<p>we can see how the distance between points in mostly explained by the first dimension: the average.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rafalib<span class="op">::</span><span class="kw">mypar</span>()
<span class="kw">plot</span>(z, <span class="dt">xlim=</span>lim, <span class="dt">ylim =</span> lim <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(lim))
<span class="kw">lines</span>(z[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),], <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)
<span class="kw">lines</span>(z[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">51</span>),], <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)
<span class="kw">points</span>(z[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">51</span>),], <span class="dt">pch =</span> <span class="dv">16</span>)</code></pre></div>
<p><img src="book_files/figure-html/rotation-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>This means that we can ignore the second dimension and not lose too much information. If the line is completely flat, we lose no information at all. Using the first dimension of this transformed matrix we obtain an even better approximation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">dist</span>(x), <span class="kw">dist</span>(z[,<span class="dv">1</span>])<span class="op">*</span><span class="kw">sqrt</span>(<span class="dv">2</span>))
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)</code></pre></div>
<p><img src="book_files/figure-html/distance-approx-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>with the typical difference improved by about 35%:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(<span class="kw">dist</span>(x) <span class="op">-</span><span class="st"> </span><span class="kw">dist</span>(z[,<span class="dv">1</span>])<span class="op">*</span><span class="kw">sqrt</span>(<span class="dv">2</span>))
<span class="co">#&gt; [1] 0.362</span></code></pre></div>
<p>Later we learn that <code>z[,1]</code> is the first principal component of the matrix <code>x</code>.</p>
</div>
<div id="linear-transformations-advnced" class="section level2">
<h2><span class="header-section-number">68.2</span> Linear transformations (advnced)</h2>
<p>Note that each row of <span class="math inline">\(X\)</span> was transformed using a linear transformation. For any row <span class="math inline">\(i\)</span>, the first entry was</p>
<p><span class="math display">\[Z_{i,1} = a_{1,1} X_{i,1} + a_{2,1} X_{i,2}\]</span></p>
<p>with <span class="math inline">\(a_{1,1} = 0.5\)</span> and <span class="math inline">\(a_{2,1} = 0.5\)</span></p>
<p>The second entry was also a linear transformation</p>
<p><span class="math display">\[Z_{i,2} = a_{1,2} X_{i,1} + a_{2,2} X_{i,2}\]</span></p>
<p>with <span class="math inline">\(a_{1,2} = 1\)</span> and <span class="math inline">\(a_{2,2} = -1\)</span></p>
<p>We can also use linear transformation to get <span class="math inline">\(X\)</span> back from <span class="math inline">\(Z\)</span>:</p>
<p><span class="math display">\[X_{i,1} = b_{1,1} Z_{i,1} + b_{2,1} Z_{i,2}\]</span></p>
<p>with <span class="math inline">\(b_{1,2} = 1\)</span> and <span class="math inline">\(b_{2,1} = 0.5\)</span> and</p>
<p><span class="math display">\[X_{i,2} = b_{2,1} Z_{i,1} + b_{2,2} Z_{i,2}\]</span></p>
<p>with <span class="math inline">\(b_{2,1} = 1\)</span> and <span class="math inline">\(a_{1,2} = -0.5\)</span></p>
<p>If you are familiar with linear algebra we can write the operation we just performed like this:</p>
<p><span class="math display">\[
Z = X A
\mbox{ with }
A = \,
\begin{pmatrix}
1/2&amp;1\\
1/2&amp;-1\\
\end{pmatrix}
\]</span></p>
<p>And that we can transform back by simply multiplying by <span class="math inline">\(A^{-1}\)</span> as follows:</p>
<p><span class="math display">\[
X = Z A^{-1} 
\mbox{ with }
A^{-1} = \,
\begin{pmatrix}
1&amp;1\\
1/21&amp;-1/2\\
\end{pmatrix}
\implies
\]</span></p>
<p>Dimension reduction can often be described as applying a transformation <span class="math inline">\(A\)</span> to a matrix <span class="math inline">\(X\)</span> with many columns that <em>moves</em> the information contained in <span class="math inline">\(X\)</span> to the first few columns of <span class="math inline">\(Z=AX\)</span> then keeping just these few and thus reducing the dimension of the vectors contained in the rows.</p>
</div>
<div id="orthogogal-transformations-advaced" class="section level2">
<h2><span class="header-section-number">68.3</span> Orthogogal transformations (advaced)</h2>
<p>Note that we redefined distance above to account for the difference in dimensions. We can actually guarantee that the distance scales remain the same if we re-scale the columns of <span class="math inline">\(A\)</span> to assure that the sum of squares are 1:</p>
<p><span class="math display">\[a_{1,1}^2 + a_{2,1}^2 = 1\mbox{ and } a_{1,2}^2 + a_{2,2}^2=1\]</span></p>
<p>and the correlation of the columns is 0:</p>
<p><span class="math display">\[
a_{1,1} a_{1,2} + a_{2,1} a_{2,2} = 0
\]</span></p>
<p>Remember that if the columns are centered to have average 0, then the sum of squares is equivalent to the variance or standard deviation squared.</p>
<p>In the particular example we have been working with, to achieve orthogonality, we multiply the first set of coefficients (first column of <span class="math inline">\(A\)</span>) by <span class="math inline">\(\sqrt{2}\)</span> and the second by <span class="math inline">\(1\sqrt{2}\)</span> then we get the same exact distance if we use both dimensions</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z[,<span class="dv">1</span>] &lt;-<span class="st"> </span>(x[,<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>x[,<span class="dv">2</span>])<span class="op">/</span><span class="kw">sqrt</span>(<span class="dv">2</span>)
z[,<span class="dv">2</span>] &lt;-<span class="st"> </span>(x[,<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>x[,<span class="dv">1</span>])<span class="op">/</span><span class="kw">sqrt</span>(<span class="dv">2</span>)</code></pre></div>
<p>This gives us a transformation that preserves the distance between any two points:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">dist</span>(x), <span class="kw">dist</span>(z))
<span class="kw">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="book_files/figure-html/orthogonal-transformation-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>and a great approximation if we use just the first dimension:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(<span class="kw">dist</span>(x) <span class="op">-</span><span class="st"> </span><span class="kw">dist</span>(z[,<span class="dv">1</span>]))
<span class="co">#&gt; [1] 0.362</span></code></pre></div>
<p>In this case <span class="math inline">\(Z\)</span> is called an orthogonal rotation of <span class="math inline">\(X\)</span>: it preserves the distances between points.</p>
<p>Note that by using the transformation above we can summarize the distance between any two pair of twins with just on dimension. For example, one-dimensional data exploration of the first dimension of <span class="math inline">\(Z\)</span> clearly shows the two groups:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(z[,<span class="dv">1</span>], <span class="dt">bins =</span> <span class="dv">20</span>, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>))</code></pre></div>
<p><img src="book_files/figure-html/twins-pc-1-hist-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We reduced the number of dimensions from two to one with very little loss of information.</p>
<p>The reason we were able to do this is because the columns of <span class="math inline">\(X\)</span> were very correlated:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(x[,<span class="dv">1</span>], x[,<span class="dv">2</span>])
<span class="co">#&gt; [1] 0.986</span></code></pre></div>
<p>and the transformation produced uncorrelated columns with “independent” information in each column:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(z[,<span class="dv">1</span>], z[,<span class="dv">2</span>])
<span class="co">#&gt; [1] 0.0506</span></code></pre></div>
<p>One way this insight may be useful in a machine learning application is that we can reduce the complexity of a model by using just <span class="math inline">\(Z_1\)</span> rather than both <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span>.</p>
<p>It is actually common to obtain data with several highly correlated predictors. In these cases PCA, which we describe next, can be quite useful for reducing the complexity of the model being fit.</p>
</div>
<div id="principal-component-analysis" class="section level2">
<h2><span class="header-section-number">68.4</span> Principal Component Analysis</h2>
<p>In the computation above the total variability in our data can be defined as the sum of squares of the columns. We assume the column are centered so we have:</p>
<p><span class="math display">\[
v_1 = \frac{1}{N}\sum_{i=1}^N X_{i,1}^2 \mbox{ and } v_2 =  \frac{1}{N}\sum_{i=1}^N X_{i,2}^2 
\]</span></p>
<p>Which we can compute using:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colMeans</span>(x<span class="op">^</span><span class="dv">2</span>) 
<span class="co">#&gt; [1] 3887 3904</span></code></pre></div>
<p>We can show, mathematically, that if we apply an orthogonal transformation as above, then the total variation remains the same:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">colMeans</span>(x<span class="op">^</span><span class="dv">2</span>))
<span class="co">#&gt; [1] 7791</span>
<span class="kw">sum</span>(<span class="kw">colMeans</span>(z<span class="op">^</span><span class="dv">2</span>))
<span class="co">#&gt; [1] 7791</span></code></pre></div>
<p>However, while the variability in the two columns of <code>X</code> is about the same, in the transformed version <span class="math inline">\(Z\)</span> 99% of the variability is included in just the first dimensions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v &lt;-<span class="st"> </span><span class="kw">colMeans</span>(z<span class="op">^</span><span class="dv">2</span>)
v<span class="op">/</span><span class="kw">sum</span>(v)
<span class="co">#&gt; [1] 0.999888 0.000112</span></code></pre></div>
<p>The <em>first principal component (PC)</em> of a matrix <span class="math inline">\(X\)</span> is the linear orthogonal transformation of <span class="math inline">\(X\)</span>, that maximizes this variability. The function <code>prcomp</code> provides this info:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pca &lt;-<span class="st"> </span><span class="kw">prcomp</span>(x)
pca<span class="op">$</span>rotation
<span class="co">#&gt;         PC1    PC2</span>
<span class="co">#&gt; [1,] -0.704 -0.710</span>
<span class="co">#&gt; [2,] -0.710  0.704</span></code></pre></div>
<p>Note that the first PC is almost the same as that provided by the <span class="math inline">\((X_1 + X_2)/\sqrt(2)\)</span> we used earlier (except perhaps for a sign change that is arbitrary).</p>
<p>The function PCA returns both the rotation needed to transform <span class="math inline">\(X\)</span> so that the variability of the columns is decreasing from most variable to least as well as the resulting new matrix. By default the columns of <span class="math inline">\(X\)</span> are first centered.</p>
<p>So, using the matrix multiplication shown above, we have that the following are the same:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">sweep</span>(x, <span class="dv">2</span>, <span class="kw">colMeans</span>(x)) 
b &lt;-<span class="st"> </span>pca<span class="op">$</span>x <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(pca<span class="op">$</span>rotation)
<span class="kw">max</span>(<span class="kw">abs</span>(a <span class="op">-</span><span class="st"> </span>b))
<span class="co">#&gt; [1] 5.33e-15</span></code></pre></div>
<p>The rotation is orthogonal which means that the inverse is it’s transpose. So we also have that these two are identical:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">sweep</span>(x, <span class="dv">2</span>, <span class="kw">colMeans</span>(x)) <span class="op">%*%</span><span class="st"> </span>pca<span class="op">$</span>rotation
b &lt;-<span class="st"> </span>pca<span class="op">$</span>x 
<span class="kw">max</span>(<span class="kw">abs</span>(a <span class="op">-</span><span class="st"> </span>b))
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>We can visualize these to see how the first component summaries the data. In the plot below red represents high values and blue negative values. Later we learn why we call these weights and patterns):</p>
<p><img src="book_files/figure-html/illustrate-pca-twin-heights-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>It turns out that we can find this linear transformation not just for two dimensions but for matrices of any dimension <span class="math inline">\(p\)</span>.</p>
<p>For a multidimensional matrix with <span class="math inline">\(X\)</span> with say, <span class="math inline">\(p\)</span> columns, we can find a transformation that creates <span class="math inline">\(Z\)</span> that preserves distance between rows, but with the variance of the columns in decreasing order. The second column is the second principal component, the third column is the third principal component etc…</p>
<p>As in our example, if past <span class="math inline">\(k\)</span> these variances are very small, it means these dimensions have little to contribute to the distance and we can approximate distance between any two points with just <span class="math inline">\(k\)</span> dimensions.</p>
</div>
<div id="iris-example" class="section level2">
<h2><span class="header-section-number">68.5</span> Iris Example</h2>
<p>The Iris data is a widely used example. It includes four botanical measurements related to three flower species:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(iris)
<span class="co">#&gt; [1] &quot;Sepal.Length&quot; &quot;Sepal.Width&quot;  &quot;Petal.Length&quot; &quot;Petal.Width&quot; </span>
<span class="co">#&gt; [5] &quot;Species&quot;</span></code></pre></div>
<p>If you print <code>iris$Species</code> you will see that the data is ordered by the species.</p>
<p>Let’s compute the distance between each observation. You can clearly see the three species with one species very different from the other two:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>iris[,<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.matrix</span>()
d &lt;-<span class="st"> </span><span class="kw">dist</span>(x)
<span class="kw">image</span>(<span class="kw">as.matrix</span>(d), <span class="dt">col =</span> <span class="kw">rev</span>(RColorBrewer<span class="op">::</span><span class="kw">brewer.pal</span>(<span class="dv">9</span>, <span class="st">&quot;RdBu&quot;</span>)))</code></pre></div>
<p><img src="book_files/figure-html/iris-distances-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Our predictors here have four dimensions but three are very correlated:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(x)
<span class="co">#&gt;              Sepal.Length Sepal.Width Petal.Length Petal.Width</span>
<span class="co">#&gt; Sepal.Length        1.000      -0.118        0.872       0.818</span>
<span class="co">#&gt; Sepal.Width        -0.118       1.000       -0.428      -0.366</span>
<span class="co">#&gt; Petal.Length        0.872      -0.428        1.000       0.963</span>
<span class="co">#&gt; Petal.Width         0.818      -0.366        0.963       1.000</span></code></pre></div>
<p>If we apply PCA we should be able to approximate this distance with just two dimensions. Using the <code>summary</code> function we can see the variability explained by each PC:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pca &lt;-<span class="st"> </span><span class="kw">prcomp</span>(x)
<span class="kw">summary</span>(pca)
<span class="co">#&gt; Importance of components:</span>
<span class="co">#&gt;                          PC1    PC2    PC3     PC4</span>
<span class="co">#&gt; Standard deviation     2.056 0.4926 0.2797 0.15439</span>
<span class="co">#&gt; Proportion of Variance 0.925 0.0531 0.0171 0.00521</span>
<span class="co">#&gt; Cumulative Proportion  0.925 0.9777 0.9948 1.00000</span></code></pre></div>
<p>The first two dimensions account for 97%. So we should be able to approximate the distance very well. We can visualize the results of PCA:</p>
<p><img src="book_files/figure-html/illustrate-pca-twin-heights-iris-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>And see that the first pattern is Sepal Length, Petal Length and Petal Width (red) in one direction and Sepal Width (blue) in the other. The second patter is the Sepal Length and Petal Width in one direction (blue) and Petal Length and Petal Width in the other (red). You can see from the weights that the first PC1 drives most the variability and it clearly separates the first third (setosa) from the second two thirds (versicolor and virginica). If you look at the second column of the weights you notice that it somewhat separates versicolor (red) from virgnica (blue).</p>
<p>We can see this better by plotting the first two PCs with color representing the species:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(pca<span class="op">$</span>x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">Species=</span>iris<span class="op">$</span>Species) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(PC1,PC2, <span class="dt">fill =</span> Species))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">cex=</span><span class="dv">3</span>, <span class="dt">pch=</span><span class="dv">21</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_fixed</span>(<span class="dt">ratio =</span> <span class="dv">1</span>)</code></pre></div>
<p><img src="book_files/figure-html/iris-pca-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We see that the first two dimensions preserve the distance:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d_approx &lt;-<span class="st"> </span><span class="kw">dist</span>(pca<span class="op">$</span>x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])
<span class="kw">plot</span>(d, d_approx)
<span class="kw">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="book_files/figure-html/dist-approx-4-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>This example is more realistic than the first since we showed how we can visualize the data, using two dimensions, when the data was four dimensional.</p>
</div>
<div id="mnist" class="section level2">
<h2><span class="header-section-number">68.6</span> MNIST</h2>
<p>We have been using the written digits example. This dataset had 784 features. Is there any room for data reduction? Can we create simple machine learning algorithms with using fewer features?</p>
<p>Let’s load the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span>(<span class="op">!</span><span class="kw">exists</span>(<span class="st">&quot;mnist&quot;</span>)) mnist &lt;-<span class="st"> </span><span class="kw">read_mnist</span>()</code></pre></div>
<p>Because the pixels are so small we expect those to be close to each other on the grid to be correlated, meaning that dimension reduction should be possible.</p>
<p>Let’s try PCA. This will take a few seconds as it is a rather large matrix.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">col_means &lt;-<span class="st"> </span><span class="kw">colMeans</span>(mnist<span class="op">$</span>test<span class="op">$</span>images)
pca &lt;-<span class="st"> </span><span class="kw">prcomp</span>(mnist<span class="op">$</span>train<span class="op">$</span>images)</code></pre></div>
<p>And explore the variance of the PCs:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(pca<span class="op">$</span>sdev)</code></pre></div>
<p><img src="book_files/figure-html/mnist-pca-variance-explained-1.png" width="70%" style="display: block; margin: auto;" /> We can see that the first few PCs already explain a large percent of the variability:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(pca)<span class="op">$</span>importance[,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>] <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">PC1</th>
<th align="right">PC2</th>
<th align="right">PC3</th>
<th align="right">PC4</th>
<th align="right">PC5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Standard deviation</td>
<td align="right">576.823</td>
<td align="right">493.238</td>
<td align="right">459.899</td>
<td align="right">429.856</td>
<td align="right">408.567</td>
</tr>
<tr class="even">
<td>Proportion of Variance</td>
<td align="right">0.097</td>
<td align="right">0.071</td>
<td align="right">0.062</td>
<td align="right">0.054</td>
<td align="right">0.049</td>
</tr>
<tr class="odd">
<td>Cumulative Proportion</td>
<td align="right">0.097</td>
<td align="right">0.168</td>
<td align="right">0.230</td>
<td align="right">0.284</td>
<td align="right">0.332</td>
</tr>
</tbody>
</table>
<p>And just by looking at the first two PCs we see information about the class. Here is a random sample of 2,000 digits:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">PC1 =</span> pca<span class="op">$</span>x[,<span class="dv">1</span>], <span class="dt">PC2 =</span> pca<span class="op">$</span>x[,<span class="dv">2</span>],
           <span class="dt">label=</span><span class="kw">factor</span>(mnist<span class="op">$</span>train<span class="op">$</span>label)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">2000</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(PC1, PC2, <span class="dt">fill=</span>label))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">cex=</span><span class="dv">3</span>, <span class="dt">pch=</span><span class="dv">21</span>)</code></pre></div>
<p><img src="book_files/figure-html/mnist-pca-1-2-scatter-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We can also <em>see</em> the linear combinations on the grid to get an idea of what is getting weighted:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span><span class="kw">lapply</span>( <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>,<span class="dv">781</span><span class="op">:</span><span class="dv">784</span>), <span class="cf">function</span>(i){
    <span class="kw">expand.grid</span>(<span class="dt">Row=</span><span class="dv">1</span><span class="op">:</span><span class="dv">28</span>, <span class="dt">Column=</span><span class="dv">1</span><span class="op">:</span><span class="dv">28</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw">mutate</span>(<span class="dt">id=</span>i, <span class="dt">label=</span><span class="kw">paste0</span>(<span class="st">&quot;PC&quot;</span>,i), 
             <span class="dt">value =</span> pca<span class="op">$</span>rotation[,i])
})
tmp &lt;-<span class="st"> </span><span class="kw">Reduce</span>(rbind, tmp)

tmp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(id<span class="op">&lt;</span><span class="dv">5</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(Row, Column, <span class="dt">fill=</span>value)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_raster</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_reverse</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gradientn</span>(<span class="dt">colors =</span> <span class="kw">brewer.pal</span>(<span class="dv">9</span>, <span class="st">&quot;RdBu&quot;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>label, <span class="dt">nrow =</span> <span class="dv">1</span>)</code></pre></div>
<p><img src="book_files/figure-html/mnist-pca-1-4-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>The higher PCs appear related to unimportant variability in the corners:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(id<span class="op">&gt;</span><span class="dv">5</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(Row, Column, <span class="dt">fill=</span>value)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_raster</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_reverse</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gradientn</span>(<span class="dt">colors =</span> <span class="kw">brewer.pal</span>(<span class="dv">9</span>, <span class="st">&quot;RdBu&quot;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>label, <span class="dt">nrow =</span> <span class="dv">1</span>)</code></pre></div>
<p><img src="book_files/figure-html/mnist-pca-last-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Now let’s apply the transformation we learned with the training data to the test data, reduce the dimension and run knn on just a small number of dimensions.</p>
<p>We try 36 dimensions since this explains about 80% of the data</p>
<p>First fit the model:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(caret)
K &lt;-<span class="st"> </span><span class="dv">36</span>
x_train &lt;-<span class="st"> </span>pca<span class="op">$</span>x[,<span class="dv">1</span><span class="op">:</span>K]
y &lt;-<span class="st"> </span><span class="kw">factor</span>(mnist<span class="op">$</span>train<span class="op">$</span>labels)
fit &lt;-<span class="st"> </span><span class="kw">knn3</span>(x_train, y)</code></pre></div>
<p>Now transform the test set:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x_test &lt;-<span class="st"> </span><span class="kw">sweep</span>(mnist<span class="op">$</span>test<span class="op">$</span>images, <span class="dv">2</span>, col_means) <span class="op">%*%</span><span class="st"> </span>pca<span class="op">$</span>rotation
x_test &lt;-<span class="st"> </span>x_test[,<span class="dv">1</span><span class="op">:</span>K]</code></pre></div>
<p>And we are ready to predict and see how we do:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y_hat &lt;-<span class="st"> </span><span class="kw">predict</span>(fit, x_test, <span class="dt">type =</span> <span class="st">&quot;class&quot;</span>)
<span class="kw">confusionMatrix</span>(y_hat, <span class="kw">factor</span>(mnist<span class="op">$</span>test<span class="op">$</span>labels))<span class="op">$</span>overall
<span class="co">#&gt;       Accuracy          Kappa  AccuracyLower  AccuracyUpper   AccuracyNull </span>
<span class="co">#&gt;          0.974          0.972          0.971          0.977          0.114 </span>
<span class="co">#&gt; AccuracyPValue  McnemarPValue </span>
<span class="co">#&gt;          0.000            NaN</span></code></pre></div>
<p>With just 36 dimensions we get an accuracy well above 0.95.</p>
</div>
<div id="exercises-54" class="section level2 unnumbered">
<h2>Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>We want to explore the <code>tissue_gene_expression</code> predictors by plotting them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;tissue_gene_expression&quot;</span>)
<span class="kw">dim</span>(tissue_gene_expression<span class="op">$</span>x)</code></pre></div>
<p>We want to get an idea of which observations are close to each other, but the predictor are 500 dimensional so plotting is difficult. Plot the first two principal components with color representing tissue type.</p></li>
<li><p>The predictors for each observation are measured on the same device and experimental procedure. This introduces biases that can affect all the predictors from one observation. For each observation compute the average across all predictors and then plot this against the first PC with color representing tissue. Report the correlation.</p></li>
<li><p>We see an association with the first PC and the observation averages. Redo the PCA but only after removing the center.</p></li>
<li><p>For the first 10 PCs, make a boxplot showing the values for each tissue.</p></li>
<li><p>Plot the percent variance explained by PC number. Hint: use the <code>summary</code> function.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ensembles.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="recommendation-systems.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dsbook/edit/master/ml/dimension-reduction.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
