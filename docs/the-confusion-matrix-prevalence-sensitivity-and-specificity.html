<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to Data Science</title>
  <meta name="description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to Data Science" />
  
  <meta name="twitter:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  

<meta name="author" content="Rafael A. Irizarry">


<meta name="date" content="2018-10-29">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction-to-machine-learning.html">
<link rel="next" href="conditional-probabilities-and-expectations.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.3.1/str_view.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#case-studies"><i class="fa fa-check"></i><b>1.1</b> Case studies</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#who-will-find-this-book-useful"><i class="fa fa-check"></i><b>1.2</b> Who will find this book useful?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-does-this-book-cover"><i class="fa fa-check"></i><b>1.3</b> What does this book cover?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#what-is-not-covered-by-this-book"><i class="fa fa-check"></i><b>1.4</b> What is not covered by this book?</a></li>
</ul></li>
<li class="part"><span><b>I R Basics</b></span></li>
<li class="chapter" data-level="2" data-path="case-study-us-gun-murders.html"><a href="case-study-us-gun-murders.html"><i class="fa fa-check"></i><b>2</b> Case study: US Gun Murders</a></li>
<li class="chapter" data-level="3" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-started.html"><a href="getting-started.html#why-r"><i class="fa fa-check"></i><b>3.1</b> Why R?</a></li>
<li class="chapter" data-level="3.2" data-path="getting-started.html"><a href="getting-started.html#installing-r"><i class="fa fa-check"></i><b>3.2</b> Installing R</a></li>
<li class="chapter" data-level="3.3" data-path="getting-started.html"><a href="getting-started.html#the-r-console"><i class="fa fa-check"></i><b>3.3</b> The R console</a></li>
<li class="chapter" data-level="3.4" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>3.4</b> Scripts</a></li>
<li class="chapter" data-level="3.5" data-path="getting-started.html"><a href="getting-started.html#installing-rstudio"><i class="fa fa-check"></i><b>3.5</b> Installing RStudio</a></li>
<li class="chapter" data-level="3.6" data-path="getting-started.html"><a href="getting-started.html#the-r-ecosystem"><i class="fa fa-check"></i><b>3.6</b> The R ecosystem</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-very-basics.html"><a href="the-very-basics.html"><i class="fa fa-check"></i><b>4</b> The very basics</a><ul>
<li class="chapter" data-level="4.1" data-path="the-very-basics.html"><a href="the-very-basics.html#objects"><i class="fa fa-check"></i><b>4.1</b> Objects</a></li>
<li class="chapter" data-level="4.2" data-path="the-very-basics.html"><a href="the-very-basics.html#the-workspace"><i class="fa fa-check"></i><b>4.2</b> The workspace</a></li>
<li class="chapter" data-level="4.3" data-path="the-very-basics.html"><a href="the-very-basics.html#functions"><i class="fa fa-check"></i><b>4.3</b> Functions</a></li>
<li class="chapter" data-level="4.4" data-path="the-very-basics.html"><a href="the-very-basics.html#other-prebuilt-objects"><i class="fa fa-check"></i><b>4.4</b> Other prebuilt objects</a></li>
<li class="chapter" data-level="4.5" data-path="the-very-basics.html"><a href="the-very-basics.html#variable-names"><i class="fa fa-check"></i><b>4.5</b> Variable names</a></li>
<li class="chapter" data-level="4.6" data-path="the-very-basics.html"><a href="the-very-basics.html#saving-your-workspace"><i class="fa fa-check"></i><b>4.6</b> Saving your workspace</a></li>
<li class="chapter" data-level="4.7" data-path="the-very-basics.html"><a href="the-very-basics.html#scripts-1"><i class="fa fa-check"></i><b>4.7</b> Scripts</a></li>
<li class="chapter" data-level="4.8" data-path="the-very-basics.html"><a href="the-very-basics.html#comments"><i class="fa fa-check"></i><b>4.8</b> Comments</a></li>
<li class="chapter" data-level="" data-path="the-very-basics.html"><a href="the-very-basics.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>5</b> Data types</a><ul>
<li class="chapter" data-level="5.1" data-path="data-types.html"><a href="data-types.html#data-frames"><i class="fa fa-check"></i><b>5.1</b> Data frames</a></li>
<li class="chapter" data-level="5.2" data-path="data-types.html"><a href="data-types.html#examining-an-object"><i class="fa fa-check"></i><b>5.2</b> Examining an object</a></li>
<li class="chapter" data-level="5.3" data-path="data-types.html"><a href="data-types.html#the-accessor"><i class="fa fa-check"></i><b>5.3</b> The accessor: <code>$</code></a></li>
<li class="chapter" data-level="5.4" data-path="data-types.html"><a href="data-types.html#vectors-numerics-characters-and-logical"><i class="fa fa-check"></i><b>5.4</b> Vectors: numerics, characters, and logical</a></li>
<li class="chapter" data-level="5.5" data-path="data-types.html"><a href="data-types.html#factors"><i class="fa fa-check"></i><b>5.5</b> Factors</a></li>
<li class="chapter" data-level="5.6" data-path="data-types.html"><a href="data-types.html#lists"><i class="fa fa-check"></i><b>5.6</b> Lists</a></li>
<li class="chapter" data-level="5.7" data-path="data-types.html"><a href="data-types.html#matrices"><i class="fa fa-check"></i><b>5.7</b> Matrices</a></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>6</b> Vectors</a><ul>
<li class="chapter" data-level="6.1" data-path="vectors.html"><a href="vectors.html#creating-vectors"><i class="fa fa-check"></i><b>6.1</b> Creating vectors</a></li>
<li class="chapter" data-level="6.2" data-path="vectors.html"><a href="vectors.html#names"><i class="fa fa-check"></i><b>6.2</b> Names</a></li>
<li class="chapter" data-level="6.3" data-path="vectors.html"><a href="vectors.html#sequences"><i class="fa fa-check"></i><b>6.3</b> Sequences</a></li>
<li class="chapter" data-level="6.4" data-path="vectors.html"><a href="vectors.html#subsetting"><i class="fa fa-check"></i><b>6.4</b> Subsetting</a></li>
<li class="chapter" data-level="6.5" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>6.5</b> Coercion</a></li>
<li class="chapter" data-level="6.6" data-path="vectors.html"><a href="vectors.html#not-availables-na"><i class="fa fa-check"></i><b>6.6</b> Not availables (NA)</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercises-2"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>7</b> Sorting</a><ul>
<li class="chapter" data-level="7.1" data-path="sorting.html"><a href="sorting.html#sort"><i class="fa fa-check"></i><b>7.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="7.2" data-path="sorting.html"><a href="sorting.html#order"><i class="fa fa-check"></i><b>7.2</b> <code>order</code></a></li>
<li class="chapter" data-level="7.3" data-path="sorting.html"><a href="sorting.html#max-and-which.max"><i class="fa fa-check"></i><b>7.3</b> <code>max</code> and <code>which.max</code></a></li>
<li class="chapter" data-level="7.4" data-path="sorting.html"><a href="sorting.html#rank"><i class="fa fa-check"></i><b>7.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="7.5" data-path="sorting.html"><a href="sorting.html#beware-of-recycling"><i class="fa fa-check"></i><b>7.5</b> Beware of recycling</a></li>
<li class="chapter" data-level="" data-path="sorting.html"><a href="sorting.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html"><i class="fa fa-check"></i><b>8</b> Vector arithmetics</a><ul>
<li class="chapter" data-level="8.1" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#rescaling"><i class="fa fa-check"></i><b>8.1</b> Rescaling</a></li>
<li class="chapter" data-level="8.2" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#two-vectors"><i class="fa fa-check"></i><b>8.2</b> Two vectors</a></li>
<li class="chapter" data-level="" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#exercises-3"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="indexing.html"><a href="indexing.html"><i class="fa fa-check"></i><b>9</b> Indexing</a><ul>
<li class="chapter" data-level="9.1" data-path="indexing.html"><a href="indexing.html#subsetting-with-logicals"><i class="fa fa-check"></i><b>9.1</b> Subsetting with logicals</a></li>
<li class="chapter" data-level="9.2" data-path="indexing.html"><a href="indexing.html#logical-operators"><i class="fa fa-check"></i><b>9.2</b> Logical operators</a></li>
<li class="chapter" data-level="9.3" data-path="indexing.html"><a href="indexing.html#which"><i class="fa fa-check"></i><b>9.3</b> <code>which</code></a></li>
<li class="chapter" data-level="9.4" data-path="indexing.html"><a href="indexing.html#match"><i class="fa fa-check"></i><b>9.4</b> <code>match</code></a></li>
<li class="chapter" data-level="9.5" data-path="indexing.html"><a href="indexing.html#in"><i class="fa fa-check"></i><b>9.5</b> <code>%in%</code></a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercises-4"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html"><i class="fa fa-check"></i><b>10</b> Basic data wrangling</a><ul>
<li class="chapter" data-level="10.1" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#adding-a-column-with-mutate"><i class="fa fa-check"></i><b>10.1</b> Adding a column with <code>mutate</code></a></li>
<li class="chapter" data-level="10.2" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#subsetting-with-filter"><i class="fa fa-check"></i><b>10.2</b> Subsetting with <code>filter</code></a></li>
<li class="chapter" data-level="10.3" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#selecting-columns-with-select"><i class="fa fa-check"></i><b>10.3</b> Selecting columns with <code>select</code></a></li>
<li class="chapter" data-level="10.4" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#the-pipe"><i class="fa fa-check"></i><b>10.4</b> The pipe: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="10.5" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#creating-a-data-frame"><i class="fa fa-check"></i><b>10.5</b> Creating a data frame</a></li>
<li class="chapter" data-level="" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#exercises-5"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="basic-plots.html"><a href="basic-plots.html"><i class="fa fa-check"></i><b>11</b> Basic plots</a><ul>
<li class="chapter" data-level="11.1" data-path="basic-plots.html"><a href="basic-plots.html#scatterplots"><i class="fa fa-check"></i><b>11.1</b> Scatterplots</a></li>
<li class="chapter" data-level="11.2" data-path="basic-plots.html"><a href="basic-plots.html#histograms"><i class="fa fa-check"></i><b>11.2</b> Histograms</a></li>
<li class="chapter" data-level="11.3" data-path="basic-plots.html"><a href="basic-plots.html#boxplot"><i class="fa fa-check"></i><b>11.3</b> Boxplot</a></li>
<li class="chapter" data-level="" data-path="basic-plots.html"><a href="basic-plots.html#exercises-6"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>12</b> Importing data</a><ul>
<li class="chapter" data-level="12.1" data-path="importing-data.html"><a href="importing-data.html#paths-and-the-working-directory"><i class="fa fa-check"></i><b>12.1</b> Paths and the working directory</a></li>
<li class="chapter" data-level="12.2" data-path="importing-data.html"><a href="importing-data.html#read.csv"><i class="fa fa-check"></i><b>12.2</b> <code>read.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="programming-basics.html"><a href="programming-basics.html"><i class="fa fa-check"></i><b>13</b> Programming basics</a><ul>
<li class="chapter" data-level="13.1" data-path="programming-basics.html"><a href="programming-basics.html#conditionals-expressions"><i class="fa fa-check"></i><b>13.1</b> Conditionals expressions</a></li>
<li class="chapter" data-level="13.2" data-path="programming-basics.html"><a href="programming-basics.html#defining-functions"><i class="fa fa-check"></i><b>13.2</b> Defining functions</a></li>
<li class="chapter" data-level="13.3" data-path="programming-basics.html"><a href="programming-basics.html#namespaces"><i class="fa fa-check"></i><b>13.3</b> Namespaces</a></li>
<li class="chapter" data-level="13.4" data-path="programming-basics.html"><a href="programming-basics.html#for-loops"><i class="fa fa-check"></i><b>13.4</b> For-loops</a></li>
<li class="chapter" data-level="13.5" data-path="programming-basics.html"><a href="programming-basics.html#vectorization-and-functionals"><i class="fa fa-check"></i><b>13.5</b> Vectorization and functionals</a></li>
<li class="chapter" data-level="13.6" data-path="programming-basics.html"><a href="programming-basics.html#map"><i class="fa fa-check"></i><b>13.6</b> map</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercises-7.html"><a href="exercises-7.html"><i class="fa fa-check"></i>Exercises</a></li>
<li class="part"><span><b>II Data Visualization</b></span></li>
<li class="chapter" data-level="14" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>14</b> Distributions</a><ul>
<li class="chapter" data-level="14.1" data-path="distributions.html"><a href="distributions.html#variable-types"><i class="fa fa-check"></i><b>14.1</b> Variable types</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="14.2" data-path="distributions.html"><a href="distributions.html#case-study-student-heights"><i class="fa fa-check"></i><b>14.2</b> Case study: Student heights</a></li>
<li class="chapter" data-level="14.3" data-path="distributions.html"><a href="distributions.html#distribution-function"><i class="fa fa-check"></i><b>14.3</b> Distribution function</a></li>
<li class="chapter" data-level="14.4" data-path="distributions.html"><a href="distributions.html#cumulative-distribution-functions"><i class="fa fa-check"></i><b>14.4</b> Cumulative distribution functions</a></li>
<li class="chapter" data-level="14.5" data-path="distributions.html"><a href="distributions.html#histograms-1"><i class="fa fa-check"></i><b>14.5</b> Histograms</a></li>
<li class="chapter" data-level="14.6" data-path="distributions.html"><a href="distributions.html#smoothed-density"><i class="fa fa-check"></i><b>14.6</b> Smoothed density</a><ul>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#interpreting-the-y-axis"><i class="fa fa-check"></i>Interpreting the y-axis</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#densities-permit-stratification"><i class="fa fa-check"></i>Densities permit stratification</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-9"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="14.7" data-path="distributions.html"><a href="distributions.html#the-normal-distribution"><i class="fa fa-check"></i><b>14.7</b> The normal distribution</a></li>
<li class="chapter" data-level="14.8" data-path="distributions.html"><a href="distributions.html#standardized-units"><i class="fa fa-check"></i><b>14.8</b> Standardized units</a></li>
<li class="chapter" data-level="14.9" data-path="distributions.html"><a href="distributions.html#quantile-quantile-qq-plots"><i class="fa fa-check"></i><b>14.9</b> Quantile-quantile QQ plots</a></li>
<li class="chapter" data-level="14.10" data-path="distributions.html"><a href="distributions.html#percentiles"><i class="fa fa-check"></i><b>14.10</b> Percentiles</a></li>
<li class="chapter" data-level="14.11" data-path="distributions.html"><a href="distributions.html#case-study-student-heights-continued"><i class="fa fa-check"></i><b>14.11</b> Case study: Student heights (continued)</a></li>
<li class="chapter" data-level="14.12" data-path="distributions.html"><a href="distributions.html#boxplots"><i class="fa fa-check"></i><b>14.12</b> Boxplots</a></li>
<li class="chapter" data-level="14.13" data-path="distributions.html"><a href="distributions.html#case-study-student-heights-continued-1"><i class="fa fa-check"></i><b>14.13</b> Case study: Student heights (continued)</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-10"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>15</b> Robust summaries</a><ul>
<li class="chapter" data-level="15.1" data-path="robust-summaries.html"><a href="robust-summaries.html#outliers"><i class="fa fa-check"></i><b>15.1</b> Outliers</a></li>
<li class="chapter" data-level="15.2" data-path="robust-summaries.html"><a href="robust-summaries.html#median"><i class="fa fa-check"></i><b>15.2</b> Median</a></li>
<li class="chapter" data-level="15.3" data-path="robust-summaries.html"><a href="robust-summaries.html#the-inter-quartile-range-iqr"><i class="fa fa-check"></i><b>15.3</b> The inter quartile range (IQR)</a></li>
<li class="chapter" data-level="15.4" data-path="robust-summaries.html"><a href="robust-summaries.html#tukeys-definition-of-an-outlier"><i class="fa fa-check"></i><b>15.4</b> Tukey’s definition of an outlier</a></li>
<li class="chapter" data-level="15.5" data-path="robust-summaries.html"><a href="robust-summaries.html#median-absolute-deviation"><i class="fa fa-check"></i><b>15.5</b> Median absolute deviation</a></li>
<li class="chapter" data-level="" data-path="robust-summaries.html"><a href="robust-summaries.html#exercises-11"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="15.6" data-path="robust-summaries.html"><a href="robust-summaries.html#case-study-self-reported-student-heights"><i class="fa fa-check"></i><b>15.6</b> Case study: Self-reported student heights</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html"><i class="fa fa-check"></i><b>16</b> Summarizing data with dplyr</a><ul>
<li class="chapter" data-level="16.1" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#summarize"><i class="fa fa-check"></i><b>16.1</b> Summarize</a></li>
<li class="chapter" data-level="16.2" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#the-dot-operator"><i class="fa fa-check"></i><b>16.2</b> The dot operator</a></li>
<li class="chapter" data-level="16.3" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#group-then-summarize"><i class="fa fa-check"></i><b>16.3</b> Group then summarize</a></li>
<li class="chapter" data-level="16.4" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#sorting-data-frames"><i class="fa fa-check"></i><b>16.4</b> Sorting data frames</a><ul>
<li class="chapter" data-level="" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#nested-sorting"><i class="fa fa-check"></i>Nested sorting</a></li>
<li><a href="summarizing-data-with-dplyr.html#the-top-n">The top <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#exercises-12"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>17</b> ggplot2</a><ul>
<li class="chapter" data-level="17.1" data-path="ggplot2.html"><a href="ggplot2.html#the-cheat-sheet"><i class="fa fa-check"></i><b>17.1</b> The cheat sheet</a></li>
<li class="chapter" data-level="17.2" data-path="ggplot2.html"><a href="ggplot2.html#the-components-of-a-graph"><i class="fa fa-check"></i><b>17.2</b> The components of a graph</a></li>
<li class="chapter" data-level="17.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot-objects-a-blank-slate"><i class="fa fa-check"></i><b>17.3</b> <code>ggplot</code> objects: a blank slate</a></li>
<li class="chapter" data-level="17.4" data-path="ggplot2.html"><a href="ggplot2.html#geometries"><i class="fa fa-check"></i><b>17.4</b> Geometries</a></li>
<li class="chapter" data-level="17.5" data-path="ggplot2.html"><a href="ggplot2.html#aesthetic-mappings"><i class="fa fa-check"></i><b>17.5</b> Aesthetic mappings</a></li>
<li class="chapter" data-level="17.6" data-path="ggplot2.html"><a href="ggplot2.html#layers"><i class="fa fa-check"></i><b>17.6</b> Layers</a></li>
<li class="chapter" data-level="17.7" data-path="ggplot2.html"><a href="ggplot2.html#tinkering-with-arguments"><i class="fa fa-check"></i><b>17.7</b> Tinkering with arguments</a></li>
<li class="chapter" data-level="17.8" data-path="ggplot2.html"><a href="ggplot2.html#global-versus-local-aesthetic-mappings"><i class="fa fa-check"></i><b>17.8</b> Global versus local aesthetic mappings</a></li>
<li class="chapter" data-level="17.9" data-path="ggplot2.html"><a href="ggplot2.html#scales"><i class="fa fa-check"></i><b>17.9</b> Scales</a></li>
<li class="chapter" data-level="17.10" data-path="ggplot2.html"><a href="ggplot2.html#labels-and-titles"><i class="fa fa-check"></i><b>17.10</b> Labels and titles</a></li>
<li class="chapter" data-level="17.11" data-path="ggplot2.html"><a href="ggplot2.html#categories-as-colors"><i class="fa fa-check"></i><b>17.11</b> Categories as colors</a></li>
<li class="chapter" data-level="17.12" data-path="ggplot2.html"><a href="ggplot2.html#annotation-and-shapes"><i class="fa fa-check"></i><b>17.12</b> Annotation and shapes</a></li>
<li class="chapter" data-level="17.13" data-path="ggplot2.html"><a href="ggplot2.html#adjustments"><i class="fa fa-check"></i><b>17.13</b> Adjustments</a></li>
<li class="chapter" data-level="17.14" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>17.14</b> Add-on packages</a></li>
<li class="chapter" data-level="17.15" data-path="ggplot2.html"><a href="ggplot2.html#putting-it-all-together"><i class="fa fa-check"></i><b>17.15</b> Putting it all together</a></li>
<li class="chapter" data-level="17.16" data-path="ggplot2.html"><a href="ggplot2.html#other-geometries"><i class="fa fa-check"></i><b>17.16</b> Other geometries</a><ul>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#histogram"><i class="fa fa-check"></i>Histogram</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#density"><i class="fa fa-check"></i>Density</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#qq-plots"><i class="fa fa-check"></i>QQ-plots</a></li>
</ul></li>
<li class="chapter" data-level="17.17" data-path="ggplot2.html"><a href="ggplot2.html#grids-of-plots"><i class="fa fa-check"></i><b>17.17</b> Grids of plots</a></li>
<li class="chapter" data-level="17.18" data-path="ggplot2.html"><a href="ggplot2.html#quick-plots-with-qplot"><i class="fa fa-check"></i><b>17.18</b> Quick plots with <code>qplot</code></a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#exercises-13"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html"><i class="fa fa-check"></i><b>18</b> Case study: Trends in world health and economics</a><ul>
<li class="chapter" data-level="18.1" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#example-1-life-expectancy-and-fertility-rates"><i class="fa fa-check"></i><b>18.1</b> Example 1: Life expectancy and fertility rates</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#hans-roslings-quiz"><i class="fa fa-check"></i>Hans Rosling’s quiz</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#a-scatterplot"><i class="fa fa-check"></i>A scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#faceting"><i class="fa fa-check"></i><b>18.2</b> Faceting</a><ul>
<li><a href="case-study-trends-in-world-health-and-economics.html#facet_wrap"><code>facet_wrap</code></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#fixed-scales-for-better-comparisons"><i class="fa fa-check"></i><b>18.3</b> Fixed scales for better comparisons</a></li>
<li class="chapter" data-level="18.4" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#time-series-plots"><i class="fa fa-check"></i><b>18.4</b> Time series plots</a></li>
<li class="chapter" data-level="18.5" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#labels-for-legends"><i class="fa fa-check"></i><b>18.5</b> Labels for legends</a></li>
<li class="chapter" data-level="18.6" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#example-2-income-distribution"><i class="fa fa-check"></i><b>18.6</b> Example 2: Income distribution</a></li>
<li class="chapter" data-level="18.7" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#transformations"><i class="fa fa-check"></i><b>18.7</b> Transformations</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#country-income-distribution"><i class="fa fa-check"></i>Country income distribution</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#which-base"><i class="fa fa-check"></i>Which base?</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#transform-the-values-or-the-scale"><i class="fa fa-check"></i>Transform the values or the scale?</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#modes"><i class="fa fa-check"></i><b>18.8</b> Modes</a></li>
<li class="chapter" data-level="18.9" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#stratify-and-boxplot"><i class="fa fa-check"></i><b>18.9</b> Stratify and boxplot</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#do-not-order-alphabetically"><i class="fa fa-check"></i>Do not order alphabetically</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#show-the-data"><i class="fa fa-check"></i>Show the data</a></li>
</ul></li>
<li class="chapter" data-level="18.10" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#comparing-distributions"><i class="fa fa-check"></i><b>18.10</b> Comparing distributions</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#density-plots"><i class="fa fa-check"></i>Density plots</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#accessing-computed-variables"><i class="fa fa-check"></i>Accessing computed variables</a></li>
<li class="chapter" data-level="18.10.1" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#case_when"><i class="fa fa-check"></i><b>18.10.1</b> ‘case_when’</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#weighted-densities"><i class="fa fa-check"></i>Weighted densities</a></li>
</ul></li>
<li class="chapter" data-level="18.11" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#ecological-fallacy"><i class="fa fa-check"></i><b>18.11</b> Ecological fallacy</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#logistic-transformation"><i class="fa fa-check"></i>Logistic transformation</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#show-the-data-1"><i class="fa fa-check"></i>Show the data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html"><i class="fa fa-check"></i><b>19</b> Data visualization principles</a><ul>
<li class="chapter" data-level="19.1" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#encoding-data-using-visual-cues"><i class="fa fa-check"></i><b>19.1</b> Encoding data using visual cues</a></li>
<li class="chapter" data-level="19.2" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#know-when-to-include-0"><i class="fa fa-check"></i><b>19.2</b> Know when to include 0</a></li>
<li class="chapter" data-level="19.3" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#do-not-distort-quantities"><i class="fa fa-check"></i><b>19.3</b> Do not distort quantities</a></li>
<li class="chapter" data-level="19.4" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#order-by-a-meaningful-value"><i class="fa fa-check"></i><b>19.4</b> Order by a meaningful value</a></li>
<li class="chapter" data-level="19.5" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#show-the-data-2"><i class="fa fa-check"></i><b>19.5</b> Show the data</a></li>
<li class="chapter" data-level="19.6" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-use-common-axes"><i class="fa fa-check"></i><b>19.6</b> Ease comparisons: use common axes</a></li>
<li class="chapter" data-level="19.7" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-align-plots-vertically-to-see-horizontal-changes-and-horizontally-to-see-vertical-changes"><i class="fa fa-check"></i><b>19.7</b> Ease comparisons: align plots vertically to see horizontal changes and horizontally to see vertical changes</a></li>
<li class="chapter" data-level="19.8" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#consider-transformations"><i class="fa fa-check"></i><b>19.8</b> Consider transformations</a></li>
<li class="chapter" data-level="19.9" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-visual-cues-to-be-compared-should-be-adjacent"><i class="fa fa-check"></i><b>19.9</b> Ease comparisons: visual cues to be compared should be adjacent</a></li>
<li class="chapter" data-level="19.10" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparison-use-color"><i class="fa fa-check"></i><b>19.10</b> Ease comparison: use color</a></li>
<li class="chapter" data-level="19.11" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#think-of-the-color-blind"><i class="fa fa-check"></i><b>19.11</b> Think of the color blind</a></li>
<li class="chapter" data-level="19.12" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#use-scatterplots-to-examine-the-relationship-between-two-variables"><i class="fa fa-check"></i><b>19.12</b> Use scatterplots to examine the relationship between two variables</a><ul>
<li class="chapter" data-level="19.12.1" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#slope-charts"><i class="fa fa-check"></i><b>19.12.1</b> Slope charts</a></li>
<li class="chapter" data-level="19.12.2" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#bland-altman-plot"><i class="fa fa-check"></i><b>19.12.2</b> Bland-Altman plot</a></li>
</ul></li>
<li class="chapter" data-level="19.13" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#encoding-a-third-variable"><i class="fa fa-check"></i><b>19.13</b> Encoding a third variable</a></li>
<li class="chapter" data-level="19.14" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-pseudo-three-dimensional-plots"><i class="fa fa-check"></i><b>19.14</b> Avoid pseudo three dimensional plots</a></li>
<li class="chapter" data-level="19.15" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-gratuitous-three-dimensional-plots"><i class="fa fa-check"></i><b>19.15</b> Avoid gratuitous three dimensional plots</a></li>
<li class="chapter" data-level="19.16" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-too-many-significant-digits"><i class="fa fa-check"></i><b>19.16</b> Avoid too many significant digits</a></li>
<li class="chapter" data-level="19.17" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#know-your-audience"><i class="fa fa-check"></i><b>19.17</b> Know your audience</a></li>
<li class="chapter" data-level="19.18" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#further-reading"><i class="fa fa-check"></i><b>19.18</b> Further reading:</a></li>
<li class="chapter" data-level="" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#exercises-14"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><a href="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><i class="fa fa-check"></i><b>20</b> Case study: The impact of vaccines on battling infectious diseases</a><ul>
<li class="chapter" data-level="" data-path="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><a href="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html#exercises-15"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Probability</b></span></li>
<li class="chapter" data-level="21" data-path="discrete-probability.html"><a href="discrete-probability.html"><i class="fa fa-check"></i><b>21</b> Discrete probability</a><ul>
<li class="chapter" data-level="21.1" data-path="discrete-probability.html"><a href="discrete-probability.html#relative-frequency"><i class="fa fa-check"></i><b>21.1</b> Relative frequency</a></li>
<li class="chapter" data-level="21.2" data-path="discrete-probability.html"><a href="discrete-probability.html#notation"><i class="fa fa-check"></i><b>21.2</b> Notation</a></li>
<li class="chapter" data-level="21.3" data-path="discrete-probability.html"><a href="discrete-probability.html#monte-carlo-simulations"><i class="fa fa-check"></i><b>21.3</b> Monte Carlo simulations</a></li>
<li class="chapter" data-level="21.4" data-path="discrete-probability.html"><a href="discrete-probability.html#setting-the-random-seed"><i class="fa fa-check"></i><b>21.4</b> Setting the random seed</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#with-and-without-replacement"><i class="fa fa-check"></i>With and without replacement</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="discrete-probability.html"><a href="discrete-probability.html#probability-distributions"><i class="fa fa-check"></i><b>21.5</b> Probability distributions</a></li>
<li class="chapter" data-level="21.6" data-path="discrete-probability.html"><a href="discrete-probability.html#independence"><i class="fa fa-check"></i><b>21.6</b> Independence</a></li>
<li class="chapter" data-level="21.7" data-path="discrete-probability.html"><a href="discrete-probability.html#conditional-probabilities"><i class="fa fa-check"></i><b>21.7</b> Conditional probabilities</a></li>
<li class="chapter" data-level="21.8" data-path="discrete-probability.html"><a href="discrete-probability.html#multiplication-rule"><i class="fa fa-check"></i><b>21.8</b> Multiplication rule</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#multiplication-rule-under-indepedence"><i class="fa fa-check"></i>Multiplication rule under indepedence</a></li>
</ul></li>
<li class="chapter" data-level="21.9" data-path="discrete-probability.html"><a href="discrete-probability.html#combinations-and-permutations"><i class="fa fa-check"></i><b>21.9</b> Combinations and permutations</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#monte-carlo-example"><i class="fa fa-check"></i>Monte Carlo example</a></li>
</ul></li>
<li class="chapter" data-level="21.10" data-path="discrete-probability.html"><a href="discrete-probability.html#birthday-problem"><i class="fa fa-check"></i><b>21.10</b> Birthday problem</a></li>
<li class="chapter" data-level="21.11" data-path="discrete-probability.html"><a href="discrete-probability.html#how-many-monte-carlo-experiments-are-enough"><i class="fa fa-check"></i><b>21.11</b> How many Monte Carlo experiments are enough</a></li>
<li class="chapter" data-level="21.12" data-path="discrete-probability.html"><a href="discrete-probability.html#addition-rule"><i class="fa fa-check"></i><b>21.12</b> Addition rule</a></li>
<li class="chapter" data-level="21.13" data-path="discrete-probability.html"><a href="discrete-probability.html#monty-hall-problem"><i class="fa fa-check"></i><b>21.13</b> Monty Hall problem</a></li>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#exercises-16"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="continuous-probability.html"><a href="continuous-probability.html"><i class="fa fa-check"></i><b>22</b> Continuous probability</a><ul>
<li class="chapter" data-level="22.1" data-path="continuous-probability.html"><a href="continuous-probability.html#theoretical-distribution"><i class="fa fa-check"></i><b>22.1</b> Theoretical distribution</a></li>
<li class="chapter" data-level="22.2" data-path="continuous-probability.html"><a href="continuous-probability.html#approximations"><i class="fa fa-check"></i><b>22.2</b> Approximations</a></li>
<li class="chapter" data-level="22.3" data-path="continuous-probability.html"><a href="continuous-probability.html#the-probability-density"><i class="fa fa-check"></i><b>22.3</b> The probability density</a></li>
<li class="chapter" data-level="22.4" data-path="continuous-probability.html"><a href="continuous-probability.html#monte-carlo-simulations-1"><i class="fa fa-check"></i><b>22.4</b> Monte Carlo simulations</a></li>
<li class="chapter" data-level="22.5" data-path="continuous-probability.html"><a href="continuous-probability.html#other-continuous-distributions"><i class="fa fa-check"></i><b>22.5</b> Other continuous distributions</a></li>
<li class="chapter" data-level="" data-path="continuous-probability.html"><a href="continuous-probability.html#exercise-1"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="random-variables.html"><a href="random-variables.html"><i class="fa fa-check"></i><b>23</b> Random variables</a><ul>
<li class="chapter" data-level="23.1" data-path="random-variables.html"><a href="random-variables.html#sampling-models"><i class="fa fa-check"></i><b>23.1</b> Sampling models</a></li>
<li class="chapter" data-level="23.2" data-path="random-variables.html"><a href="random-variables.html#the-probability-distribution-of-a-random-variable"><i class="fa fa-check"></i><b>23.2</b> The probability distribution of a random variable</a></li>
<li class="chapter" data-level="23.3" data-path="random-variables.html"><a href="random-variables.html#distributions-versus-probability-distributions"><i class="fa fa-check"></i><b>23.3</b> Distributions versus probability distributions</a></li>
<li class="chapter" data-level="23.4" data-path="random-variables.html"><a href="random-variables.html#notation-for-random-variables"><i class="fa fa-check"></i><b>23.4</b> Notation for random variables</a></li>
<li class="chapter" data-level="23.5" data-path="random-variables.html"><a href="random-variables.html#central-limit-theorem"><i class="fa fa-check"></i><b>23.5</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="23.6" data-path="random-variables.html"><a href="random-variables.html#the-expected-value-and-standard-error"><i class="fa fa-check"></i><b>23.6</b> The expected value and standard error</a></li>
<li class="chapter" data-level="23.7" data-path="random-variables.html"><a href="random-variables.html#central-limit-theorem-approximation"><i class="fa fa-check"></i><b>23.7</b> Central Limit Theorem approximation</a></li>
<li class="chapter" data-level="23.8" data-path="random-variables.html"><a href="random-variables.html#statistical-properties-of-averages"><i class="fa fa-check"></i><b>23.8</b> Statistical properties of averages</a><ul>
<li><a href="random-variables.html#why-we-use-mu-and-sigma">Why we use <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span></a></li>
</ul></li>
<li class="chapter" data-level="23.9" data-path="random-variables.html"><a href="random-variables.html#law-of-large-numbers"><i class="fa fa-check"></i><b>23.9</b> Law of large numbers</a><ul>
<li class="chapter" data-level="23.9.1" data-path="random-variables.html"><a href="random-variables.html#misinterpreting-law-of-averages"><i class="fa fa-check"></i><b>23.9.1</b> Misinterpreting law of averages</a></li>
</ul></li>
<li class="chapter" data-level="23.10" data-path="random-variables.html"><a href="random-variables.html#how-large-is-large-in-clt"><i class="fa fa-check"></i><b>23.10</b> How large is large in CLT?</a></li>
<li class="chapter" data-level="23.11" data-path="random-variables.html"><a href="random-variables.html#population-sd-versus-the-sample-sd"><i class="fa fa-check"></i><b>23.11</b> Population SD versus the sample SD</a></li>
<li class="chapter" data-level="" data-path="random-variables.html"><a href="random-variables.html#exercises-17"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html"><i class="fa fa-check"></i><b>24</b> Case study: The Big Short</a><ul>
<li class="chapter" data-level="24.1" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#interest-rates-explained-with-chance-model"><i class="fa fa-check"></i><b>24.1</b> Interest rates explained with chance model</a></li>
<li class="chapter" data-level="24.2" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#the-big-short"><i class="fa fa-check"></i><b>24.2</b> The Big Short</a></li>
<li class="chapter" data-level="" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#exercises-18"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Inference and modeling</b></span></li>
<li class="chapter" data-level="25" data-path="polls.html"><a href="polls.html"><i class="fa fa-check"></i><b>25</b> Polls</a><ul>
<li class="chapter" data-level="25.1" data-path="polls.html"><a href="polls.html#opinion-polls"><i class="fa fa-check"></i><b>25.1</b> Opinion polls</a></li>
<li class="chapter" data-level="25.2" data-path="polls.html"><a href="polls.html#the-sampling-model-for-polls"><i class="fa fa-check"></i><b>25.2</b> The sampling model for polls</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html"><i class="fa fa-check"></i><b>26</b> Populations, samples, parameters and estimates</a><ul>
<li class="chapter" data-level="26.1" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#the-sample-average"><i class="fa fa-check"></i><b>26.1</b> The sample average</a></li>
<li class="chapter" data-level="26.2" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#parameters"><i class="fa fa-check"></i><b>26.2</b> Parameters</a></li>
<li class="chapter" data-level="26.3" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#polling-versus-forecasting"><i class="fa fa-check"></i><b>26.3</b> Polling versus forecasting</a></li>
<li class="chapter" data-level="26.4" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#properties-of-our-estimate-expected-value-and-standard-error"><i class="fa fa-check"></i><b>26.4</b> Properties of our estimate: expected value and standard error</a></li>
<li class="chapter" data-level="" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#exercises-19"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html"><i class="fa fa-check"></i><b>27</b> Central Limit Theorem in practice</a><ul>
<li class="chapter" data-level="27.1" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#a-monte-carlo-simulation"><i class="fa fa-check"></i><b>27.1</b> A Monte Carlo simulation</a></li>
<li class="chapter" data-level="27.2" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#the-spread"><i class="fa fa-check"></i><b>27.2</b> The spread</a></li>
<li class="chapter" data-level="27.3" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#bias-why-not-run-a-very-large-poll"><i class="fa fa-check"></i><b>27.3</b> Bias: why not run a very large poll?</a></li>
<li class="chapter" data-level="" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#exercises-20"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>28</b> Confidence intervals</a><ul>
<li class="chapter" data-level="28.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#a-monte-carlo-simulation-1"><i class="fa fa-check"></i><b>28.1</b> A Monte Carlo simulation</a></li>
<li class="chapter" data-level="28.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#the-correct-language"><i class="fa fa-check"></i><b>28.2</b> The correct language</a></li>
<li class="chapter" data-level="28.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#power"><i class="fa fa-check"></i><b>28.3</b> Power</a></li>
<li class="chapter" data-level="28.4" data-path="confidence-intervals.html"><a href="confidence-intervals.html#p-values"><i class="fa fa-check"></i><b>28.4</b> p-values</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#exercises-21"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="statistical-models.html"><a href="statistical-models.html"><i class="fa fa-check"></i><b>29</b> Statistical models</a><ul>
<li class="chapter" data-level="29.1" data-path="statistical-models.html"><a href="statistical-models.html#poll-aggregators"><i class="fa fa-check"></i><b>29.1</b> Poll aggregators</a></li>
<li class="chapter" data-level="29.2" data-path="statistical-models.html"><a href="statistical-models.html#poll-data"><i class="fa fa-check"></i><b>29.2</b> Poll data</a></li>
<li class="chapter" data-level="29.3" data-path="statistical-models.html"><a href="statistical-models.html#pollster-bias"><i class="fa fa-check"></i><b>29.3</b> Pollster bias</a></li>
<li class="chapter" data-level="29.4" data-path="statistical-models.html"><a href="statistical-models.html#data-driven-model"><i class="fa fa-check"></i><b>29.4</b> Data driven model</a></li>
<li class="chapter" data-level="" data-path="statistical-models.html"><a href="statistical-models.html#exercises-22"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html"><i class="fa fa-check"></i><b>30</b> Bayesian statistics</a><ul>
<li class="chapter" data-level="30.1" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-theorem"><i class="fa fa-check"></i><b>30.1</b> Bayes theorem</a></li>
<li class="chapter" data-level="30.2" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-theorem-simulation"><i class="fa fa-check"></i><b>30.2</b> Bayes Theorem simulation</a></li>
<li class="chapter" data-level="30.3" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-in-practice"><i class="fa fa-check"></i><b>30.3</b> Bayes in practice</a></li>
<li class="chapter" data-level="30.4" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#the-hierarchical-model"><i class="fa fa-check"></i><b>30.4</b> The hierarchical model</a></li>
<li class="chapter" data-level="" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#exercises-23"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html"><i class="fa fa-check"></i><b>31</b> Case study: Election forecasting</a><ul>
<li class="chapter" data-level="31.1" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#bayesian-approach"><i class="fa fa-check"></i><b>31.1</b> Bayesian approach</a></li>
<li class="chapter" data-level="31.2" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#the-general-bias"><i class="fa fa-check"></i><b>31.2</b> The general bias</a></li>
<li class="chapter" data-level="31.3" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#mathematical-representations-of-models"><i class="fa fa-check"></i><b>31.3</b> Mathematical representations of models</a></li>
<li class="chapter" data-level="31.4" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#predicting-the-electoral-college"><i class="fa fa-check"></i><b>31.4</b> Predicting the electoral college</a></li>
<li class="chapter" data-level="31.5" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#forecasting"><i class="fa fa-check"></i><b>31.5</b> Forecasting</a></li>
<li class="chapter" data-level="" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#exercise-2"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="" data-path="case-study-election-forecasting.html"><a href="case-study-election-forecasting.html#exercises-24"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="association-tests.html"><a href="association-tests.html"><i class="fa fa-check"></i><b>32</b> Association Tests</a><ul>
<li class="chapter" data-level="32.1" data-path="association-tests.html"><a href="association-tests.html#lady-tasting-tea"><i class="fa fa-check"></i><b>32.1</b> Lady Tasting Tea</a></li>
<li class="chapter" data-level="32.2" data-path="association-tests.html"><a href="association-tests.html#two-by-two-tables"><i class="fa fa-check"></i><b>32.2</b> Two-by-two tables</a></li>
<li class="chapter" data-level="32.3" data-path="association-tests.html"><a href="association-tests.html#chi-square-test"><i class="fa fa-check"></i><b>32.3</b> Chi-square Test</a></li>
<li class="chapter" data-level="32.4" data-path="association-tests.html"><a href="association-tests.html#the-odds-ratio"><i class="fa fa-check"></i><b>32.4</b> The Odds Ratio</a></li>
<li class="chapter" data-level="32.5" data-path="association-tests.html"><a href="association-tests.html#large-samples-small-p-values"><i class="fa fa-check"></i><b>32.5</b> Large samples, small p-values</a></li>
<li class="chapter" data-level="32.6" data-path="association-tests.html"><a href="association-tests.html#confidence-intervals-for-the-odds-ratio"><i class="fa fa-check"></i><b>32.6</b> Confidence intervals for the odds ratio</a></li>
<li class="chapter" data-level="" data-path="association-tests.html"><a href="association-tests.html#exercises-25"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>V Data Wrangling</b></span></li>
<li class="chapter" data-level="33" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>33</b> Tidy data</a><ul>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercises-26"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="reshaping-data.html"><a href="reshaping-data.html"><i class="fa fa-check"></i><b>34</b> Reshaping data</a><ul>
<li class="chapter" data-level="34.1" data-path="reshaping-data.html"><a href="reshaping-data.html#gather"><i class="fa fa-check"></i><b>34.1</b> <code>gather</code></a></li>
<li class="chapter" data-level="34.2" data-path="reshaping-data.html"><a href="reshaping-data.html#spread"><i class="fa fa-check"></i><b>34.2</b> <code>spread</code></a></li>
<li class="chapter" data-level="34.3" data-path="reshaping-data.html"><a href="reshaping-data.html#separate"><i class="fa fa-check"></i><b>34.3</b> <code>separate</code></a></li>
<li class="chapter" data-level="34.4" data-path="reshaping-data.html"><a href="reshaping-data.html#unite"><i class="fa fa-check"></i><b>34.4</b> <code>unite</code></a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#exercises-27"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="combining-tables.html"><a href="combining-tables.html"><i class="fa fa-check"></i><b>35</b> Combining tables</a><ul>
<li class="chapter" data-level="35.1" data-path="combining-tables.html"><a href="combining-tables.html#joins"><i class="fa fa-check"></i><b>35.1</b> Joins</a><ul>
<li class="chapter" data-level="35.1.1" data-path="combining-tables.html"><a href="combining-tables.html#left-join"><i class="fa fa-check"></i><b>35.1.1</b> Left join</a></li>
<li class="chapter" data-level="35.1.2" data-path="combining-tables.html"><a href="combining-tables.html#right-join"><i class="fa fa-check"></i><b>35.1.2</b> Right join</a></li>
<li class="chapter" data-level="35.1.3" data-path="combining-tables.html"><a href="combining-tables.html#inner-join"><i class="fa fa-check"></i><b>35.1.3</b> Inner join</a></li>
<li class="chapter" data-level="35.1.4" data-path="combining-tables.html"><a href="combining-tables.html#full-join"><i class="fa fa-check"></i><b>35.1.4</b> Full join</a></li>
<li class="chapter" data-level="35.1.5" data-path="combining-tables.html"><a href="combining-tables.html#semi-join"><i class="fa fa-check"></i><b>35.1.5</b> Semi join</a></li>
<li class="chapter" data-level="35.1.6" data-path="combining-tables.html"><a href="combining-tables.html#anti-join"><i class="fa fa-check"></i><b>35.1.6</b> Anti join</a></li>
</ul></li>
<li class="chapter" data-level="35.2" data-path="combining-tables.html"><a href="combining-tables.html#binding"><i class="fa fa-check"></i><b>35.2</b> Binding</a><ul>
<li class="chapter" data-level="35.2.1" data-path="combining-tables.html"><a href="combining-tables.html#binding-columns"><i class="fa fa-check"></i><b>35.2.1</b> Binding columns</a></li>
<li class="chapter" data-level="35.2.2" data-path="combining-tables.html"><a href="combining-tables.html#binding-by-rows"><i class="fa fa-check"></i><b>35.2.2</b> Binding by rows</a></li>
</ul></li>
<li class="chapter" data-level="35.3" data-path="combining-tables.html"><a href="combining-tables.html#set-operators"><i class="fa fa-check"></i><b>35.3</b> Set operators</a><ul>
<li class="chapter" data-level="35.3.1" data-path="combining-tables.html"><a href="combining-tables.html#intersect"><i class="fa fa-check"></i><b>35.3.1</b> Intersect</a></li>
<li class="chapter" data-level="35.3.2" data-path="combining-tables.html"><a href="combining-tables.html#union"><i class="fa fa-check"></i><b>35.3.2</b> Union</a></li>
<li class="chapter" data-level="35.3.3" data-path="combining-tables.html"><a href="combining-tables.html#setdiff"><i class="fa fa-check"></i><b>35.3.3</b> <code>setdiff</code></a></li>
<li class="chapter" data-level="35.3.4" data-path="combining-tables.html"><a href="combining-tables.html#setequal"><i class="fa fa-check"></i><b>35.3.4</b> <code>setequal</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="combining-tables.html"><a href="combining-tables.html#exercises-28"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>36</b> Data import</a><ul>
<li class="chapter" data-level="36.1" data-path="data-import.html"><a href="data-import.html#text-versus-binary-files"><i class="fa fa-check"></i><b>36.1</b> Text versus binary files</a></li>
<li class="chapter" data-level="36.2" data-path="data-import.html"><a href="data-import.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>36.2</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="36.3" data-path="data-import.html"><a href="data-import.html#importing-spreadsheets"><i class="fa fa-check"></i><b>36.3</b> Importing spreadsheets</a></li>
<li class="chapter" data-level="36.4" data-path="data-import.html"><a href="data-import.html#paths-and-the-working-directory-1"><i class="fa fa-check"></i><b>36.4</b> Paths and the Working Directory</a></li>
<li class="chapter" data-level="36.5" data-path="data-import.html"><a href="data-import.html#the-readr-and-readxl-packages"><i class="fa fa-check"></i><b>36.5</b> The readr and readxl packages</a></li>
<li class="chapter" data-level="36.6" data-path="data-import.html"><a href="data-import.html#r-base-functions"><i class="fa fa-check"></i><b>36.6</b> R-base functions</a><ul>
<li class="chapter" data-level="36.6.1" data-path="data-import.html"><a href="data-import.html#downloading-files"><i class="fa fa-check"></i><b>36.6.1</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="36.7" data-path="data-import.html"><a href="data-import.html#nuances"><i class="fa fa-check"></i><b>36.7</b> Nuances</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercises-29"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>37</b> Web Scraping</a><ul>
<li class="chapter" data-level="37.1" data-path="web-scraping.html"><a href="web-scraping.html#html"><i class="fa fa-check"></i><b>37.1</b> HTML</a></li>
<li class="chapter" data-level="37.2" data-path="web-scraping.html"><a href="web-scraping.html#the-rvest-package"><i class="fa fa-check"></i><b>37.2</b> The rvest package</a></li>
<li class="chapter" data-level="37.3" data-path="web-scraping.html"><a href="web-scraping.html#css-selectors"><i class="fa fa-check"></i><b>37.3</b> CSS selectors</a></li>
<li class="chapter" data-level="37.4" data-path="web-scraping.html"><a href="web-scraping.html#json"><i class="fa fa-check"></i><b>37.4</b> JSON</a></li>
<li class="chapter" data-level="" data-path="web-scraping.html"><a href="web-scraping.html#exercises-30"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="string-processing.html"><a href="string-processing.html"><i class="fa fa-check"></i><b>38</b> String Processing</a><ul>
<li class="chapter" data-level="38.1" data-path="string-processing.html"><a href="string-processing.html#defining-strings-single-and-double-quotes-and-how-to-escape"><i class="fa fa-check"></i><b>38.1</b> Defining strings: single and double quotes and how to escape</a></li>
<li class="chapter" data-level="38.2" data-path="string-processing.html"><a href="string-processing.html#the-stringr-package"><i class="fa fa-check"></i><b>38.2</b> The stringr package</a><ul>
<li class="chapter" data-level="38.2.1" data-path="string-processing.html"><a href="string-processing.html#the-str_-functions"><i class="fa fa-check"></i><b>38.2.1</b> The <code>str_</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="38.3" data-path="string-processing.html"><a href="string-processing.html#case-study-1-us-murders-data"><i class="fa fa-check"></i><b>38.3</b> Case study 1: US murders data</a></li>
<li class="chapter" data-level="38.4" data-path="string-processing.html"><a href="string-processing.html#case-study-2-reported-heights"><i class="fa fa-check"></i><b>38.4</b> Case study 2: Reported heights</a></li>
<li class="chapter" data-level="38.5" data-path="string-processing.html"><a href="string-processing.html#regular-expressions"><i class="fa fa-check"></i><b>38.5</b> Regular expressions</a><ul>
<li class="chapter" data-level="38.5.1" data-path="string-processing.html"><a href="string-processing.html#a-string"><i class="fa fa-check"></i><b>38.5.1</b> A string</a></li>
<li class="chapter" data-level="38.5.2" data-path="string-processing.html"><a href="string-processing.html#special-characters"><i class="fa fa-check"></i><b>38.5.2</b> Special characters</a></li>
<li class="chapter" data-level="38.5.3" data-path="string-processing.html"><a href="string-processing.html#testing"><i class="fa fa-check"></i><b>38.5.3</b> Testing</a></li>
<li class="chapter" data-level="38.5.4" data-path="string-processing.html"><a href="string-processing.html#character-classes"><i class="fa fa-check"></i><b>38.5.4</b> Character classes</a></li>
<li class="chapter" data-level="38.5.5" data-path="string-processing.html"><a href="string-processing.html#anchors"><i class="fa fa-check"></i><b>38.5.5</b> Anchors</a></li>
<li class="chapter" data-level="38.5.6" data-path="string-processing.html"><a href="string-processing.html#quantifiers"><i class="fa fa-check"></i><b>38.5.6</b> Quantifiers</a></li>
<li class="chapter" data-level="38.5.7" data-path="string-processing.html"><a href="string-processing.html#not"><i class="fa fa-check"></i><b>38.5.7</b> Not</a></li>
<li class="chapter" data-level="38.5.8" data-path="string-processing.html"><a href="string-processing.html#search-and-replace-with-regex"><i class="fa fa-check"></i><b>38.5.8</b> Search and replace with regex</a></li>
<li class="chapter" data-level="38.5.9" data-path="string-processing.html"><a href="string-processing.html#white-space-s"><i class="fa fa-check"></i><b>38.5.9</b> White space <code>\s</code></a></li>
<li class="chapter" data-level="38.5.10" data-path="string-processing.html"><a href="string-processing.html#quantifiers-1"><i class="fa fa-check"></i><b>38.5.10</b> Quantifiers: <code>*</code>, <code>?</code>, <code>+</code></a></li>
<li class="chapter" data-level="38.5.11" data-path="string-processing.html"><a href="string-processing.html#groups"><i class="fa fa-check"></i><b>38.5.11</b> Groups</a></li>
<li class="chapter" data-level="38.5.12" data-path="string-processing.html"><a href="string-processing.html#search-and-replace-using-groups"><i class="fa fa-check"></i><b>38.5.12</b> Search and replace using groups</a></li>
<li class="chapter" data-level="38.5.13" data-path="string-processing.html"><a href="string-processing.html#testing-and-improving"><i class="fa fa-check"></i><b>38.5.13</b> Testing and improving</a></li>
<li class="chapter" data-level="38.5.14" data-path="string-processing.html"><a href="string-processing.html#using-groups-and-quantifiers"><i class="fa fa-check"></i><b>38.5.14</b> Using groups and quantifiers</a></li>
</ul></li>
<li class="chapter" data-level="38.6" data-path="string-processing.html"><a href="string-processing.html#stringr-package-continued"><i class="fa fa-check"></i><b>38.6</b> Stringr package (continued)</a><ul>
<li class="chapter" data-level="38.6.1" data-path="string-processing.html"><a href="string-processing.html#trimming"><i class="fa fa-check"></i><b>38.6.1</b> Trimming</a></li>
<li class="chapter" data-level="38.6.2" data-path="string-processing.html"><a href="string-processing.html#to-uppercase-and-to-lowercase"><i class="fa fa-check"></i><b>38.6.2</b> To uppercase and to lowercase</a></li>
</ul></li>
<li class="chapter" data-level="38.7" data-path="string-processing.html"><a href="string-processing.html#case-study-2-reported-heights-continued"><i class="fa fa-check"></i><b>38.7</b> Case study 2: Reported heights (continued)</a></li>
<li class="chapter" data-level="38.8" data-path="string-processing.html"><a href="string-processing.html#separate-1"><i class="fa fa-check"></i><b>38.8</b> <code>separate</code></a></li>
<li class="chapter" data-level="38.9" data-path="string-processing.html"><a href="string-processing.html#case-study-2-reported-heights-continued-1"><i class="fa fa-check"></i><b>38.9</b> Case study 2: Reported heights (continued)</a></li>
<li class="chapter" data-level="38.10" data-path="string-processing.html"><a href="string-processing.html#string-splitting"><i class="fa fa-check"></i><b>38.10</b> String splitting</a></li>
<li class="chapter" data-level="38.11" data-path="string-processing.html"><a href="string-processing.html#case-study-3-extracting-tables-from-a-pdf"><i class="fa fa-check"></i><b>38.11</b> Case study 3: Extracting tables from a PDF</a></li>
<li class="chapter" data-level="38.12" data-path="string-processing.html"><a href="string-processing.html#re-coding"><i class="fa fa-check"></i><b>38.12</b> Re-coding</a></li>
<li class="chapter" data-level="" data-path="string-processing.html"><a href="string-processing.html#exercises-31"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html"><i class="fa fa-check"></i><b>39</b> Parsing Dates and Times</a><ul>
<li class="chapter" data-level="39.1" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html#the-date-data-type"><i class="fa fa-check"></i><b>39.1</b> The date data type</a></li>
<li class="chapter" data-level="39.2" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html#the-lubridate-package"><i class="fa fa-check"></i><b>39.2</b> The lubridate package</a></li>
<li class="chapter" data-level="" data-path="parsing-dates-and-times.html"><a href="parsing-dates-and-times.html#exercises-32"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>40</b> Text mining</a><ul>
<li class="chapter" data-level="40.1" data-path="text-mining.html"><a href="text-mining.html#case-study-trump-tweets"><i class="fa fa-check"></i><b>40.1</b> Case study: Trump tweets</a></li>
<li class="chapter" data-level="40.2" data-path="text-mining.html"><a href="text-mining.html#text-as-data"><i class="fa fa-check"></i><b>40.2</b> Text as data</a></li>
<li class="chapter" data-level="40.3" data-path="text-mining.html"><a href="text-mining.html#sentiment-analysis"><i class="fa fa-check"></i><b>40.3</b> Sentiment analysis</a></li>
<li class="chapter" data-level="" data-path="text-mining.html"><a href="text-mining.html#exercises-33"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="organizing-data-with-spreadsheets.html"><a href="organizing-data-with-spreadsheets.html"><i class="fa fa-check"></i><b>41</b> Organizing Data with Spreadsheets</a><ul>
<li class="chapter" data-level="" data-path="organizing-data-with-spreadsheets.html"><a href="organizing-data-with-spreadsheets.html#exercises-34"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>VI Regression</b></span></li>
<li class="chapter" data-level="42" data-path="case-study-is-height-hereditary.html"><a href="case-study-is-height-hereditary.html"><i class="fa fa-check"></i><b>42</b> Case study: Is height hereditary?</a></li>
<li class="chapter" data-level="43" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html"><i class="fa fa-check"></i><b>43</b> Correlation and the regression line</a><ul>
<li class="chapter" data-level="43.1" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#the-correlation-coefficient"><i class="fa fa-check"></i><b>43.1</b> The correlation coefficient</a></li>
<li class="chapter" data-level="43.2" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#sample-correlation-is-a-random-variable"><i class="fa fa-check"></i><b>43.2</b> Sample correlation is a random variable</a></li>
<li class="chapter" data-level="43.3" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#when-is-correlation-a-useful-summary"><i class="fa fa-check"></i><b>43.3</b> When is correlation a useful summary?</a></li>
<li class="chapter" data-level="43.4" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#prediction-based-on-stratification"><i class="fa fa-check"></i><b>43.4</b> Prediction based on stratification</a></li>
<li class="chapter" data-level="43.5" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#the-regression-line"><i class="fa fa-check"></i><b>43.5</b> The regression line</a></li>
<li class="chapter" data-level="43.6" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#regression-improves-precision"><i class="fa fa-check"></i><b>43.6</b> Regression improves precision</a></li>
<li class="chapter" data-level="43.7" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#bivariate-normal-distribution-advanced"><i class="fa fa-check"></i><b>43.7</b> Bivariate normal distribution (advanced)</a></li>
<li class="chapter" data-level="43.8" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#variance-explained"><i class="fa fa-check"></i><b>43.8</b> Variance explained</a></li>
<li class="chapter" data-level="43.9" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#warning-there-are-two-regression-lines"><i class="fa fa-check"></i><b>43.9</b> Warning: there are two regression lines</a></li>
<li class="chapter" data-level="" data-path="correlation-and-the-regression-line.html"><a href="correlation-and-the-regression-line.html#exercises-35"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html"><i class="fa fa-check"></i><b>44</b> Case Study: Moneyball</a><ul>
<li class="chapter" data-level="44.1" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#sabermetics"><i class="fa fa-check"></i><b>44.1</b> Sabermetics</a></li>
<li class="chapter" data-level="44.2" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#baseball-basics"><i class="fa fa-check"></i><b>44.2</b> Baseball basics</a></li>
<li class="chapter" data-level="44.3" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#no-awards-for-bb"><i class="fa fa-check"></i><b>44.3</b> No awards for BB</a></li>
<li class="chapter" data-level="44.4" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#base-on-ball-or-stolen-bases"><i class="fa fa-check"></i><b>44.4</b> Base on Ball or Stolen Bases?</a></li>
<li class="chapter" data-level="44.5" data-path="case-study-moneyball.html"><a href="case-study-moneyball.html#regression-applied-to-baseball-statistics"><i class="fa fa-check"></i><b>44.5</b> Regression applied to baseball statistics</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="confounding.html"><a href="confounding.html"><i class="fa fa-check"></i><b>45</b> Confounding</a><ul>
<li class="chapter" data-level="45.1" data-path="confounding.html"><a href="confounding.html#understanding-confounding-through-stratification"><i class="fa fa-check"></i><b>45.1</b> Understanding confounding through stratification</a></li>
<li class="chapter" data-level="45.2" data-path="confounding.html"><a href="confounding.html#multivariate-regression"><i class="fa fa-check"></i><b>45.2</b> Multivariate regression</a></li>
</ul></li>
<li class="chapter" data-level="46" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html"><i class="fa fa-check"></i><b>46</b> Linear Models and Least Squared Estimates</a><ul>
<li class="chapter" data-level="46.1" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#interpreting-linear-models"><i class="fa fa-check"></i><b>46.1</b> Interpreting linear models</a></li>
<li class="chapter" data-level="46.2" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#least-squares-estimates-lse"><i class="fa fa-check"></i><b>46.2</b> Least Squares Estimates (LSE)</a></li>
<li class="chapter" data-level="46.3" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#the-lm-function"><i class="fa fa-check"></i><b>46.3</b> The <code>lm</code> function</a></li>
<li class="chapter" data-level="46.4" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#lse-are-random-variables"><i class="fa fa-check"></i><b>46.4</b> LSE are random variables</a></li>
<li class="chapter" data-level="46.5" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#lse-are-correlated-advanced"><i class="fa fa-check"></i><b>46.5</b> LSE are correlated (advanced)</a></li>
<li class="chapter" data-level="46.6" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#predicted-values-are-random-variables"><i class="fa fa-check"></i><b>46.6</b> Predicted values are random variables</a></li>
<li class="chapter" data-level="" data-path="linear-models-and-least-squared-estimates.html"><a href="linear-models-and-least-squared-estimates.html#exercises-36"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="47" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html"><i class="fa fa-check"></i><b>47</b> Advanced tidyverse: tibbles and <code>do</code></a><ul>
<li class="chapter" data-level="47.1" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles"><i class="fa fa-check"></i><b>47.1</b> Tibbles</a><ul>
<li class="chapter" data-level="47.1.1" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles-display-better"><i class="fa fa-check"></i><b>47.1.1</b> Tibbles display better</a></li>
<li class="chapter" data-level="47.1.2" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#subsets-of-tibbles-are-tibbles"><i class="fa fa-check"></i><b>47.1.2</b> Subsets of tibbles are tibbles</a></li>
<li class="chapter" data-level="47.1.3" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles-can-have-complex-entries"><i class="fa fa-check"></i><b>47.1.3</b> Tibbles can have complex entries</a></li>
<li class="chapter" data-level="47.1.4" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#tibbles-can-be-grouped"><i class="fa fa-check"></i><b>47.1.4</b> Tibbles can be grouped</a></li>
</ul></li>
<li class="chapter" data-level="47.2" data-path="advanced-tidyverse-tibbles-and-do.html"><a href="advanced-tidyverse-tibbles-and-do.html#do"><i class="fa fa-check"></i><b>47.2</b> <code>do</code></a></li>
</ul></li>
<li class="chapter" data-level="48" data-path="the-broom-package.html"><a href="the-broom-package.html"><i class="fa fa-check"></i><b>48</b> The broom package</a><ul>
<li class="chapter" data-level="" data-path="the-broom-package.html"><a href="the-broom-package.html#exercises-37"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="49" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html"><i class="fa fa-check"></i><b>49</b> Case study: Money Ball continued</a><ul>
<li class="chapter" data-level="49.1" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html#adding-salary-and-position-information"><i class="fa fa-check"></i><b>49.1</b> Adding salary and position information</a></li>
<li class="chapter" data-level="49.2" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html#picking-9-players"><i class="fa fa-check"></i><b>49.2</b> Picking 9 players</a></li>
<li class="chapter" data-level="" data-path="case-study-money-ball-continued.html"><a href="case-study-money-ball-continued.html#exercises-38"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="50" data-path="regression-fallacy.html"><a href="regression-fallacy.html"><i class="fa fa-check"></i><b>50</b> Regression fallacy</a></li>
<li class="chapter" data-level="51" data-path="measurement-error-models.html"><a href="measurement-error-models.html"><i class="fa fa-check"></i><b>51</b> Measurement error models</a></li>
<li class="chapter" data-level="52" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html"><i class="fa fa-check"></i><b>52</b> Association is not causation</a><ul>
<li class="chapter" data-level="52.1" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#spurious-correlation"><i class="fa fa-check"></i><b>52.1</b> Spurious correlation</a></li>
<li class="chapter" data-level="52.2" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#outliers-1"><i class="fa fa-check"></i><b>52.2</b> Outliers</a></li>
<li class="chapter" data-level="52.3" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#reversing-cause-and-effect"><i class="fa fa-check"></i><b>52.3</b> Reversing cause and effect</a></li>
<li class="chapter" data-level="52.4" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#confounders"><i class="fa fa-check"></i><b>52.4</b> Confounders</a><ul>
<li class="chapter" data-level="52.4.1" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#example-uc-berkeley-admissions"><i class="fa fa-check"></i><b>52.4.1</b> Example: UC Berkeley admissions</a></li>
<li class="chapter" data-level="52.4.2" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#confounding-explained-graphically"><i class="fa fa-check"></i><b>52.4.2</b> Confounding explained graphically</a></li>
<li class="chapter" data-level="52.4.3" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#average-after-stratifying"><i class="fa fa-check"></i><b>52.4.3</b> Average after stratifying</a></li>
</ul></li>
<li class="chapter" data-level="52.5" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#simpsons-paradox"><i class="fa fa-check"></i><b>52.5</b> Simpson’s Paradox</a></li>
<li class="chapter" data-level="" data-path="association-is-not-causation.html"><a href="association-is-not-causation.html#exercises-39"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>VII Machine Learning</b></span></li>
<li class="chapter" data-level="53" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html"><i class="fa fa-check"></i><b>53</b> Introduction to Machine Learning</a><ul>
<li class="chapter" data-level="53.1" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#notation-1"><i class="fa fa-check"></i><b>53.1</b> Notation</a></li>
<li class="chapter" data-level="53.2" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#categorical-versus-continuous"><i class="fa fa-check"></i><b>53.2</b> Categorical versus continuous</a></li>
<li class="chapter" data-level="53.3" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#an-example"><i class="fa fa-check"></i><b>53.3</b> An example</a></li>
<li class="chapter" data-level="" data-path="introduction-to-machine-learning.html"><a href="introduction-to-machine-learning.html#exercises-40"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="54" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><i class="fa fa-check"></i><b>54</b> The confusion matrix, prevalence, sensitivity and specificity</a><ul>
<li class="chapter" data-level="54.1" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#training-and-test-sets"><i class="fa fa-check"></i><b>54.1</b> Training and test sets</a></li>
<li class="chapter" data-level="54.2" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#overall-accuracy"><i class="fa fa-check"></i><b>54.2</b> Overall accuracy</a></li>
<li class="chapter" data-level="54.3" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#the-confusion-matrix"><i class="fa fa-check"></i><b>54.3</b> The confusion matrix</a></li>
<li class="chapter" data-level="54.4" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#sensitivity-and-specificity"><i class="fa fa-check"></i><b>54.4</b> Sensitivity and specificity</a></li>
<li class="chapter" data-level="54.5" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#balanced-accuracy-and-f_1-score"><i class="fa fa-check"></i><b>54.5</b> Balanced accuracy and <span class="math inline">\(F_1\)</span> score</a></li>
<li class="chapter" data-level="54.6" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#prevalence-matters-in-practice"><i class="fa fa-check"></i><b>54.6</b> Prevalence matters in practice</a></li>
<li class="chapter" data-level="54.7" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#roc-and-precision-recall-curves"><i class="fa fa-check"></i><b>54.7</b> ROC and precision-recall curves</a></li>
<li class="chapter" data-level="" data-path="the-confusion-matrix-prevalence-sensitivity-and-specificity.html"><a href="the-confusion-matrix-prevalence-sensitivity-and-specificity.html#exercises-41"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="55" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html"><i class="fa fa-check"></i><b>55</b> Conditional probabilities and expectations</a><ul>
<li class="chapter" data-level="55.1" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#conditional-probabilities-1"><i class="fa fa-check"></i><b>55.1</b> Conditional probabilities</a></li>
<li class="chapter" data-level="55.2" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#conditional-expectations"><i class="fa fa-check"></i><b>55.2</b> Conditional expectations</a></li>
<li class="chapter" data-level="55.3" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#the-loss-function"><i class="fa fa-check"></i><b>55.3</b> The loss function</a></li>
<li class="chapter" data-level="55.4" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#conditional-expectation-minimizes-squared-loss-function"><i class="fa fa-check"></i><b>55.4</b> Conditional expectation minimizes squared loss function</a></li>
<li class="chapter" data-level="" data-path="conditional-probabilities-and-expectations.html"><a href="conditional-probabilities-and-expectations.html#exercises-42"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="56" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>56</b> Logistic Regression</a><ul>
<li class="chapter" data-level="56.1" data-path="logistic-regression.html"><a href="logistic-regression.html#linear-regression-for-prediction"><i class="fa fa-check"></i><b>56.1</b> Linear regression for prediction</a></li>
<li class="chapter" data-level="56.2" data-path="logistic-regression.html"><a href="logistic-regression.html#the-predict-function"><i class="fa fa-check"></i><b>56.2</b> The <code>predict</code> function</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#exercises-43"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="56.3" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-regression-1"><i class="fa fa-check"></i><b>56.3</b> Logistic regression</a></li>
<li class="chapter" data-level="56.4" data-path="logistic-regression.html"><a href="logistic-regression.html#generalized-linear-models"><i class="fa fa-check"></i><b>56.4</b> Generalized Linear Models</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#exercises-44"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="57" data-path="case-study-is-it-a-2-or-a-7.html"><a href="case-study-is-it-a-2-or-a-7.html"><i class="fa fa-check"></i><b>57</b> Case study: is it a 2 or a 7?</a></li>
<li class="chapter" data-level="58" data-path="smoothing.html"><a href="smoothing.html"><i class="fa fa-check"></i><b>58</b> Smoothing</a><ul>
<li class="chapter" data-level="58.1" data-path="smoothing.html"><a href="smoothing.html#bin-smoothing"><i class="fa fa-check"></i><b>58.1</b> Bin smoothing</a></li>
<li class="chapter" data-level="58.2" data-path="smoothing.html"><a href="smoothing.html#kernels"><i class="fa fa-check"></i><b>58.2</b> Kernels</a></li>
<li class="chapter" data-level="58.3" data-path="smoothing.html"><a href="smoothing.html#local-weighted-regression-loess"><i class="fa fa-check"></i><b>58.3</b> Local weighted regression (loess)</a></li>
<li class="chapter" data-level="58.4" data-path="smoothing.html"><a href="smoothing.html#fitting-parabolas"><i class="fa fa-check"></i><b>58.4</b> Fitting parabolas</a></li>
<li class="chapter" data-level="58.5" data-path="smoothing.html"><a href="smoothing.html#beware-of-ggplot-defaults"><i class="fa fa-check"></i><b>58.5</b> Beware of <code>ggplot</code> defaults</a></li>
<li class="chapter" data-level="" data-path="smoothing.html"><a href="smoothing.html#exercises-45"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="59" data-path="matrices-1.html"><a href="matrices-1.html"><i class="fa fa-check"></i><b>59</b> Matrices</a><ul>
<li class="chapter" data-level="59.1" data-path="matrices-1.html"><a href="matrices-1.html#notation-2"><i class="fa fa-check"></i><b>59.1</b> Notation</a></li>
<li class="chapter" data-level="59.2" data-path="matrices-1.html"><a href="matrices-1.html#matrix-operations"><i class="fa fa-check"></i><b>59.2</b> Matrix operations</a><ul>
<li class="chapter" data-level="59.2.1" data-path="matrices-1.html"><a href="matrices-1.html#converting-a-vector-to-a-matrix"><i class="fa fa-check"></i><b>59.2.1</b> Converting a vector to a matrix</a></li>
<li class="chapter" data-level="59.2.2" data-path="matrices-1.html"><a href="matrices-1.html#row-and-column-summaries"><i class="fa fa-check"></i><b>59.2.2</b> Row and column summaries</a></li>
<li class="chapter" data-level="59.2.3" data-path="matrices-1.html"><a href="matrices-1.html#apply"><i class="fa fa-check"></i><b>59.2.3</b> <code>apply</code></a></li>
<li class="chapter" data-level="59.2.4" data-path="matrices-1.html"><a href="matrices-1.html#filtering-columns-based-on-summaries"><i class="fa fa-check"></i><b>59.2.4</b> Filtering columns based on summaries</a></li>
<li class="chapter" data-level="59.2.5" data-path="matrices-1.html"><a href="matrices-1.html#indexing-with-matrices"><i class="fa fa-check"></i><b>59.2.5</b> Indexing with matrices</a></li>
<li class="chapter" data-level="59.2.6" data-path="matrices-1.html"><a href="matrices-1.html#binarizing-the-data"><i class="fa fa-check"></i><b>59.2.6</b> Binarizing the data</a></li>
<li class="chapter" data-level="59.2.7" data-path="matrices-1.html"><a href="matrices-1.html#vectorization-for-matrices"><i class="fa fa-check"></i><b>59.2.7</b> Vectorization for matrices</a></li>
</ul></li>
<li class="chapter" data-level="59.3" data-path="matrices-1.html"><a href="matrices-1.html#matrix-algebra-operations"><i class="fa fa-check"></i><b>59.3</b> Matrix algebra operations</a></li>
<li class="chapter" data-level="" data-path="matrices-1.html"><a href="matrices-1.html#exercises-46"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="60" data-path="distance.html"><a href="distance.html"><i class="fa fa-check"></i><b>60</b> Distance</a><ul>
<li class="chapter" data-level="60.1" data-path="distance.html"><a href="distance.html#euclidean-distance"><i class="fa fa-check"></i><b>60.1</b> Euclidean distance</a></li>
<li class="chapter" data-level="60.2" data-path="distance.html"><a href="distance.html#distance-in-higher-dimensions"><i class="fa fa-check"></i><b>60.2</b> Distance in higher dimensions</a></li>
<li class="chapter" data-level="60.3" data-path="distance.html"><a href="distance.html#example"><i class="fa fa-check"></i><b>60.3</b> Example</a></li>
<li class="chapter" data-level="60.4" data-path="distance.html"><a href="distance.html#distance-between-predictors"><i class="fa fa-check"></i><b>60.4</b> Distance between predictors</a></li>
<li class="chapter" data-level="" data-path="distance.html"><a href="distance.html#exercises-47"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="61" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html"><i class="fa fa-check"></i><b>61</b> Nearest neighbors</a><ul>
<li class="chapter" data-level="61.1" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#over-training"><i class="fa fa-check"></i><b>61.1</b> Over training</a></li>
<li class="chapter" data-level="61.2" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#over-smoothing"><i class="fa fa-check"></i><b>61.2</b> Over-smoothing</a></li>
<li class="chapter" data-level="61.3" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#picking-the-k-in-knn"><i class="fa fa-check"></i><b>61.3</b> Picking the <span class="math inline">\(k\)</span> in kNN</a></li>
<li class="chapter" data-level="" data-path="nearest-neighbors.html"><a href="nearest-neighbors.html#exercises-48"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="62" data-path="the-caret-package.html"><a href="the-caret-package.html"><i class="fa fa-check"></i><b>62</b> The caret package</a><ul>
<li class="chapter" data-level="62.1" data-path="the-caret-package.html"><a href="the-caret-package.html#the-train-functon"><i class="fa fa-check"></i><b>62.1</b> The <code>train</code> functon</a></li>
<li class="chapter" data-level="62.2" data-path="the-caret-package.html"><a href="the-caret-package.html#cross-validation"><i class="fa fa-check"></i><b>62.2</b> Cross validation</a></li>
<li class="chapter" data-level="62.3" data-path="the-caret-package.html"><a href="the-caret-package.html#example-fitting-with-loess"><i class="fa fa-check"></i><b>62.3</b> Example: fitting with loess</a></li>
</ul></li>
<li class="chapter" data-level="63" data-path="cross-validation-1.html"><a href="cross-validation-1.html"><i class="fa fa-check"></i><b>63</b> Cross validation</a><ul>
<li class="chapter" data-level="63.1" data-path="cross-validation-1.html"><a href="cross-validation-1.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>63.1</b> K-fold cross validation</a></li>
<li class="chapter" data-level="" data-path="cross-validation-1.html"><a href="cross-validation-1.html#exercises-49"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="63.2" data-path="cross-validation-1.html"><a href="cross-validation-1.html#bootstrap"><i class="fa fa-check"></i><b>63.2</b> Bootstrap</a></li>
<li class="chapter" data-level="" data-path="cross-validation-1.html"><a href="cross-validation-1.html#exercises-50"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="64" data-path="generative-models.html"><a href="generative-models.html"><i class="fa fa-check"></i><b>64</b> Generative models</a><ul>
<li class="chapter" data-level="64.1" data-path="generative-models.html"><a href="generative-models.html#naive-bayes"><i class="fa fa-check"></i><b>64.1</b> Naive Bayes</a></li>
<li class="chapter" data-level="64.2" data-path="generative-models.html"><a href="generative-models.html#controlling-prevalence"><i class="fa fa-check"></i><b>64.2</b> Controlling prevalence</a></li>
<li class="chapter" data-level="64.3" data-path="generative-models.html"><a href="generative-models.html#quadratic-discriminant-analysis"><i class="fa fa-check"></i><b>64.3</b> Quadratic Discriminant Analysis</a></li>
<li class="chapter" data-level="64.4" data-path="generative-models.html"><a href="generative-models.html#linear-discriminant-analysis"><i class="fa fa-check"></i><b>64.4</b> Linear discriminant analysis</a></li>
<li class="chapter" data-level="64.5" data-path="generative-models.html"><a href="generative-models.html#connection-distance"><i class="fa fa-check"></i><b>64.5</b> Connection distance</a></li>
<li class="chapter" data-level="64.6" data-path="generative-models.html"><a href="generative-models.html#case-study-more-than-three-classes"><i class="fa fa-check"></i><b>64.6</b> Case study: more than three classes</a></li>
<li class="chapter" data-level="" data-path="generative-models.html"><a href="generative-models.html#exercises-51"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="65" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html"><i class="fa fa-check"></i><b>65</b> Trees and Random Forests</a><ul>
<li class="chapter" data-level="65.1" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#the-curse-of-dimensionality"><i class="fa fa-check"></i><b>65.1</b> The curse of dimensionality</a></li>
<li class="chapter" data-level="65.2" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#classification-and-regression-trees-cart"><i class="fa fa-check"></i><b>65.2</b> Classification and Regression Trees (CART)</a></li>
<li class="chapter" data-level="65.3" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#regression-tree"><i class="fa fa-check"></i><b>65.3</b> Regression tree</a></li>
<li class="chapter" data-level="65.4" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#classification-decision-trees"><i class="fa fa-check"></i><b>65.4</b> Classification (decision) trees</a></li>
<li class="chapter" data-level="65.5" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#random-forests"><i class="fa fa-check"></i><b>65.5</b> Random Forests</a></li>
<li class="chapter" data-level="" data-path="trees-and-random-forests.html"><a href="trees-and-random-forests.html#exercises-52"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="66" data-path="case-study-mnist.html"><a href="case-study-mnist.html"><i class="fa fa-check"></i><b>66</b> Case study: MNIST</a><ul>
<li class="chapter" data-level="66.1" data-path="case-study-mnist.html"><a href="case-study-mnist.html#preprocessing"><i class="fa fa-check"></i><b>66.1</b> Preprocessing</a></li>
<li class="chapter" data-level="66.2" data-path="case-study-mnist.html"><a href="case-study-mnist.html#knn"><i class="fa fa-check"></i><b>66.2</b> kNN</a></li>
<li class="chapter" data-level="66.3" data-path="case-study-mnist.html"><a href="case-study-mnist.html#variable-importance"><i class="fa fa-check"></i><b>66.3</b> Variable importance</a></li>
<li class="chapter" data-level="66.4" data-path="case-study-mnist.html"><a href="case-study-mnist.html#visual-assessments"><i class="fa fa-check"></i><b>66.4</b> Visual assessments</a></li>
</ul></li>
<li class="chapter" data-level="67" data-path="ensembles.html"><a href="ensembles.html"><i class="fa fa-check"></i><b>67</b> Ensembles</a><ul>
<li class="chapter" data-level="" data-path="ensembles.html"><a href="ensembles.html#exercises-53"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="68" data-path="dimension-reduction.html"><a href="dimension-reduction.html"><i class="fa fa-check"></i><b>68</b> Dimension Reduction</a><ul>
<li class="chapter" data-level="68.1" data-path="dimension-reduction.html"><a href="dimension-reduction.html#preserving-distance"><i class="fa fa-check"></i><b>68.1</b> Preserving distance</a></li>
<li class="chapter" data-level="68.2" data-path="dimension-reduction.html"><a href="dimension-reduction.html#linear-transformations-advnced"><i class="fa fa-check"></i><b>68.2</b> Linear transformations (advnced)</a></li>
<li class="chapter" data-level="68.3" data-path="dimension-reduction.html"><a href="dimension-reduction.html#orthogogal-transformations-advaced"><i class="fa fa-check"></i><b>68.3</b> Orthogogal transformations (advaced)</a></li>
<li class="chapter" data-level="68.4" data-path="dimension-reduction.html"><a href="dimension-reduction.html#principal-component-analysis"><i class="fa fa-check"></i><b>68.4</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="68.5" data-path="dimension-reduction.html"><a href="dimension-reduction.html#iris-example"><i class="fa fa-check"></i><b>68.5</b> Iris Example</a></li>
<li class="chapter" data-level="68.6" data-path="dimension-reduction.html"><a href="dimension-reduction.html#mnist"><i class="fa fa-check"></i><b>68.6</b> MNIST</a></li>
<li class="chapter" data-level="" data-path="dimension-reduction.html"><a href="dimension-reduction.html#exercises-54"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="69" data-path="recommendation-systems.html"><a href="recommendation-systems.html"><i class="fa fa-check"></i><b>69</b> Recommendation systems</a><ul>
<li class="chapter" data-level="69.1" data-path="recommendation-systems.html"><a href="recommendation-systems.html#movielens-data"><i class="fa fa-check"></i><b>69.1</b> Movielens data</a></li>
<li class="chapter" data-level="69.2" data-path="recommendation-systems.html"><a href="recommendation-systems.html#recommendation-systems-as-a-machine-learning-challenge"><i class="fa fa-check"></i><b>69.2</b> Recommendation systems as a machine learning challenge</a><ul>
<li class="chapter" data-level="69.2.1" data-path="recommendation-systems.html"><a href="recommendation-systems.html#loss-function"><i class="fa fa-check"></i><b>69.2.1</b> Loss function</a></li>
<li class="chapter" data-level="69.2.2" data-path="recommendation-systems.html"><a href="recommendation-systems.html#a-first-model"><i class="fa fa-check"></i><b>69.2.2</b> A first model</a></li>
</ul></li>
<li class="chapter" data-level="69.3" data-path="recommendation-systems.html"><a href="recommendation-systems.html#modeling-movie-effects"><i class="fa fa-check"></i><b>69.3</b> Modeling movie effects</a><ul>
<li class="chapter" data-level="69.3.1" data-path="recommendation-systems.html"><a href="recommendation-systems.html#user-effects"><i class="fa fa-check"></i><b>69.3.1</b> User effects</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="recommendation-systems.html"><a href="recommendation-systems.html#exercises-55"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="70" data-path="regularization.html"><a href="regularization.html"><i class="fa fa-check"></i><b>70</b> Regularization</a><ul>
<li class="chapter" data-level="70.1" data-path="regularization.html"><a href="regularization.html#motivation"><i class="fa fa-check"></i><b>70.1</b> Motivation</a></li>
<li class="chapter" data-level="70.2" data-path="regularization.html"><a href="regularization.html#penalized-least-squares"><i class="fa fa-check"></i><b>70.2</b> Penalized Least Squares</a></li>
<li class="chapter" data-level="70.3" data-path="regularization.html"><a href="regularization.html#choosing-the-penalty-terms"><i class="fa fa-check"></i><b>70.3</b> Choosing the penalty terms</a></li>
<li class="chapter" data-level="" data-path="regularization.html"><a href="regularization.html#exercises-56"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="71" data-path="matrix-factorization.html"><a href="matrix-factorization.html"><i class="fa fa-check"></i><b>71</b> Matrix factorization</a><ul>
<li class="chapter" data-level="71.1" data-path="matrix-factorization.html"><a href="matrix-factorization.html#factors-1"><i class="fa fa-check"></i><b>71.1</b> Factors</a></li>
<li class="chapter" data-level="71.2" data-path="matrix-factorization.html"><a href="matrix-factorization.html#connection-to-svd-and-pca"><i class="fa fa-check"></i><b>71.2</b> Connection to SVD and PCA</a></li>
<li class="chapter" data-level="" data-path="matrix-factorization.html"><a href="matrix-factorization.html#exercises-57"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="72" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>72</b> Clustering</a><ul>
<li class="chapter" data-level="72.1" data-path="clustering.html"><a href="clustering.html#hierarchical-clustering"><i class="fa fa-check"></i><b>72.1</b> Hierarchical clustering</a></li>
<li class="chapter" data-level="72.2" data-path="clustering.html"><a href="clustering.html#k-means"><i class="fa fa-check"></i><b>72.2</b> k-means</a></li>
<li class="chapter" data-level="72.3" data-path="clustering.html"><a href="clustering.html#heatmaps"><i class="fa fa-check"></i><b>72.3</b> Heatmaps</a></li>
<li class="chapter" data-level="72.4" data-path="clustering.html"><a href="clustering.html#filtering-features"><i class="fa fa-check"></i><b>72.4</b> Filtering features</a></li>
<li class="chapter" data-level="" data-path="clustering.html"><a href="clustering.html#exercises-58"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>VIII Productivity tools</b></span></li>
<li class="chapter" data-level="73" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html"><i class="fa fa-check"></i><b>73</b> Installing R, RStudio and Git</a><ul>
<li class="chapter" data-level="73.1" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-r-1"><i class="fa fa-check"></i><b>73.1</b> Installing R</a></li>
<li class="chapter" data-level="73.2" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-rstudio-1"><i class="fa fa-check"></i><b>73.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="73.3" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-git"><i class="fa fa-check"></i><b>73.3</b> Installing Git</a><ul>
<li class="chapter" data-level="73.3.1" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-git-and-git-bash-on-windows"><i class="fa fa-check"></i><b>73.3.1</b> Installing Git and Git Bash on Windows</a></li>
<li class="chapter" data-level="73.3.2" data-path="installing-r-rstudio-and-git.html"><a href="installing-r-rstudio-and-git.html#installing-git-on-the-mac"><i class="fa fa-check"></i><b>73.3.2</b> Installing Git on the Mac</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="74" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>74</b> GitHub</a><ul>
<li class="chapter" data-level="74.1" data-path="github.html"><a href="github.html#github-accounts"><i class="fa fa-check"></i><b>74.1</b> GitHub Accounts</a></li>
<li class="chapter" data-level="74.2" data-path="github.html"><a href="github.html#github-repositories"><i class="fa fa-check"></i><b>74.2</b> GitHub repositories</a></li>
</ul></li>
<li class="chapter" data-level="75" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>75</b> RStudio</a><ul>
<li class="chapter" data-level="75.1" data-path="rstudio.html"><a href="rstudio.html#the-panes"><i class="fa fa-check"></i><b>75.1</b> The panes</a></li>
<li class="chapter" data-level="75.2" data-path="rstudio.html"><a href="rstudio.html#key-bindings"><i class="fa fa-check"></i><b>75.2</b> Key bindings</a></li>
<li class="chapter" data-level="75.3" data-path="rstudio.html"><a href="rstudio.html#installing-r-packages"><i class="fa fa-check"></i><b>75.3</b> Installing R packages</a></li>
<li class="chapter" data-level="75.4" data-path="rstudio.html"><a href="rstudio.html#running-commands-while-editing-scripts"><i class="fa fa-check"></i><b>75.4</b> Running commands while editing scripts</a></li>
<li class="chapter" data-level="75.5" data-path="rstudio.html"><a href="rstudio.html#global-options"><i class="fa fa-check"></i><b>75.5</b> Global options</a></li>
<li class="chapter" data-level="75.6" data-path="rstudio.html"><a href="rstudio.html#keeping-organized-with-rstudio-projects"><i class="fa fa-check"></i><b>75.6</b> Keeping organized with RStudio projects</a></li>
<li class="chapter" data-level="75.7" data-path="rstudio.html"><a href="rstudio.html#using-git-and-github-in-rstudio"><i class="fa fa-check"></i><b>75.7</b> Using Git and GitHub in RStudio</a></li>
<li class="chapter" data-level="75.8" data-path="rstudio.html"><a href="rstudio.html#running-r-without-rstudio"><i class="fa fa-check"></i><b>75.8</b> Running R without RStudio</a></li>
</ul></li>
<li class="chapter" data-level="76" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html"><i class="fa fa-check"></i><b>76</b> Organizing with Unix</a><ul>
<li class="chapter" data-level="76.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#the-terminal"><i class="fa fa-check"></i><b>76.1</b> The terminal</a></li>
<li class="chapter" data-level="76.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#the-filesystem"><i class="fa fa-check"></i><b>76.2</b> The filesystem</a><ul>
<li class="chapter" data-level="76.2.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#directories-and-subdirectories"><i class="fa fa-check"></i><b>76.2.1</b> Directories and subdirectories</a></li>
<li class="chapter" data-level="76.2.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#the-home-directory"><i class="fa fa-check"></i><b>76.2.2</b> The home directory</a></li>
<li class="chapter" data-level="76.2.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#working-directory"><i class="fa fa-check"></i><b>76.2.3</b> Working directory</a></li>
<li class="chapter" data-level="76.2.4" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#paths"><i class="fa fa-check"></i><b>76.2.4</b> Paths</a></li>
</ul></li>
<li class="chapter" data-level="76.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#unix-commands"><i class="fa fa-check"></i><b>76.3</b> Unix commands</a><ul>
<li class="chapter" data-level="76.3.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#ls-listing-directory-content"><i class="fa fa-check"></i><b>76.3.1</b> <code>ls</code>: Listing directory content</a></li>
<li class="chapter" data-level="76.3.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#mkdir-and-rmdir-make-and-remove-a-directory"><i class="fa fa-check"></i><b>76.3.2</b> <code>mkdir</code> and <code>rmdir</code>: make and remove a directory</a></li>
<li class="chapter" data-level="76.3.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#cd-navigating-the-filesystem-by-changing-directories"><i class="fa fa-check"></i><b>76.3.3</b> <code>cd</code>: Navigating the filesystem by changing directories</a></li>
</ul></li>
<li class="chapter" data-level="76.4" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#some-examples"><i class="fa fa-check"></i><b>76.4</b> Some examples</a></li>
<li class="chapter" data-level="76.5" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#more-unix-commands"><i class="fa fa-check"></i><b>76.5</b> More Unix commands</a><ul>
<li class="chapter" data-level="76.5.1" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#mv-moving-files"><i class="fa fa-check"></i><b>76.5.1</b> <code>mv</code>: moving files</a></li>
<li class="chapter" data-level="76.5.2" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#cp-copying-files"><i class="fa fa-check"></i><b>76.5.2</b> <code>cp</code>: copying files</a></li>
<li class="chapter" data-level="76.5.3" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#rm-removing-files"><i class="fa fa-check"></i><b>76.5.3</b> <code>rm</code>: removing files</a></li>
<li class="chapter" data-level="76.5.4" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#less-looking-at-a-file"><i class="fa fa-check"></i><b>76.5.4</b> <code>less</code>: looking at a file</a></li>
</ul></li>
<li class="chapter" data-level="76.6" data-path="organizing-with-unix.html"><a href="organizing-with-unix.html#preparing-for-a-data-science-project"><i class="fa fa-check"></i><b>76.6</b> Preparing for a data science project</a></li>
</ul></li>
<li class="chapter" data-level="77" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>77</b> Git</a><ul>
<li class="chapter" data-level="77.1" data-path="git.html"><a href="git.html#why-use-git-and-github"><i class="fa fa-check"></i><b>77.1</b> Why use Git and GitHub?</a></li>
<li class="chapter" data-level="77.2" data-path="git.html"><a href="git.html#overview-of-git"><i class="fa fa-check"></i><b>77.2</b> Overview of Git</a><ul>
<li class="chapter" data-level="77.2.1" data-path="git.html"><a href="git.html#clone"><i class="fa fa-check"></i><b>77.2.1</b> Clone</a></li>
</ul></li>
<li class="chapter" data-level="77.3" data-path="git.html"><a href="git.html#initilazing-a-git-directory"><i class="fa fa-check"></i><b>77.3</b> Initilazing a Git directory</a></li>
</ul></li>
<li class="chapter" data-level="78" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html"><i class="fa fa-check"></i><b>78</b> Reproducible reports with R Markdown</a><ul>
<li class="chapter" data-level="78.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-markdown"><i class="fa fa-check"></i><b>78.1</b> R Markdown</a><ul>
<li class="chapter" data-level="78.1.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#the-header"><i class="fa fa-check"></i><b>78.1.1</b> The header</a></li>
<li class="chapter" data-level="78.1.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-code-chunks"><i class="fa fa-check"></i><b>78.1.2</b> R code chunks</a></li>
<li class="chapter" data-level="78.1.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#global-options-1"><i class="fa fa-check"></i><b>78.1.3</b> Global options</a></li>
</ul></li>
<li class="chapter" data-level="78.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#knitr"><i class="fa fa-check"></i><b>78.2</b> knitR</a></li>
<li class="chapter" data-level="78.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#more-on-r-markdown"><i class="fa fa-check"></i><b>78.3</b> More on R markdown</a></li>
</ul></li>
<li class="chapter" data-level="79" data-path="advanced-unix.html"><a href="advanced-unix.html"><i class="fa fa-check"></i><b>79</b> Advanced Unix</a><ul>
<li class="chapter" data-level="79.1" data-path="advanced-unix.html"><a href="advanced-unix.html#arguments"><i class="fa fa-check"></i><b>79.1</b> Arguments</a></li>
<li class="chapter" data-level="79.2" data-path="advanced-unix.html"><a href="advanced-unix.html#getting-help"><i class="fa fa-check"></i><b>79.2</b> Getting help</a></li>
<li class="chapter" data-level="79.3" data-path="advanced-unix.html"><a href="advanced-unix.html#pipes"><i class="fa fa-check"></i><b>79.3</b> Pipes</a></li>
<li class="chapter" data-level="79.4" data-path="advanced-unix.html"><a href="advanced-unix.html#wild-cards"><i class="fa fa-check"></i><b>79.4</b> Wild cards</a></li>
<li class="chapter" data-level="79.5" data-path="advanced-unix.html"><a href="advanced-unix.html#environment-variables"><i class="fa fa-check"></i><b>79.5</b> Environment variables</a></li>
<li class="chapter" data-level="79.6" data-path="advanced-unix.html"><a href="advanced-unix.html#shells"><i class="fa fa-check"></i><b>79.6</b> Shells</a></li>
<li class="chapter" data-level="79.7" data-path="advanced-unix.html"><a href="advanced-unix.html#executables"><i class="fa fa-check"></i><b>79.7</b> Executables</a></li>
<li class="chapter" data-level="79.8" data-path="advanced-unix.html"><a href="advanced-unix.html#permissions-and-file-types"><i class="fa fa-check"></i><b>79.8</b> Permissions and file types</a></li>
<li class="chapter" data-level="79.9" data-path="advanced-unix.html"><a href="advanced-unix.html#commands-you-should-learn"><i class="fa fa-check"></i><b>79.9</b> Commands you should learn</a></li>
<li class="chapter" data-level="79.10" data-path="advanced-unix.html"><a href="advanced-unix.html#file-manipulation-in-r"><i class="fa fa-check"></i><b>79.10</b> File manipulation in R</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-confusion-matrix-prevalence-sensitivity-and-specificity" class="section level1">
<h1><span class="header-section-number">Chapter 54</span> The confusion matrix, prevalence, sensitivity and specificity</h1>
<p>We start by briefly introducing the <strong>caret</strong> package, which has several useful functions for building and assessing machine learning methods.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(caret)</code></pre></div>
<p>Later in this chapter we provide more details on this package.</p>
<p>In this section, we focus on describing ways in which machine learning algorithms are evaluated. For our first introduction to machine learning concepts, we will start with a boring and simple example: how to predict sex using height. As we explain machine learning step by step, this example will let us set down the first building block. Soon enough, we will be attacking more interesting challenges.</p>
<p>For this first example, we use the height data in dslabs:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(heights)</code></pre></div>
<p>We start by defining the outcome and predictors. In this case, we have only one predictor:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span>heights<span class="op">$</span>sex
x &lt;-<span class="st"> </span>heights<span class="op">$</span>height</code></pre></div>
<p>This is clearly a categorical outcome since <span class="math inline">\(Y\)</span> can be <code>Male</code> or <code>Female</code> and we only have one predictor: height. We know that we will not be able to predict <span class="math inline">\(Y\)</span> very accurately based on <span class="math inline">\(X\)</span> because male and female average heights are not that different relative to within group variability. But can we do better than guessing? To answer this question, we need a quantitative definition of better.</p>
<div id="training-and-test-sets" class="section level2">
<h2><span class="header-section-number">54.1</span> Training and test sets</h2>
<p>Ultimately, a machine learning algorithm is evaluated on how it performs in the real world with completely new datasets. However, when developing an algorithm, we usually have a dataset for which we know the outcomes, as we do with the heights: we know the sex of every student in our dataset. Therefore, to mimic the ultimate evaluation process, we typically split the data into two and act as if we don’t know the outcome for one of these. We stop pretending we don’t know the outcome to evaluate the algorithm, but only <em>after</em> we are done constructing it. We refer to the group for which we know the outcome and use it to develop the algorithm as the <em>training</em> set, and the group for which we pretend we don’t know the outcome as the <em>test</em> set.</p>
<p>A standard way of generating the training and test sets is by randomly splitting the data. The <strong>caret</strong> package includes the function <code>createDataPartition</code> that helps us generates indexes for randomly splitting the data into training and test sets:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">2</span>)
test_index &lt;-<span class="st"> </span><span class="kw">createDataPartition</span>(y, <span class="dt">times =</span> <span class="dv">1</span>, <span class="dt">p =</span> <span class="fl">0.5</span>, <span class="dt">list =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>The argument <code>times</code> is used to define how many random samples of indexes to return, the argument <code>p</code> is used to define what proportion of the data is represented by the index, and the argument <code>list</code> is used to decide if we want the indexes returned as a list or not. We can use the result of the function call to define the training and test sets like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">test_set &lt;-<span class="st"> </span>heights[test_index, ]
train_set &lt;-<span class="st"> </span>heights[<span class="op">-</span>test_index, ]</code></pre></div>
<p>We will now develop an algorithm using <strong>only</strong> the training set. Once we are done developing the algorithm, we will <em>freeze</em> it and evaluate it using the test set. The simplest way to evaluate the algorithm when the outcomes are categorical is by simply reporting the proportion of cases that were correctly predicted <strong>in the test set</strong>. This metric is usually referred to as <em>overall accuracy</em>.</p>
</div>
<div id="overall-accuracy" class="section level2">
<h2><span class="header-section-number">54.2</span> Overall accuracy</h2>
<p>To demonstrate the use of overall accuracy, we will build two competing algorithms and compare them.</p>
<p>Let’s start by developing the simplest possible machine algorithm: guessing the outcome.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y_hat &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>), <span class="kw">length</span>(test_index), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Note that we are completely ignoring the predictor and simply guessing the sex.</p>
<p>In machine learning applications, it is useful to use factors to represent the categorical outcomes because R functions developed for machine learning, such as those in the <strong>caret</strong> package, require or recommend that categorical outcomes be coded as factors. So convert <code>y_hat</code> to factors using the <code>factor</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y_hat &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>), <span class="kw">length</span>(test_index), <span class="dt">replace =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">levels</span>(test_set<span class="op">$</span>sex))</code></pre></div>
<p>The <em>overall accuracy</em> is simply defined as the overall proportion that is predicted correctly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(y_hat <span class="op">==</span><span class="st"> </span>test_set<span class="op">$</span>sex)
<span class="co">#&gt; [1] 0.524</span></code></pre></div>
<p>Not surprisingly, our accuracy is about 50%. We are guessing!</p>
<p>Can we do better? Exploratory data analysis suggests we can because, on average, males are slightly taller than females:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="kw">mean</span>(height), <span class="kw">sd</span>(height))
<span class="co">#&gt; # A tibble: 2 x 3</span>
<span class="co">#&gt;   sex    `mean(height)` `sd(height)`</span>
<span class="co">#&gt;   &lt;fct&gt;           &lt;dbl&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Female           64.9         3.76</span>
<span class="co">#&gt; 2 Male             69.3         3.61</span></code></pre></div>
<p>But how do we make use of this insight? Let’s try another simple approach: predict <code>Male</code> if height is within two standard deviations from the average male:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">62</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">levels</span>(test_set<span class="op">$</span>sex))</code></pre></div>
<p>The accuracy goes up from 0.50 to about 0.80:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(y <span class="op">==</span><span class="st"> </span>y_hat)
<span class="co">#&gt; [1] 0.793</span></code></pre></div>
<p>But can we do even better? In the example above, we used a cutoff of 62, but we can examine the accuracy obtained for other cutoffs and then pick the value that provides the best results. But remember, <strong>it is important that we optimize the cutoff using only the training set</strong>: the test set is only for evaluation. Although for this simplistic example it is not much of a problem, later we will learn that evaluating an algorithm on the training set can lead to <em>overfitting</em>, which often results in dangerously over-optimistic assessments.</p>
<p>Here we examine the accuracy of 10 different cutoffs and pick the one yielding the best result:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cutoff &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">61</span>, <span class="dv">70</span>)
accuracy &lt;-<span class="st"> </span><span class="kw">map_dbl</span>(cutoff, <span class="cf">function</span>(x){
  y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(train_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>x, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">levels</span>(test_set<span class="op">$</span>sex))
  <span class="kw">mean</span>(y_hat <span class="op">==</span><span class="st"> </span>train_set<span class="op">$</span>sex)
})</code></pre></div>
<p>We can make a plot showing the accuracy obtained on the training set for males and females:</p>
<p><img src="book_files/figure-html/accuracy-vs-cutoff-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We see that the maximum value is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(accuracy)
<span class="co">#&gt; [1] 0.836</span></code></pre></div>
<p>which is much higher than 0.5. The cutoff resulting in this accuracy is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">best_cutoff &lt;-<span class="st"> </span>cutoff[<span class="kw">which.max</span>(accuracy)]
best_cutoff
<span class="co">#&gt; [1] 64</span></code></pre></div>
<p>Now we can now test this cutoff on our test set to make sure our accuracy is not overly optimistic:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(test_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>best_cutoff, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">levels</span>(test_set<span class="op">$</span>sex))
y_hat &lt;-<span class="st"> </span><span class="kw">factor</span>(y_hat)
<span class="kw">mean</span>(y_hat <span class="op">==</span><span class="st"> </span>test_set<span class="op">$</span>sex)
<span class="co">#&gt; [1] 0.817</span></code></pre></div>
<p>We see that it is a bit lower than the accuracy observed for the training set, but it is still better than guessing. And by testing on a dataset that we did not train on, we know it is not due to cherry-picking a good result.</p>
</div>
<div id="the-confusion-matrix" class="section level2">
<h2><span class="header-section-number">54.3</span> The confusion matrix</h2>
<p>The prediction rule we developed in the previous section predicts <code>Male</code> if the student is taller than 64 inches. Given that the average female is about 65 inches, this prediction rule seems wrong. What happened? If a student is the height of the average female, shouldn’t we predict <code>Female</code>?</p>
<p>Generally speaking, overall accuracy can be a deceptive measure. To see this, we will start by constructing what is referred to as the <em>confusion matrix</em>, which basically tabulates each combination of prediction and actual value. We can do this in R using the function <code>table</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(<span class="dt">predicted =</span> y_hat, <span class="dt">actual =</span> test_set<span class="op">$</span>sex)
<span class="co">#&gt;          actual</span>
<span class="co">#&gt; predicted Female Male</span>
<span class="co">#&gt;    Female     50   27</span>
<span class="co">#&gt;    Male       69  379</span></code></pre></div>
<p>If we study this table closely, it reveals a problem. If we compute the accuracy separately for each sex, we get:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">test_set <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">y_hat =</span> y_hat) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">accuracy =</span> <span class="kw">mean</span>(y_hat <span class="op">==</span><span class="st"> </span>sex))
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   sex    accuracy</span>
<span class="co">#&gt;   &lt;fct&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Female    0.420</span>
<span class="co">#&gt; 2 Male      0.933</span></code></pre></div>
<p>There is an imbalance in the accuracy for males and females: too many females are predicted to be male. We are calling almost half of the females, males! How can our overall accuracy be so high then? This is because the <em>prevalence</em> of males in this dataset is high. These heights were collected from three data sciences courses, two of which had more males enrolled:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">prev &lt;-<span class="st"> </span><span class="kw">mean</span>(y <span class="op">==</span><span class="st"> &quot;Male&quot;</span>)
prev
<span class="co">#&gt; [1] 0.773</span></code></pre></div>
<p>So when computing overall accuracy, the high percentage of mistakes made for females is outweighed by the gains in correct calls for men. <strong>This can actually be a big problem in machine learning.</strong> If your training data is biased in some way, you are likely to develop algorithms that are biased as well. The fact that we used a test set does not matter because it is also derived from the original, biased dataset. This is one of the reasons we look at metrics other than overall accuracy when evaluating a machine learning algorithm.</p>
<p>There are several metrics that we can use to evaluate an algorithm in a way that prevalence does not cloud our assessment, and these can all be derived from the confusion matrix. A general improvement to using overall accuracy is to study <em>sensitivity</em> and <em>specificity</em> separately.</p>
</div>
<div id="sensitivity-and-specificity" class="section level2">
<h2><span class="header-section-number">54.4</span> Sensitivity and specificity</h2>
<p>To define sensitivity and specificity, we need a binary outcome. When the outcomes are categorical, we can define these terms for a specific category. In the digits example, we can ask for the specificity in the case of correctly predicting 2 as opposed to some other digit. Once we specify a category of interest, then we can talk about positive outcomes, <span class="math inline">\(Y=1\)</span>, and negative outcomes, <span class="math inline">\(Y=0\)</span>.</p>
<p>In general, <em>sensitivity</em> is defined as the ability of an algorithm to predict a positive outcome when the actual outcome is positive: call <span class="math inline">\(\hat{Y}=1\)</span> whenever <span class="math inline">\(Y=1\)</span>. Because an algorithm that calls everything positive (<span class="math inline">\(\hat{Y}=1\)</span> no matter what) has perfect sensitivity, this metric on its own is not enough to judge an algorithm. For this reason, we also examine <em>specificity</em>, which is generally defined as the ability of an algorithm to not to predict a positive <span class="math inline">\(\hat{Y}=0\)</span> when the actual outcome is not a positive <span class="math inline">\(Y=0\)</span>. We can summarize in the following way:</p>
<ul>
<li>High sensitivity: <span class="math inline">\(Y=1 \implies \hat{Y}=1\)</span></li>
<li>High specificity: <span class="math inline">\(Y=0 \implies \hat{Y} = 0\)</span></li>
</ul>
<p>Another way to define specificity is by the proportion of positive calls that are actually positive:</p>
<ul>
<li>High specificity: <span class="math inline">\(\hat{Y}=1 \implies Y=1\)</span>.</li>
</ul>
<p>To provide a precise definition, we name the four entries of the confusion matrix:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">Actually Positive</th>
<th align="left">Actually Negative</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Predicted positve</td>
<td align="left">True positives (TP)</td>
<td align="left">False positives (FP)</td>
</tr>
<tr class="even">
<td>Predicted negative</td>
<td align="left">False negatives (FN)</td>
<td align="left">True negatives (TN)</td>
</tr>
</tbody>
</table>
<p>Sensitivity is typically quantified by <span class="math inline">\(TP/(TP+FN)\)</span>, or the proportion of actual positives (the first column or <span class="math inline">\(TP+FN\)</span>) that are called positives <code>TP</code>. This quantity is referred to as the <em>true positive rate</em> (TPR) or <em>recall</em>.</p>
<p>Specificity is typically quantified as <span class="math inline">\(TN/(TN+FP)\)</span> or the proportion of negatives (the second column or <span class="math inline">\(FP+TN\)</span>) that are called negatives <code>TN</code>. This quantity is also called the true negative rate (TNR). There is another way of quantifying specificity which is <span class="math inline">\(TP/(TP+FP)\)</span> or the proportion of outcomes called positives (the first row or <span class="math inline">\(TP+FP\)</span>) that are actually positives <span class="math inline">\(TP\)</span>. This quantity is referred to as <em>precision</em> and also as <em>positive predictive value (PPV)</em>. Note that, unlike TPR and TNR, precision depends on prevalence since higher prevalence implies you can get higher precision even when guessing.</p>
<p>The multiple names can be confusing, so we include a table to help us remember the terms. The table includes a column that shows the definition if we think of the proportions as probabilities.</p>
<table style="width:100%;">
<colgroup>
<col width="11%" />
<col width="27%" />
<col width="28%" />
<col width="10%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th>Measure of</th>
<th>Name 1</th>
<th>Name 2</th>
<th>Definition</th>
<th>Probability representation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Sensitivity</td>
<td>True Positive Rate (TPR)</td>
<td>Recall</td>
<td><span class="math inline">\(\frac{\mbox{TP}}{\mbox{TP} + \mbox{FN}}\)</span></td>
<td><span class="math inline">\(\mbox{Pr}(\hat{Y}=1 \mid Y=1)\)</span></td>
</tr>
<tr class="even">
<td>Specificity</td>
<td>True Negative Rate (TNR)</td>
<td>1 - False Postive Rate (1-FPR)</td>
<td><span class="math inline">\(\frac{\mbox{TN}}{\mbox{TN}+\mbox{FP}}\)</span></td>
<td><span class="math inline">\(\mbox{Pr}(\hat{Y}=0 \mid Y=0)\)</span></td>
</tr>
<tr class="odd">
<td>Specificity</td>
<td>Positive Predictive Value (PPV)</td>
<td>Precision</td>
<td><span class="math inline">\(\frac{\mbox{TP}}{\mbox{TP}+\mbox{FP}}\)</span></td>
<td><span class="math inline">\(\mbox{Pr}(Y=1 \mid \hat{Y}=1)\)</span></td>
</tr>
</tbody>
</table>
<p>The <strong>caret</strong> function <code>confusionMatrix</code> computes all these metrics for us once we define what a positive is. The function expects factors as input and the first level is considered the “positive” outcome or <span class="math inline">\(Y=1\)</span>. In our example, <code>Female</code> is the first level because it comes before <code>Male</code> alphabetically:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">confusionMatrix</span>(<span class="dt">data =</span> y_hat, <span class="dt">reference =</span> test_set<span class="op">$</span>sex)
<span class="co">#&gt; Confusion Matrix and Statistics</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           Reference</span>
<span class="co">#&gt; Prediction Female Male</span>
<span class="co">#&gt;     Female     50   27</span>
<span class="co">#&gt;     Male       69  379</span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;                Accuracy : 0.817         </span>
<span class="co">#&gt;                  95% CI : (0.781, 0.849)</span>
<span class="co">#&gt;     No Information Rate : 0.773         </span>
<span class="co">#&gt;     P-Value [Acc &gt; NIR] : 0.00835       </span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;                   Kappa : 0.404         </span>
<span class="co">#&gt;  Mcnemar&#39;s Test P-Value : 2.86e-05      </span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;             Sensitivity : 0.4202        </span>
<span class="co">#&gt;             Specificity : 0.9335        </span>
<span class="co">#&gt;          Pos Pred Value : 0.6494        </span>
<span class="co">#&gt;          Neg Pred Value : 0.8460        </span>
<span class="co">#&gt;              Prevalence : 0.2267        </span>
<span class="co">#&gt;          Detection Rate : 0.0952        </span>
<span class="co">#&gt;    Detection Prevalence : 0.1467        </span>
<span class="co">#&gt;       Balanced Accuracy : 0.6768        </span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;        &#39;Positive&#39; Class : Female        </span>
<span class="co">#&gt; </span></code></pre></div>
<p>We can see that the high overall accuracy is possible despite relatively low sensitivity. As we hinted at above, the reason this happens is because of the low prevalence (0.23): the proportion of females is low. Because prevalence is low, failing to predict actual females as females (low sensitivity) does not lower the accuracy as much as failing to predict actual males as males (low specificity). This is an example of why it is important to examine sensitivity and specificity and not just accuracy. Before applying this algorithm to general datasets, we need to ask ourselves if prevalence will be the same.</p>
</div>
<div id="balanced-accuracy-and-f_1-score" class="section level2">
<h2><span class="header-section-number">54.5</span> Balanced accuracy and <span class="math inline">\(F_1\)</span> score</h2>
<p>Although, we usually recommend studying both specificity and sensitivity, very often it is useful to have a one number summary, for example for optimization purposes. One metric that is preferred over overall accuracy is the average of specificity and sensitivity, referred to as <em>balanced accuracy</em>. Because specificity and sensitivity are rates, it is more appropriate to compute the <em>harmonic</em> average of specificity and sensitivity. In fact, the <em><span class="math inline">\(F_1\)</span>-score</em>, a widely used one number summary, is the harmonic average of precision and recall:</p>
<p><span class="math display">\[
\frac{1}{\frac{1}{2}\left(\frac{1}{\mbox{recall}} + 
    \frac{1}{\mbox{precision}}\right) }
\]</span></p>
<p>Because it is easier to write, you often see this harmonic average rewritten as:</p>
<p><span class="math display">\[
2\frac{\mbox{precision} \cdot \mbox{recall}}
{\mbox{precision} + \mbox{recall}}
\]</span></p>
<p>when defining <span class="math inline">\(F_1\)</span>.</p>
<p>Remember that, depending on the context, some type of errors are more costly than others. For example, in the case of plane safety, it is much more important to maximize sensitivity over specificity: failing to predict a plane will malfunction before it crashes is a much more costly error than grounding a plane when, in fact, the plane is in perfect condition. In a capital murder criminal case, the opposite is true since a false positive can lead to executing an innocent person. The <span class="math inline">\(F_1\)</span>-score can be adapted to weigh specificity and sensitivity differently. To do this, we define <span class="math inline">\(\beta\)</span> to represent how much more important sensitivity is compared to specificity and consider a weighted harmonic average:</p>
<p><span class="math display">\[
\frac{1}{\frac{\beta^2}{1+\beta^2}\frac{1}{\mbox{recall}} + 
    \frac{1}{1+\beta^2}\frac{1}{\mbox{precision}} }
\]</span></p>
<p>The <code>F_meas</code> function in the <strong>caret</strong> package computes this summary with <code>beta</code> defaulting to 1.</p>
<p>Let’s rebuild our prediction algorithm, but this time maximizing the F-score instead of overall accuracy:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cutoff &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">61</span>, <span class="dv">70</span>)
F_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">map_dbl</span>(cutoff, <span class="cf">function</span>(x){
  y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(train_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>x, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">levels</span>(test_set<span class="op">$</span>sex))
  <span class="kw">F_meas</span>(<span class="dt">data =</span> y_hat, <span class="dt">reference =</span> <span class="kw">factor</span>(train_set<span class="op">$</span>sex))
})</code></pre></div>
<p>As before, we can plot these <span class="math inline">\(F_1\)</span> measures versus the cutoffs:</p>
<p><img src="book_files/figure-html/f_1-vs-cutoff-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We see that it is maximized at <span class="math inline">\(F_1\)</span> value of:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(F_<span class="dv">1</span>)
<span class="co">#&gt; [1] 0.614</span></code></pre></div>
<p>when we use cutoff:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">best_cutoff &lt;-<span class="st"> </span>cutoff[<span class="kw">which.max</span>(F_<span class="dv">1</span>)]
best_cutoff
<span class="co">#&gt; [1] 66</span></code></pre></div>
<p>A cutoff of 66 makes much more sense than 64. Furthermore, it balances the specificity and sensitivity of our confusion matrix:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(test_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>best_cutoff, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">levels</span>(test_set<span class="op">$</span>sex))
<span class="kw">confusionMatrix</span>(<span class="dt">data =</span> y_hat, <span class="dt">reference =</span> test_set<span class="op">$</span>sex)
<span class="co">#&gt; Confusion Matrix and Statistics</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           Reference</span>
<span class="co">#&gt; Prediction Female Male</span>
<span class="co">#&gt;     Female     81   67</span>
<span class="co">#&gt;     Male       38  339</span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;                Accuracy : 0.8           </span>
<span class="co">#&gt;                  95% CI : (0.763, 0.833)</span>
<span class="co">#&gt;     No Information Rate : 0.773         </span>
<span class="co">#&gt;     P-Value [Acc &gt; NIR] : 0.07819       </span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;                   Kappa : 0.475         </span>
<span class="co">#&gt;  Mcnemar&#39;s Test P-Value : 0.00629       </span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;             Sensitivity : 0.681         </span>
<span class="co">#&gt;             Specificity : 0.835         </span>
<span class="co">#&gt;          Pos Pred Value : 0.547         </span>
<span class="co">#&gt;          Neg Pred Value : 0.899         </span>
<span class="co">#&gt;              Prevalence : 0.227         </span>
<span class="co">#&gt;          Detection Rate : 0.154         </span>
<span class="co">#&gt;    Detection Prevalence : 0.282         </span>
<span class="co">#&gt;       Balanced Accuracy : 0.758         </span>
<span class="co">#&gt;                                         </span>
<span class="co">#&gt;        &#39;Positive&#39; Class : Female        </span>
<span class="co">#&gt; </span></code></pre></div>
<p>We now see that we do much better than guessing, that both sensitivity and specificity are relatively high, and that we have built our first machine learning algorithm. It takes height as a predictor and predicts female, if you are 66 inches or shorter.</p>
</div>
<div id="prevalence-matters-in-practice" class="section level2">
<h2><span class="header-section-number">54.6</span> Prevalence matters in practice</h2>
<p>A machine learning algorithm with very high sensitivity and specificity may not be useful in practice when prevalence is close to either 0 or 1. To see this, consider the case of a doctor that specializes in a rare disease and is interested in developing an algorithm for predicting who has the disease. The doctor shares data with you and you then develop an algorithm with very high sensitivity. You explain that this means that if a patient has the disease, the algorithm is very likely to predict correctly. You also tell the doctor that you are also concerned because, based on the dataset you analyzed, 1/2 the patients have the disease: <span class="math inline">\(\mbox{Pr}(\hat{Y}=1)\)</span>. The doctor is neither concerned nor impressed and explains that what is important is the precision of the test: <span class="math inline">\(\mbox{Pr}(Y=1 | \hat{Y}=1)\)</span>. Using Bayes theorem, we can connect the two measures:</p>
<p><span class="math display">\[ \mbox{Pr}(Y \mid \hat{Y}=1) = \mbox{Pr}(\hat{Y}=1 \mid Y=1) \frac{\mbox{Pr}(Y=1)}{\mbox{Pr}(\hat{Y}=1)}\]</span></p>
<p>The doctor knows that the prevalence of the disease is 5 in 1000 which implies that <span class="math inline">\(\mbox{Pr}(Y=1) \, / \,\mbox{Pr}(\hat{Y}=1) = 1/100\)</span> and therefore the precision of your algorithm is less than 0.01. The doctor does not have much use for your algorithm.</p>
</div>
<div id="roc-and-precision-recall-curves" class="section level2">
<h2><span class="header-section-number">54.7</span> ROC and precision-recall curves</h2>
<p>When comparing the two methods: guessing versus using a height cutoff, we looked at accuracy and <span class="math inline">\(F_1\)</span>. The second method clearly outperformed. However, while we considered several cutoffs for the second method, for the first we only considered one approach: guessing with equal probability. Note that guessing <code>Male</code> with higher probability would give us higher accuracy due to the bias in the sample:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="fl">0.9</span>
y_hat &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>), <span class="kw">length</span>(test_index), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob=</span><span class="kw">c</span>(p, <span class="dv">1</span><span class="op">-</span>p)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">levels</span>(test_set<span class="op">$</span>sex))
<span class="kw">mean</span>(y_hat <span class="op">==</span><span class="st"> </span>test_set<span class="op">$</span>sex)
<span class="co">#&gt; [1] 0.718</span></code></pre></div>
<p>But, as described above, this would come at the cost of lower sensitivity. The curves we describe in this section will help us see this.</p>
<p>Remember that for each of these parameters, we can get a different sensitivity and specificity. For this reason, a very common approach to evaluating methods is to compare them graphically by plotting both.</p>
<p>A widely used plot that does this is the <em>receiver operating characteristic</em> (ROC) curve. If you are wondering where this name comes from, according to Wikipedia:</p>
<blockquote>
<blockquote>
<p>The ROC curve was first used during World War II for the analysis of radar signals before it was employed in signal detection theory.[35] Following the attack on Pearl Harbor in 1941, the United States army began new research to increase the prediction of correctly detected Japanese aircraft from their radar signals. For this purpose they measured the ability of radar receiver operators to make these important distinctions, which was called the Receiver Operating Characteristics.</p>
</blockquote>
</blockquote>
<p>The ROC curve plots sensitivity (TPR) versus 1 - specificity or the false positive rate (FPR). Here is an ROC curve for guessing sex but using different probabilities of guessing male:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">probs &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">length.out =</span> <span class="dv">10</span>)
guessing &lt;-<span class="st"> </span><span class="kw">map_df</span>(probs, <span class="cf">function</span>(p){
  y_hat &lt;-<span class="st"> </span>
<span class="st">    </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>), <span class="kw">length</span>(test_index), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob=</span><span class="kw">c</span>(p, <span class="dv">1</span><span class="op">-</span>p)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>))
  <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;Guessing&quot;</span>,
       <span class="dt">FPR =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">specificity</span>(y_hat, test_set<span class="op">$</span>sex),
       <span class="dt">TPR =</span> <span class="kw">sensitivity</span>(y_hat, test_set<span class="op">$</span>sex))
})
guessing <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">qplot</span>(FPR, TPR, <span class="dt">data =</span>., <span class="dt">xlab =</span> <span class="st">&quot;1 - Specificity&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Sensitivity&quot;</span>)</code></pre></div>
<p><img src="book_files/figure-html/roc-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>The ROC curve for guessing always looks like a straight line. A perfect algorithm would shoot straight to 1 and stay up there: perfect sensitivity for all values of specificity. So how does our second approach compare? We can construct an ROC curve for the height based approach:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cutoffs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">50</span>, <span class="kw">seq</span>(<span class="dv">60</span>, <span class="dv">75</span>), <span class="dv">80</span>)
height_cutoff &lt;-<span class="st"> </span><span class="kw">map_df</span>(cutoffs, <span class="cf">function</span>(x){
  y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(test_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>x, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>))
   <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;Height cutoff&quot;</span>,
        <span class="dt">FPR =</span> <span class="dv">1</span><span class="op">-</span><span class="kw">specificity</span>(y_hat, test_set<span class="op">$</span>sex),
        <span class="dt">TPR =</span> <span class="kw">sensitivity</span>(y_hat, test_set<span class="op">$</span>sex))
})</code></pre></div>
<p>By plotting both curves together we are able to compare sensitivity for different values of specificity:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">bind_rows</span>(guessing, height_cutoff) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(FPR, TPR, <span class="dt">color =</span> method)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;1 - Specificity&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Sensitivity&quot;</span>)</code></pre></div>
<p><img src="book_files/figure-html/roc-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We can see that we obtain higher sensitivity with this approach for all values of specificity, which implies it is in fact a better method.</p>
<p>When making ROC curves it is often nice to add the cutoff used to the points:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map_df</span>(cutoffs, <span class="cf">function</span>(x){
  y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(test_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>x, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>))
   <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;Height cutoff&quot;</span>,
        <span class="dt">cutoff =</span> x, 
        <span class="dt">FPR =</span> <span class="dv">1</span><span class="op">-</span><span class="kw">specificity</span>(y_hat, test_set<span class="op">$</span>sex),
        <span class="dt">TPR =</span> <span class="kw">sensitivity</span>(y_hat, test_set<span class="op">$</span>sex))
}) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(FPR, TPR, <span class="dt">label =</span> cutoff)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">nudge_y =</span> <span class="fl">0.01</span>)</code></pre></div>
<p><img src="book_files/figure-html/roc-3-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>ROC curves have one weakness and it is that neither of the measures plotted depend on prevalence. In cases in which prevalence matters, we may instead make a precision-recall plot. The idea is similar, but we instead plot precision against recall:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">guessing &lt;-<span class="st"> </span><span class="kw">map_df</span>(probs, <span class="cf">function</span>(p){
  y_hat &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>), <span class="kw">length</span>(test_index), 
                  <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob=</span><span class="kw">c</span>(p, <span class="dv">1</span><span class="op">-</span>p)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>))
  <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;Guess&quot;</span>,
    <span class="dt">recall =</span> <span class="kw">sensitivity</span>(y_hat, test_set<span class="op">$</span>sex),
    <span class="dt">precision =</span> <span class="kw">precision</span>(y_hat, test_set<span class="op">$</span>sex))
})

height_cutoff &lt;-<span class="st"> </span><span class="kw">map_df</span>(cutoffs, <span class="cf">function</span>(x){
  y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(test_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>x, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>))
  <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;Height cutoff&quot;</span>,
       <span class="dt">recall =</span> <span class="kw">sensitivity</span>(y_hat, test_set<span class="op">$</span>sex),
    <span class="dt">precision =</span> <span class="kw">precision</span>(y_hat, test_set<span class="op">$</span>sex))
})
<span class="kw">bind_rows</span>(guessing, height_cutoff) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(recall, precision, <span class="dt">color =</span> method)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="book_files/figure-html/precision-recall-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>From this plot we immediately see that the precision of guessing is not high. This is because the prevalence is low.</p>
<p>If we change positives to mean Male instead of Female, the ROC curve remains the same, but the precision recall plot changes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">guessing &lt;-<span class="st"> </span><span class="kw">map_df</span>(probs, <span class="cf">function</span>(p){
  y_hat &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>), <span class="kw">length</span>(test_index), <span class="dt">replace =</span> <span class="ot">TRUE</span>, 
                  <span class="dt">prob=</span><span class="kw">c</span>(p, <span class="dv">1</span><span class="op">-</span>p)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>))
  <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;Guess&quot;</span>,
    <span class="dt">recall =</span> <span class="kw">sensitivity</span>(y_hat, <span class="kw">relevel</span>(test_set<span class="op">$</span>sex, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>)),
    <span class="dt">precision =</span> <span class="kw">precision</span>(y_hat, <span class="kw">relevel</span>(test_set<span class="op">$</span>sex, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>)))
})

height_cutoff &lt;-<span class="st"> </span><span class="kw">map_df</span>(cutoffs, <span class="cf">function</span>(x){
  y_hat &lt;-<span class="st"> </span><span class="kw">ifelse</span>(test_set<span class="op">$</span>height <span class="op">&gt;</span><span class="st"> </span>x, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">factor</span>(<span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>))
  <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;Height cutoff&quot;</span>,
       <span class="dt">recall =</span> <span class="kw">sensitivity</span>(y_hat, <span class="kw">relevel</span>(test_set<span class="op">$</span>sex, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>)),
    <span class="dt">precision =</span> <span class="kw">precision</span>(y_hat, <span class="kw">relevel</span>(test_set<span class="op">$</span>sex, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>)))
})
<span class="kw">bind_rows</span>(guessing, height_cutoff) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(recall, precision, <span class="dt">color =</span> method)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="book_files/figure-html/precision-recall-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="exercises-41" class="section level2 unnumbered">
<h2>Exercises</h2>
<p>The <code>reported_height</code> and <code>height</code> datasets were collected from three classes taught in the Departments of Computer Science and Biostatistics, as well as remotely through the Extension School. The Biostatistics class was taught in 2016 along with an online version offered by the Extension School. On 2016-01-25 at 8:15 AM, during one of the lectures, the instructors asked students to fill in the sex and height questionnaire that populated the <code>reported_height</code> dataset. The online students filled the survey during the next few days, after the lecture was posted online. We can use this insight to define a variable, call it <code>type</code>, to denote the type of student: <code>inclass</code> or <code>online</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;reported_heights&quot;</span>)
<span class="kw">library</span>(lubridate)
dat &lt;-<span class="st"> </span><span class="kw">mutate</span>(reported_heights, <span class="dt">date_time =</span> <span class="kw">ymd_hms</span>(time_stamp)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(date_time <span class="op">&gt;=</span><span class="st"> </span><span class="kw">make_date</span>(<span class="dv">2016</span>, <span class="dv">01</span>, <span class="dv">25</span>) <span class="op">&amp;</span><span class="st"> </span>
<span class="st">           </span>date_time <span class="op">&lt;</span><span class="st"> </span><span class="kw">make_date</span>(<span class="dv">2016</span>, <span class="dv">02</span>, <span class="dv">1</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">type =</span> <span class="kw">ifelse</span>(<span class="kw">day</span>(date_time) <span class="op">==</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>
<span class="st">                         </span><span class="kw">hour</span>(date_time) <span class="op">==</span><span class="st"> </span><span class="dv">8</span> <span class="op">&amp;</span><span class="st"> </span><span class="kw">between</span>(<span class="kw">minute</span>(date_time), <span class="dv">15</span>, <span class="dv">30</span>),
                       <span class="st">&quot;inclass&quot;</span>, <span class="st">&quot;online&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(sex, type)

y &lt;-<span class="st"> </span><span class="kw">factor</span>(dat<span class="op">$</span>sex, <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>))
x &lt;-<span class="st"> </span>dat<span class="op">$</span>type</code></pre></div>
<ol style="list-style-type: decimal">
<li><p>Show summary statistics that indicate that the <code>type</code> is predictive of sex.</p></li>
<li><p>Instead of using height to predict sex, use the <code>type</code> variable.</p></li>
<li><p>Show the confusion matrix.</p></li>
<li><p>Use the <code>confusionMatrix</code> function in the <strong>caret</strong> package to report accuracy.</p></li>
<li><p>Now use the <code>sensitivity</code> and <code>specificity</code> functions to report specificity and sensitivity.</p></li>
<li><p>What is the prevalence (% of females) in the <code>dat</code> dataset defined above?</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-machine-learning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conditional-probabilities-and-expectations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dsbook/edit/master/ml/confusion-matrix.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
